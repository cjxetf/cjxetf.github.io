const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/VPAlgoliaSearchBox.ZWOYk3eo.js","assets/chunks/framework.Dp2GimK2.js"])))=>i.map(i=>d[i]);
import{d as O,c as w,r as x,n as ve,o as y,a as xe,t as se,b as B,w as L,T as ci,e as D,_ as H,u as _t,i as ks,f as bs,g as hi,h as G,j as T,k,l as kt,m as In,p as Le,q as Cs,s as bt,v as Ts,x as le,y as fi,z as je,A as tn,B as nn,C as Ct,D as $t,E as Ln,F as pr,G as ye,H as De,I as ft,J as F,K as qe,L as mr,M as et,N as di,O as rn,P as ws,Q as Es,R as Vt,S as yr,U as Ss,V as Ps,W as _r,X as kr,Y as sn,Z as xs,$ as Is,a0 as br,a1 as Ls,a2 as As,a3 as Ms,a4 as Cr,a5 as Ds,a6 as Os,a7 as Rs,a8 as Ns,a9 as Fs}from"./framework.Dp2GimK2.js";function gi(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}const Hs=O({__name:"VPBadge",props:{text:{},type:{default:"tip"}},setup(a){return(s,n)=>(y(),w("span",{class:ve(["VPBadge",a.type])},[x(s.$slots,"default",{},()=>[xe(se(a.text),1)])],2))}}),Bs={key:0,class:"VPBackdrop"},$s=O({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(a){return(s,n)=>(y(),B(ci,{name:"fade"},{default:L(()=>[a.show?(y(),w("div",Bs)):D("",!0)]),_:1}))}}),Vs=H($s,[["__scopeId","data-v-572c1b1d"]]),ae=_t;function Us(a,s){let n,t=!1;return()=>{n&&clearTimeout(n),t?n=setTimeout(a,s):(a(),(t=!0)&&setTimeout(()=>t=!1,s))}}function zi(a){return a.startsWith("/")?a:`/${a}`}function an(a){const{pathname:s,search:n,hash:t,protocol:e}=new URL(a,"http://a.com");if(ks(a)||a.startsWith("#")||!e.startsWith("http")||!bs(s))return a;const{site:i}=ae(),r=s.endsWith("/")||s.endsWith(".html")?a:a.replace(/(?:(^\.+)\/)?.*$/,`$1${s.replace(/(\.md)?$/,i.value.cleanUrls?"":".html")}${n}${t}`);return hi(r)}function Ut({correspondingLink:a=!1}={}){const{site:s,localeIndex:n,page:t,theme:e,hash:i}=ae(),r=G(()=>({label:s.value.locales[n.value]?.label,link:s.value.locales[n.value]?.link||(n.value==="root"?"/":`/${n.value}/`)}));return{localeLinks:G(()=>Object.entries(s.value.locales).flatMap(([l,u])=>r.value.label===u.label?[]:{text:u.label,link:zs(u.link||(l==="root"?"/":`/${l}/`),e.value.i18nRouting!==!1&&a,t.value.relativePath.slice(r.value.link.length-1),!s.value.cleanUrls)+i.value})),currentLang:r}}function zs(a,s,n,t){return s?a.replace(/\/$/,"")+zi(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,t?".html":"")):a}const js={class:"NotFound"},Ws={class:"code"},Gs={class:"title"},Ks={class:"quote"},Ys={class:"action"},Xs=["href","aria-label"],qs=O({__name:"NotFound",setup(a){const{theme:s}=ae(),{currentLang:n}=Ut();return(t,e)=>(y(),w("div",js,[T("p",Ws,se(k(s).notFound?.code??"404"),1),T("h1",Gs,se(k(s).notFound?.title??"PAGE NOT FOUND"),1),e[0]||(e[0]=T("div",{class:"divider"},null,-1)),T("blockquote",Ks,se(k(s).notFound?.quote??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),T("div",Ys,[T("a",{class:"link",href:k(hi)(k(s).notFound?.link??k(n).link),"aria-label":k(s).notFound?.linkLabel??"go to home"},se(k(s).notFound?.linkText??"Take me home"),9,Xs)])]))}}),Zs=H(qs,[["__scopeId","data-v-f624bd90"]]);function Tr(a,s){if(Array.isArray(a))return qt(a);if(a==null)return[];s=zi(s);const n=Object.keys(a).sort((e,i)=>i.split("/").length-e.split("/").length).find(e=>s.startsWith(zi(e))),t=n?a[n]:[];return Array.isArray(t)?qt(t):qt(t.items,t.base)}function Js(a){const s=[];let n=0;for(const t in a){const e=a[t];if(e.items){n=s.push(e);continue}s[n]||s.push({items:[]}),s[n].items.push(e)}return s}function Qs(a){const s=[];function n(t){for(const e of t)e.text&&e.link&&s.push({text:e.text,link:e.link,docFooterText:e.docFooterText}),e.items&&n(e.items)}return n(a),s}function ji(a,s){return Array.isArray(s)?s.some(n=>ji(a,n)):kt(a,s.link)?!0:s.items?ji(a,s.items):!1}function qt(a,s){return[...a].map(n=>{const t={...n},e=t.base||s;return e&&t.link&&(t.link=e+t.link.replace(/^\//,e.endsWith("/")?"":"/")),t.items&&(t.items=qt(t.items,e)),t})}function ea(){const{hasSidebar:a}=nt(),s=In("(min-width: 960px)"),n=In("(min-width: 1280px)");return{isAsideEnabled:G(()=>!n.value&&!s.value?!1:a.value?n.value:s.value)}}const ta=/\b(?:VPBadge|header-anchor|footnote-ref|ignore-header)\b/,Wi=[];function wr(a){return typeof a.outline=="object"&&!Array.isArray(a.outline)&&a.outline.label||a.outlineTitle||"On this page"}function ia(a){const s=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(n=>n.id&&n.hasChildNodes()).map(n=>{const t=Number(n.tagName[1]);return{element:n,title:na(n),link:"#"+n.id,level:t}});return ra(s,a)}function na(a){let s="";for(const n of a.childNodes)if(n.nodeType===1){if(ta.test(n.className))continue;s+=n.textContent}else n.nodeType===3&&(s+=n.textContent);return s.trim()}function ra(a,s){if(s===!1)return[];const n=(typeof s=="object"&&!Array.isArray(s)?s.level:s)||2,[t,e]=typeof n=="number"?[n,n]:n==="deep"?[2,6]:n;return oa(a,t,e)}function sa(a,s){const{isAsideEnabled:n}=ea(),t=Us(i,100);let e=null;Le(()=>{requestAnimationFrame(i),window.addEventListener("scroll",t)}),Cs(()=>{r(location.hash)}),bt(()=>{window.removeEventListener("scroll",t)});function i(){if(!n.value)return;const o=window.scrollY,l=window.innerHeight,u=document.body.offsetHeight,c=Math.abs(o+l-u)<1,h=Wi.map(({element:v,link:g})=>({link:g,top:aa(v)})).filter(({top:v})=>!Number.isNaN(v)).sort((v,g)=>v.top-g.top);if(!h.length){r(null);return}if(o<1){r(null);return}if(c){r(h[h.length-1].link);return}let d=null;for(const{link:v,top:g}of h){if(g>o+Ts()+4)break;d=v}r(d)}function r(o){e&&e.classList.remove("active"),o==null?e=null:e=a.value.querySelector(`a[href="${decodeURIComponent(o)}"]`);const l=e;l?(l.classList.add("active"),s.value.style.top=l.offsetTop+39+"px",s.value.style.opacity="1"):(s.value.style.top="33px",s.value.style.opacity="0")}}function aa(a){let s=0;for(;a!==document.body;){if(a===null)return NaN;s+=a.offsetTop,a=a.offsetParent}return s}function oa(a,s,n){Wi.length=0;const t=[],e=[];return a.forEach(i=>{const r={...i,children:[]};let o=e[e.length-1];for(;o&&o.level>=r.level;)e.pop(),o=e[e.length-1];if(r.element.classList.contains("ignore-header")||o&&"shouldIgnore"in o){e.push({level:r.level,shouldIgnore:!0});return}r.level>n||r.level<s||(Wi.push({element:r.element,link:r.link}),o?o.children.push(r):t.push(r),e.push(r))}),t}const Dt=le(!1);function la(a){let s;fi(()=>{s=Dt.value?document.activeElement:void 0}),Le(()=>{window.addEventListener("keyup",n)}),bt(()=>{window.removeEventListener("keyup",n)});function n(t){t.key==="Escape"&&Dt.value&&(a(),s?.focus())}}function ua(){function a(){Dt.value=!0}function s(){Dt.value=!1}function n(){Dt.value?s():a()}return{isOpen:Dt,open:a,close:s,toggle:n}}function ca(a){const{page:s,hash:n}=ae(),t=le(!1),e=G(()=>a.value.collapsed!=null),i=G(()=>!!a.value.link),r=le(!1),o=()=>{r.value=kt(s.value.relativePath,a.value.link)};je([s,a,n],o),Le(o);const l=G(()=>r.value?!0:a.value.items?ji(s.value.relativePath,a.value.items):!1),u=G(()=>!!(a.value.items&&a.value.items.length));fi(()=>{t.value=!!(e.value&&a.value.collapsed)}),tn(()=>{(r.value||l.value)&&(t.value=!1)});function c(){e.value&&(t.value=!t.value)}return{collapsed:t,collapsible:e,isLink:i,isActiveLink:r,hasActiveLink:l,hasChildren:u,toggle:c}}const Gi=nn([]),Ht=nn([]),Ki=nn(!1);function nt(){const{frontmatter:a,theme:s}=ae(),n=G(()=>!!(a.value.isHome??a.value.layout==="home")),t=G(()=>a.value.sidebar!==!1&&Ht.value.length>0&&!n.value),e=G(()=>t.value&&Ki.value),i=G(()=>t.value?Js(Ht.value):[]),r=G(()=>n.value?!1:a.value.aside!=null?!!a.value.aside:s.value.aside!==!1),o=G(()=>r.value?a.value.aside==null?s.value.aside==="left":a.value.aside==="left":!1),l=G(()=>Gi.value.length>0);return{isHome:n,sidebar:Ln(Ht),sidebarGroups:i,hasSidebar:t,isSidebarEnabled:e,hasAside:r,leftAside:o,headers:Ln(Gi),hasLocalNav:l}}function ha({closeSidebar:a}){const{frontmatter:s,page:n,theme:t}=ae();je(()=>[n.value.relativePath,t.value.sidebar],([i,r])=>{const o=r?Tr(r,i):[];JSON.stringify(o)!==JSON.stringify(Ht.value)&&(Ht.value=o)},{immediate:!0,deep:!0,flush:"sync"}),pr(()=>{Gi.value=ia(s.value.outline??t.value.outline)}),Ct&&(Ki.value=window.innerWidth>=960,window.addEventListener("resize",()=>{Ki.value=window.innerWidth>=960},{passive:!0}));const e=$t();je(()=>e.path,a),la(a)}const Er=Symbol("layout-info"),fa=["href","title"],da=O({__name:"VPDocOutlineItem",props:{headers:{},root:{type:Boolean}},setup(a){function s({target:n}){const t=n.href.split("#")[1];document.getElementById(decodeURIComponent(t))?.focus({preventScroll:!0})}return(n,t)=>{const e=ft("VPDocOutlineItem",!0);return y(),w("ul",{class:ve(["VPDocOutlineItem",a.root?"root":"nested"])},[(y(!0),w(ye,null,De(a.headers,({children:i,link:r,title:o})=>(y(),w("li",null,[T("a",{class:"outline-link",href:r,onClick:s,title:o},se(o),9,fa),i?.length?(y(),B(e,{key:0,headers:i},null,8,["headers"])):D("",!0)]))),256))],2)}}}),Sr=H(da,[["__scopeId","data-v-98fb6e60"]]),ga={class:"content"},va={"aria-level":"2",class:"outline-title",id:"doc-outline-aria-label",role:"heading"},pa=O({__name:"VPDocAsideOutline",setup(a){const{theme:s}=ae(),n=le(),t=le(),{headers:e,hasLocalNav:i}=nt();return sa(n,t),(r,o)=>(y(),w("nav",{"aria-labelledby":"doc-outline-aria-label",class:ve(["VPDocAsideOutline",{"has-outline":k(i)}]),ref_key:"container",ref:n},[T("div",ga,[T("div",{class:"outline-marker",ref_key:"marker",ref:t},null,512),T("div",va,se(k(wr)(k(s))),1),F(Sr,{headers:k(e),root:!0},null,8,["headers"])])],2))}}),ma=H(pa,[["__scopeId","data-v-f7ee2e54"]]),ya={class:"VPDocAsideCarbonAds"},_a=O({__name:"VPDocAsideCarbonAds",props:{carbonAds:{}},setup(a){const s=()=>null;return(n,t)=>(y(),w("div",ya,[F(k(s),{"carbon-ads":a.carbonAds},null,8,["carbon-ads"])]))}}),ka={class:"VPDocAside"},ba=O({__name:"VPDocAside",setup(a){const{theme:s}=ae();return(n,t)=>(y(),w("div",ka,[x(n.$slots,"aside-top",{},void 0,!0),x(n.$slots,"aside-outline-before",{},void 0,!0),F(ma),x(n.$slots,"aside-outline-after",{},void 0,!0),t[0]||(t[0]=T("div",{class:"spacer"},null,-1)),x(n.$slots,"aside-ads-before",{},void 0,!0),k(s).carbonAds?(y(),B(_a,{key:0,"carbon-ads":k(s).carbonAds},null,8,["carbon-ads"])):D("",!0),x(n.$slots,"aside-ads-after",{},void 0,!0),x(n.$slots,"aside-bottom",{},void 0,!0)]))}}),Ca=H(ba,[["__scopeId","data-v-150b161a"]]);function Ta(){const{theme:a,page:s}=ae();return G(()=>{const{text:n="Edit this page",pattern:t=""}=a.value.editLink||{};let e;return typeof t=="function"?e=t(s.value):e=t.replace(/:path/g,s.value.filePath),{url:e,text:n}})}function wa(){const{page:a,theme:s,frontmatter:n}=ae();return G(()=>{const t=Tr(s.value.sidebar,a.value.relativePath),e=Qs(t),i=Ea(e,u=>u.link.replace(/[?#].*$/,"")),r=i.findIndex(u=>kt(a.value.relativePath,u.link)),o=s.value.docFooter?.prev===!1&&!n.value.prev||n.value.prev===!1,l=s.value.docFooter?.next===!1&&!n.value.next||n.value.next===!1;return{prev:o?void 0:{text:(typeof n.value.prev=="string"?n.value.prev:typeof n.value.prev=="object"?n.value.prev.text:void 0)??i[r-1]?.docFooterText??i[r-1]?.text,link:(typeof n.value.prev=="object"?n.value.prev.link:void 0)??i[r-1]?.link},next:l?void 0:{text:(typeof n.value.next=="string"?n.value.next:typeof n.value.next=="object"?n.value.next.text:void 0)??i[r+1]?.docFooterText??i[r+1]?.text,link:(typeof n.value.next=="object"?n.value.next.link:void 0)??i[r+1]?.link}}})}function Ea(a,s){const n=new Set;return a.filter(t=>{const e=s(t);return n.has(e)?!1:n.add(e)})}const Ze=O({__name:"VPLink",props:{tag:{},href:{},noIcon:{type:Boolean},target:{},rel:{}},setup(a){const s=a,n=G(()=>s.tag??(s.href?"a":"span")),t=G(()=>s.href&&mr.test(s.href)||s.target==="_blank");return(e,i)=>(y(),B(qe(n.value),{class:ve(["VPLink",{link:a.href,"vp-external-link-icon":t.value,"no-icon":a.noIcon}]),href:a.href?k(an)(a.href):void 0,target:a.target??(t.value?"_blank":void 0),rel:a.rel??(t.value?"noreferrer":void 0)},{default:L(()=>[x(e.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),Sa={class:"VPLastUpdated"},Pa=["datetime"],xa=O({__name:"VPDocFooterLastUpdated",setup(a){const{theme:s,page:n,lang:t}=ae(),e=G(()=>new Date(n.value.lastUpdated)),i=G(()=>e.value.toISOString()),r=le("");return Le(()=>{fi(()=>{r.value=new Intl.DateTimeFormat(s.value.lastUpdated?.formatOptions?.forceLocale?t.value:void 0,s.value.lastUpdated?.formatOptions??{dateStyle:"short",timeStyle:"short"}).format(e.value)})}),(o,l)=>(y(),w("p",Sa,[xe(se(k(s).lastUpdated?.text||k(s).lastUpdatedText||"Last updated")+": ",1),T("time",{datetime:i.value},se(r.value),9,Pa)]))}}),Ia=H(xa,[["__scopeId","data-v-a5a95825"]]),La={key:0,class:"VPDocFooter"},Aa={key:0,class:"edit-info"},Ma={key:0,class:"edit-link"},Da={key:1,class:"last-updated"},Oa={key:1,class:"prev-next","aria-labelledby":"doc-footer-aria-label"},Ra={class:"pager"},Na=["innerHTML"],Fa=["innerHTML"],Ha={class:"pager"},Ba=["innerHTML"],$a=["innerHTML"],Va=O({__name:"VPDocFooter",setup(a){const{theme:s,page:n,frontmatter:t}=ae(),e=Ta(),i=wa(),r=G(()=>s.value.editLink&&t.value.editLink!==!1),o=G(()=>n.value.lastUpdated),l=G(()=>r.value||o.value||i.value.prev||i.value.next);return(u,c)=>l.value?(y(),w("footer",La,[x(u.$slots,"doc-footer-before",{},void 0,!0),r.value||o.value?(y(),w("div",Aa,[r.value?(y(),w("div",Ma,[F(Ze,{class:"edit-link-button",href:k(e).url,"no-icon":!0},{default:L(()=>[c[0]||(c[0]=T("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),xe(" "+se(k(e).text),1)]),_:1},8,["href"])])):D("",!0),o.value?(y(),w("div",Da,[F(Ia)])):D("",!0)])):D("",!0),k(i).prev?.link||k(i).next?.link?(y(),w("nav",Oa,[c[1]||(c[1]=T("span",{class:"visually-hidden",id:"doc-footer-aria-label"},"Pager",-1)),T("div",Ra,[k(i).prev?.link?(y(),B(Ze,{key:0,class:"pager-link prev",href:k(i).prev.link},{default:L(()=>[T("span",{class:"desc",innerHTML:k(s).docFooter?.prev||"Previous page"},null,8,Na),T("span",{class:"title",innerHTML:k(i).prev.text},null,8,Fa)]),_:1},8,["href"])):D("",!0)]),T("div",Ha,[k(i).next?.link?(y(),B(Ze,{key:0,class:"pager-link next",href:k(i).next.link},{default:L(()=>[T("span",{class:"desc",innerHTML:k(s).docFooter?.next||"Next page"},null,8,Ba),T("span",{class:"title",innerHTML:k(i).next.text},null,8,$a)]),_:1},8,["href"])):D("",!0)])])):D("",!0)])):D("",!0)}}),Ua=H(Va,[["__scopeId","data-v-08362570"]]),za={class:"container"},ja={class:"aside-container"},Wa={class:"aside-content"},Ga={class:"content"},Ka={class:"content-container"},Ya={class:"main"},Xa=O({__name:"VPDoc",setup(a){const{theme:s}=ae(),n=$t(),{hasSidebar:t,hasAside:e,leftAside:i}=nt(),r=G(()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(o,l)=>{const u=ft("Content");return y(),w("div",{class:ve(["VPDoc",{"has-sidebar":k(t),"has-aside":k(e)}])},[x(o.$slots,"doc-top",{},void 0,!0),T("div",za,[k(e)?(y(),w("div",{key:0,class:ve(["aside",{"left-aside":k(i)}])},[l[0]||(l[0]=T("div",{class:"aside-curtain"},null,-1)),T("div",ja,[T("div",Wa,[F(Ca,null,{"aside-top":L(()=>[x(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":L(()=>[x(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":L(()=>[x(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[x(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[x(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[x(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):D("",!0),T("div",Ga,[T("div",Ka,[x(o.$slots,"doc-before",{},void 0,!0),T("main",Ya,[F(u,{class:ve(["vp-doc",[r.value,k(s).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),F(Ua,null,{"doc-footer-before":L(()=>[x(o.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),x(o.$slots,"doc-after",{},void 0,!0)])])]),x(o.$slots,"doc-bottom",{},void 0,!0)],2)}}}),qa=H(Xa,[["__scopeId","data-v-33e67df5"]]),Za=O({__name:"VPButton",props:{tag:{},size:{default:"medium"},theme:{default:"brand"},text:{},href:{},target:{},rel:{}},setup(a){const s=a,n=G(()=>s.href&&mr.test(s.href)),t=G(()=>s.tag||(s.href?"a":"button"));return(e,i)=>(y(),B(qe(t.value),{class:ve(["VPButton",[a.size,a.theme]]),href:a.href?k(an)(a.href):void 0,target:s.target??(n.value?"_blank":void 0),rel:s.rel??(n.value?"noreferrer":void 0)},{default:L(()=>[x(e.$slots,"default",{},()=>[xe(se(a.text),1)],!0)]),_:3},8,["class","href","target","rel"]))}}),Ja=H(Za,[["__scopeId","data-v-ac3310ed"]]),Qa=["src","alt"],eo=O({inheritAttrs:!1,__name:"VPImage",props:{image:{},alt:{}},setup(a){return(s,n)=>{const t=ft("VPImage",!0);return a.image?(y(),w(ye,{key:0},[typeof a.image=="string"||"src"in a.image?(y(),w("img",et({key:0,class:"VPImage"},typeof a.image=="string"?s.$attrs:{...a.image,...s.$attrs},{src:k(hi)(typeof a.image=="string"?a.image:a.image.src),alt:a.alt??(typeof a.image=="string"?"":a.image.alt||"")}),null,16,Qa)):(y(),w(ye,{key:1},[F(t,et({class:"dark",image:a.image.dark,alt:a.image.alt},s.$attrs),null,16,["image","alt"]),F(t,et({class:"light",image:a.image.light,alt:a.image.alt},s.$attrs),null,16,["image","alt"])],64))],64)):D("",!0)}}}),Qt=H(eo,[["__scopeId","data-v-4ec9c543"]]),to={class:"container"},io={class:"main"},no={class:"heading"},ro=["innerHTML"],so=["innerHTML"],ao=["innerHTML"],oo={key:0,class:"actions"},lo={key:0,class:"image"},uo={class:"image-container"},co=O({__name:"VPHero",props:{name:{},text:{},tagline:{},image:{},actions:{}},setup(a){const{heroImageSlotExists:s}=di(Er);return(n,t)=>(y(),w("div",{class:ve(["VPHero",{"has-image":a.image||k(s)}])},[T("div",to,[T("div",io,[x(n.$slots,"home-hero-info-before",{},void 0,!0),x(n.$slots,"home-hero-info",{},()=>[T("h1",no,[a.name?(y(),w("span",{key:0,innerHTML:a.name,class:"name clip"},null,8,ro)):D("",!0),a.text?(y(),w("span",{key:1,innerHTML:a.text,class:"text"},null,8,so)):D("",!0)]),a.tagline?(y(),w("p",{key:0,innerHTML:a.tagline,class:"tagline"},null,8,ao)):D("",!0)],!0),x(n.$slots,"home-hero-info-after",{},void 0,!0),a.actions?(y(),w("div",oo,[(y(!0),w(ye,null,De(a.actions,e=>(y(),w("div",{key:e.link,class:"action"},[F(Ja,{tag:"a",size:"medium",theme:e.theme,text:e.text,href:e.link,target:e.target,rel:e.rel},null,8,["theme","text","href","target","rel"])]))),128))])):D("",!0),x(n.$slots,"home-hero-actions-after",{},void 0,!0)]),a.image||k(s)?(y(),w("div",lo,[T("div",uo,[t[0]||(t[0]=T("div",{class:"image-bg"},null,-1)),x(n.$slots,"home-hero-image",{},()=>[a.image?(y(),B(Qt,{key:0,class:"image-src",image:a.image},null,8,["image"])):D("",!0)],!0)])])):D("",!0)])],2))}}),ho=H(co,[["__scopeId","data-v-04dd54d9"]]),fo=O({__name:"VPHomeHero",setup(a){const{frontmatter:s}=ae();return(n,t)=>k(s).hero?(y(),B(ho,{key:0,class:"VPHomeHero",name:k(s).hero.name,text:k(s).hero.text,tagline:k(s).hero.tagline,image:k(s).hero.image,actions:k(s).hero.actions},{"home-hero-info-before":L(()=>[x(n.$slots,"home-hero-info-before")]),"home-hero-info":L(()=>[x(n.$slots,"home-hero-info")]),"home-hero-info-after":L(()=>[x(n.$slots,"home-hero-info-after")]),"home-hero-actions-after":L(()=>[x(n.$slots,"home-hero-actions-after")]),"home-hero-image":L(()=>[x(n.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):D("",!0)}}),go={class:"box"},vo={key:0,class:"icon"},po=["innerHTML"],mo=["innerHTML"],yo=["innerHTML"],_o={key:4,class:"link-text"},ko={class:"link-text-value"},bo=O({__name:"VPFeature",props:{icon:{},title:{},details:{},link:{},linkText:{},rel:{},target:{}},setup(a){return(s,n)=>(y(),B(Ze,{class:"VPFeature",href:a.link,rel:a.rel,target:a.target,"no-icon":!0,tag:a.link?"a":"div"},{default:L(()=>[T("article",go,[typeof a.icon=="object"&&a.icon.wrap?(y(),w("div",vo,[F(Qt,{image:a.icon,alt:a.icon.alt,height:a.icon.height||48,width:a.icon.width||48},null,8,["image","alt","height","width"])])):typeof a.icon=="object"?(y(),B(Qt,{key:1,image:a.icon,alt:a.icon.alt,height:a.icon.height||48,width:a.icon.width||48},null,8,["image","alt","height","width"])):a.icon?(y(),w("div",{key:2,class:"icon",innerHTML:a.icon},null,8,po)):D("",!0),T("h2",{class:"title",innerHTML:a.title},null,8,mo),a.details?(y(),w("p",{key:3,class:"details",innerHTML:a.details},null,8,yo)):D("",!0),a.linkText?(y(),w("div",_o,[T("p",ko,[xe(se(a.linkText)+" ",1),n[0]||(n[0]=T("span",{class:"vpi-arrow-right link-text-icon"},null,-1))])])):D("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),Co=H(bo,[["__scopeId","data-v-438eaca3"]]),To={key:0,class:"VPFeatures"},wo={class:"container"},Eo={class:"items"},So=O({__name:"VPFeatures",props:{features:{}},setup(a){const s=a,n=G(()=>{const t=s.features.length;if(t){if(t===2)return"grid-2";if(t===3)return"grid-3";if(t%3===0)return"grid-6";if(t>3)return"grid-4"}else return});return(t,e)=>a.features?(y(),w("div",To,[T("div",wo,[T("div",Eo,[(y(!0),w(ye,null,De(a.features,i=>(y(),w("div",{key:i.title,class:ve(["item",[n.value]])},[F(Co,{icon:i.icon,title:i.title,details:i.details,link:i.link,"link-text":i.linkText,rel:i.rel,target:i.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):D("",!0)}}),Po=H(So,[["__scopeId","data-v-244bad4f"]]),xo=O({__name:"VPHomeFeatures",setup(a){const{frontmatter:s}=ae();return(n,t)=>k(s).features?(y(),B(Po,{key:0,class:"VPHomeFeatures",features:k(s).features},null,8,["features"])):D("",!0)}}),Io=O({__name:"VPHomeContent",setup(a){const{width:s}=ws({initialWidth:0,includeScrollbar:!1});return(n,t)=>(y(),w("div",{class:"vp-doc container",style:rn(k(s)?{"--vp-offset":`calc(50% - ${k(s)/2}px)`}:{})},[x(n.$slots,"default",{},void 0,!0)],4))}}),Lo=H(Io,[["__scopeId","data-v-92dd9105"]]),Ao=O({__name:"VPHome",setup(a){const{frontmatter:s,theme:n}=ae();return(t,e)=>{const i=ft("Content");return y(),w("div",{class:ve(["VPHome",{"external-link-icon-enabled":k(n).externalLinkIcon}])},[x(t.$slots,"home-hero-before",{},void 0,!0),F(fo,null,{"home-hero-info-before":L(()=>[x(t.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[x(t.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[x(t.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[x(t.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[x(t.$slots,"home-hero-image",{},void 0,!0)]),_:3}),x(t.$slots,"home-hero-after",{},void 0,!0),x(t.$slots,"home-features-before",{},void 0,!0),F(xo),x(t.$slots,"home-features-after",{},void 0,!0),k(s).markdownStyles!==!1?(y(),B(Lo,{key:0},{default:L(()=>[F(i)]),_:1})):(y(),B(i,{key:1}))],2)}}}),Mo=H(Ao,[["__scopeId","data-v-5a014ab2"]]),Do={},Oo={class:"VPPage"};function Ro(a,s){const n=ft("Content");return y(),w("div",Oo,[x(a.$slots,"page-top"),F(n),x(a.$slots,"page-bottom")])}const No=H(Do,[["render",Ro]]),Fo=O({__name:"VPContent",setup(a){const{page:s,frontmatter:n}=ae(),{isHome:t,hasSidebar:e}=nt();return(i,r)=>(y(),w("div",{class:ve(["VPContent",{"has-sidebar":k(e),"is-home":k(t)}]),id:"VPContent"},[k(s).isNotFound?x(i.$slots,"not-found",{key:0},()=>[F(Zs)],!0):k(n).layout==="page"?(y(),B(No,{key:1},{"page-top":L(()=>[x(i.$slots,"page-top",{},void 0,!0)]),"page-bottom":L(()=>[x(i.$slots,"page-bottom",{},void 0,!0)]),_:3})):k(n).layout==="home"?(y(),B(Mo,{key:2},{"home-hero-before":L(()=>[x(i.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":L(()=>[x(i.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[x(i.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[x(i.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[x(i.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[x(i.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":L(()=>[x(i.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":L(()=>[x(i.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":L(()=>[x(i.$slots,"home-features-after",{},void 0,!0)]),_:3})):k(n).layout&&k(n).layout!=="doc"?(y(),B(qe(k(n).layout),{key:3})):(y(),B(qa,{key:4},{"doc-top":L(()=>[x(i.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":L(()=>[x(i.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":L(()=>[x(i.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":L(()=>[x(i.$slots,"doc-before",{},void 0,!0)]),"doc-after":L(()=>[x(i.$slots,"doc-after",{},void 0,!0)]),"aside-top":L(()=>[x(i.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":L(()=>[x(i.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[x(i.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[x(i.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[x(i.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":L(()=>[x(i.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),Ho=H(Fo,[["__scopeId","data-v-635eec0d"]]),Bo={class:"container"},$o=["innerHTML"],Vo=["innerHTML"],Uo=O({__name:"VPFooter",setup(a){const{theme:s,frontmatter:n}=ae(),{hasSidebar:t}=nt();return(e,i)=>k(s).footer&&k(n).footer!==!1?(y(),w("footer",{key:0,class:ve(["VPFooter",{"has-sidebar":k(t)}])},[T("div",Bo,[k(s).footer.message?(y(),w("p",{key:0,class:"message",innerHTML:k(s).footer.message},null,8,$o)):D("",!0),k(s).footer.copyright?(y(),w("p",{key:1,class:"copyright",innerHTML:k(s).footer.copyright},null,8,Vo)):D("",!0)])],2)):D("",!0)}}),zo=H(Uo,[["__scopeId","data-v-3219f7be"]]),jo={class:"menu-text"},Wo={class:"header"},Go={class:"outline"},Ko=O({__name:"VPLocalNavOutlineDropdown",props:{headers:{},navHeight:{}},setup(a){const s=a,{theme:n}=ae(),t=le(!1),e=le(0),i=le(),r=le();function o(h){i.value?.contains(h.target)||(t.value=!1)}je(t,h=>{if(h){document.addEventListener("click",o);return}document.removeEventListener("click",o)}),Es("Escape",()=>{t.value=!1}),pr(()=>{t.value=!1});function l(){t.value=!t.value,e.value=window.innerHeight+Math.min(window.scrollY-s.navHeight,0)}function u(h){h.target.classList.contains("outline-link")&&(r.value&&(r.value.style.transition="none"),Vt(()=>{t.value=!1}))}function c(){t.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(h,d)=>(y(),w("div",{class:"VPLocalNavOutlineDropdown",style:rn({"--vp-vh":e.value+"px"}),ref_key:"main",ref:i},[a.headers.length>0?(y(),w("button",{key:0,onClick:l,class:ve({open:t.value})},[T("span",jo,se(k(wr)(k(n))),1),d[0]||(d[0]=T("span",{class:"vpi-chevron-right icon"},null,-1))],2)):(y(),w("button",{key:1,onClick:c},se(k(n).returnToTopLabel||"Return to top"),1)),F(ci,{name:"flyout"},{default:L(()=>[t.value?(y(),w("div",{key:0,ref_key:"items",ref:r,class:"items",onClick:u},[T("div",Wo,[T("a",{class:"top-link",href:"#",onClick:c},se(k(n).returnToTopLabel||"Return to top"),1)]),T("div",Go,[F(Sr,{headers:a.headers},null,8,["headers"])])],512)):D("",!0)]),_:1})],4))}}),Yo=H(Ko,[["__scopeId","data-v-6eab22ab"]]),Xo={class:"container"},qo=["aria-expanded"],Zo={class:"menu-text"},Jo=O({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(a){const{theme:s}=ae(),{isHome:n,hasSidebar:t,headers:e,hasLocalNav:i}=nt(),{y:r}=yr(),o=le(0);Le(()=>{o.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))});const l=G(()=>({VPLocalNav:!0,"has-sidebar":t.value,empty:!i.value,fixed:!i.value&&!t.value}));return(u,c)=>!k(n)&&(k(i)||k(t)||k(r)>=o.value)?(y(),w("div",{key:0,class:ve(l.value)},[T("div",Xo,[k(t)?(y(),w("button",{key:0,class:"menu","aria-expanded":a.open,"aria-controls":"VPSidebarNav",onClick:c[0]||(c[0]=h=>u.$emit("open-menu"))},[c[1]||(c[1]=T("span",{class:"vpi-align-left menu-icon"},null,-1)),T("span",Zo,se(k(s).sidebarMenuLabel||"Menu"),1)],8,qo)):D("",!0),F(Yo,{headers:k(e),navHeight:o.value},null,8,["headers","navHeight"])])],2)):D("",!0)}}),Qo=H(Jo,[["__scopeId","data-v-da671a43"]]);function el(){const a=le(!1);function s(){a.value=!0,window.addEventListener("resize",e)}function n(){a.value=!1,window.removeEventListener("resize",e)}function t(){a.value?n():s()}function e(){window.outerWidth>=768&&n()}const i=$t();return je(()=>i.path,n),{isScreenOpen:a,openScreen:s,closeScreen:n,toggleScreen:t}}const on=Symbol("nav"),tl={},il={class:"VPSwitch",type:"button",role:"switch"},nl={class:"check"},rl={key:0,class:"icon"};function sl(a,s){return y(),w("button",il,[T("span",nl,[a.$slots.default?(y(),w("span",rl,[x(a.$slots,"default",{},void 0,!0)])):D("",!0)])])}const al=H(tl,[["render",sl],["__scopeId","data-v-d5933f56"]]),ol=O({__name:"VPSwitchAppearance",setup(a){const{isDark:s,theme:n}=ae(),t=di("toggle-appearance",()=>{s.value=!s.value}),e=le("");return tn(()=>{e.value=s.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme"}),(i,r)=>(y(),B(al,{title:e.value,class:"VPSwitchAppearance","aria-checked":k(s),onClick:k(t)},{default:L(()=>[...r[0]||(r[0]=[T("span",{class:"vpi-sun sun"},null,-1),T("span",{class:"vpi-moon moon"},null,-1)])]),_:1},8,["title","aria-checked","onClick"]))}}),ln=H(ol,[["__scopeId","data-v-58fd48ac"]]),ll={key:0,class:"VPNavBarAppearance"},ul=O({__name:"VPNavBarAppearance",setup(a){const{site:s}=ae();return(n,t)=>k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),w("div",ll,[F(ln)])):D("",!0)}}),cl=H(ul,[["__scopeId","data-v-943891ec"]]),un=le();let Pr=!1,Ci=0;function hl(a){const s=le(!1);if(Ct){!Pr&&fl(),Ci++;const n=je(un,t=>{t===a.el.value||a.el.value?.contains(t)?(s.value=!0,a.onFocus?.()):(s.value=!1,a.onBlur?.())});bt(()=>{n(),Ci--,Ci||dl()})}return Ss(s)}function fl(){document.addEventListener("focusin",xr),Pr=!0,un.value=document.activeElement}function dl(){document.removeEventListener("focusin",xr)}function xr(){un.value=document.activeElement}const gl={class:"VPMenuLink"},vl=["innerHTML"],pl=O({__name:"VPMenuLink",props:{item:{}},setup(a){const{page:s}=ae();return(n,t)=>(y(),w("div",gl,[F(Ze,{class:ve({active:k(kt)(k(s).relativePath,a.item.activeMatch||a.item.link,!!a.item.activeMatch)}),href:a.item.link,target:a.item.target,rel:a.item.rel,"no-icon":a.item.noIcon},{default:L(()=>[T("span",{innerHTML:a.item.text},null,8,vl)]),_:1},8,["class","href","target","rel","no-icon"])]))}}),vi=H(pl,[["__scopeId","data-v-f60f25d9"]]),ml={class:"VPMenuGroup"},yl={key:0,class:"title"},_l=O({__name:"VPMenuGroup",props:{text:{},items:{}},setup(a){return(s,n)=>(y(),w("div",ml,[a.text?(y(),w("p",yl,se(a.text),1)):D("",!0),(y(!0),w(ye,null,De(a.items,t=>(y(),w(ye,{key:JSON.stringify(t)},["link"in t?(y(),B(vi,{key:0,item:t},null,8,["item"])):D("",!0)],64))),128))]))}}),kl=H(_l,[["__scopeId","data-v-3c355c5e"]]),bl={class:"VPMenu"},Cl={key:0,class:"items"},Tl=O({__name:"VPMenu",props:{items:{}},setup(a){return(s,n)=>(y(),w("div",bl,[a.items?(y(),w("div",Cl,[(y(!0),w(ye,null,De(a.items,t=>(y(),w(ye,{key:JSON.stringify(t)},["link"in t?(y(),B(vi,{key:0,item:t},null,8,["item"])):"component"in t?(y(),B(qe(t.component),et({key:1,ref_for:!0},t.props),null,16)):(y(),B(kl,{key:2,text:t.text,items:t.items},null,8,["text","items"]))],64))),128))])):D("",!0),x(s.$slots,"default",{},void 0,!0)]))}}),wl=H(Tl,[["__scopeId","data-v-2991df47"]]),El=["aria-expanded","aria-label"],Sl={key:0,class:"text"},Pl=["innerHTML"],xl={key:1,class:"vpi-more-horizontal icon"},Il={class:"menu"},Ll=O({__name:"VPFlyout",props:{icon:{},button:{},label:{},items:{}},setup(a){const s=le(!1),n=le();hl({el:n,onBlur:t});function t(){s.value=!1}return(e,i)=>(y(),w("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:i[1]||(i[1]=r=>s.value=!0),onMouseleave:i[2]||(i[2]=r=>s.value=!1)},[T("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":s.value,"aria-label":a.label,onClick:i[0]||(i[0]=r=>s.value=!s.value)},[a.button||a.icon?(y(),w("span",Sl,[a.icon?(y(),w("span",{key:0,class:ve([a.icon,"option-icon"])},null,2)):D("",!0),a.button?(y(),w("span",{key:1,innerHTML:a.button},null,8,Pl)):D("",!0),i[3]||(i[3]=T("span",{class:"vpi-chevron-down text-icon"},null,-1))])):(y(),w("span",xl))],8,El),T("div",Il,[F(wl,{items:a.items},{default:L(()=>[x(e.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),cn=H(Ll,[["__scopeId","data-v-befe0f7c"]]),Al=["href","aria-label","rel","innerHTML"],Ml=O({__name:"VPSocialLink",props:{icon:{},link:{},ariaLabel:{},me:{type:Boolean}},setup(a){const s=a,n=le();Le(async()=>{await Vt();const e=n.value?.children[0];e instanceof HTMLElement&&e.className.startsWith("vpi-social-")&&(getComputedStyle(e).maskImage||getComputedStyle(e).webkitMaskImage)==="none"&&e.style.setProperty("--icon",`url('https://api.iconify.design/simple-icons/${s.icon}.svg')`)});const t=G(()=>typeof s.icon=="object"?s.icon.svg:`<span class="vpi-social-${s.icon}"></span>`);return(e,i)=>(y(),w("a",{ref_key:"el",ref:n,class:"VPSocialLink no-icon",href:a.link,"aria-label":a.ariaLabel??(typeof a.icon=="string"?a.icon:""),target:"_blank",rel:a.me?"me noopener":"noopener",innerHTML:t.value},null,8,Al))}}),Dl=H(Ml,[["__scopeId","data-v-601918d5"]]),Ol={class:"VPSocialLinks"},Rl=O({__name:"VPSocialLinks",props:{links:{},me:{type:Boolean,default:!0}},setup(a){return(s,n)=>(y(),w("div",Ol,[(y(!0),w(ye,null,De(a.links,({link:t,icon:e,ariaLabel:i})=>(y(),B(Dl,{key:t,icon:e,link:t,ariaLabel:i,me:a.me},null,8,["icon","link","ariaLabel","me"]))),128))]))}}),hn=H(Rl,[["__scopeId","data-v-67d3f336"]]),Nl={key:0,class:"group translations"},Fl={class:"trans-title"},Hl={key:1,class:"group"},Bl={class:"item appearance"},$l={class:"label"},Vl={class:"appearance-action"},Ul={key:2,class:"group"},zl={class:"item social-links"},jl=O({__name:"VPNavBarExtra",setup(a){const{site:s,theme:n}=ae(),{localeLinks:t,currentLang:e}=Ut({correspondingLink:!0}),i=G(()=>t.value.length&&e.value.label||s.value.appearance||n.value.socialLinks);return(r,o)=>i.value?(y(),B(cn,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:L(()=>[k(t).length&&k(e).label?(y(),w("div",Nl,[T("p",Fl,se(k(e).label),1),(y(!0),w(ye,null,De(k(t),l=>(y(),B(vi,{key:l.link,item:l},null,8,["item"]))),128))])):D("",!0),k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),w("div",Hl,[T("div",Bl,[T("p",$l,se(k(n).darkModeSwitchLabel||"Appearance"),1),T("div",Vl,[F(ln)])])])):D("",!0),k(n).socialLinks?(y(),w("div",Ul,[T("div",zl,[F(hn,{class:"social-links-list",links:k(n).socialLinks},null,8,["links"])])])):D("",!0)]),_:1})):D("",!0)}}),Wl=H(jl,[["__scopeId","data-v-32520f98"]]),Gl=["aria-expanded"],Kl=O({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(a){return(s,n)=>(y(),w("button",{type:"button",class:ve(["VPNavBarHamburger",{active:a.active}]),"aria-label":"mobile navigation","aria-expanded":a.active,"aria-controls":"VPNavScreen",onClick:n[0]||(n[0]=t=>s.$emit("click"))},[...n[1]||(n[1]=[T("span",{class:"container"},[T("span",{class:"top"}),T("span",{class:"middle"}),T("span",{class:"bottom"})],-1)])],10,Gl))}}),Yl=H(Kl,[["__scopeId","data-v-3bc943d6"]]),Xl=["innerHTML"],ql=O({__name:"VPNavBarMenuLink",props:{item:{}},setup(a){const{page:s}=ae();return(n,t)=>(y(),B(Ze,{class:ve({VPNavBarMenuLink:!0,active:k(kt)(k(s).relativePath,a.item.activeMatch||a.item.link,!!a.item.activeMatch)}),href:a.item.link,target:a.item.target,rel:a.item.rel,"no-icon":a.item.noIcon,tabindex:"0"},{default:L(()=>[T("span",{innerHTML:a.item.text},null,8,Xl)]),_:1},8,["class","href","target","rel","no-icon"]))}}),Zl=H(ql,[["__scopeId","data-v-e76675bf"]]),Jl=O({__name:"VPNavBarMenuGroup",props:{item:{}},setup(a){const s=a,{page:n}=ae(),t=i=>"component"in i?!1:"link"in i?kt(n.value.relativePath,i.link,!!s.item.activeMatch):i.items.some(t),e=G(()=>t(s.item));return(i,r)=>(y(),B(cn,{class:ve({VPNavBarMenuGroup:!0,active:k(kt)(k(n).relativePath,a.item.activeMatch,!!a.item.activeMatch)||e.value}),button:a.item.text,items:a.item.items},null,8,["class","button","items"]))}}),Ql={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},eu=O({__name:"VPNavBarMenu",setup(a){const{theme:s}=ae();return(n,t)=>k(s).nav?(y(),w("nav",Ql,[t[0]||(t[0]=T("span",{id:"main-nav-aria-label",class:"visually-hidden"}," Main Navigation ",-1)),(y(!0),w(ye,null,De(k(s).nav,e=>(y(),w(ye,{key:JSON.stringify(e)},["link"in e?(y(),B(Zl,{key:0,item:e},null,8,["item"])):"component"in e?(y(),B(qe(e.component),et({key:1,ref_for:!0},e.props),null,16)):(y(),B(Jl,{key:2,item:e},null,8,["item"]))],64))),128))])):D("",!0)}}),tu=H(eu,[["__scopeId","data-v-d83af3a4"]]);function iu(a){const{localeIndex:s,theme:n}=ae();function t(e){const i=e.split("."),r=n.value.search?.options,o=r&&typeof r=="object",l=o&&r.locales?.[s.value]?.translations||null,u=o&&r.translations||null;let c=l,h=u,d=a;const v=i.pop();for(const g of i){let p=null;const m=d?.[g];m&&(p=d=m);const E=h?.[g];E&&(p=h=E);const I=c?.[g];I&&(p=c=I),m||(d=p),E||(h=p),I||(c=p)}return c?.[v]??h?.[v]??d?.[v]??""}return t}const nu=["aria-label"],ru={class:"DocSearch-Button-Container"},su={class:"DocSearch-Button-Placeholder"},An=O({__name:"VPNavBarSearchButton",setup(a){const n=iu({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(t,e)=>(y(),w("button",{type:"button","aria-label":k(n)("button.buttonAriaLabel"),"aria-keyshortcuts":"/ control+k meta+k",class:"DocSearch DocSearch-Button"},[T("span",ru,[e[0]||(e[0]=T("span",{class:"vpi-search DocSearch-Search-Icon"},null,-1)),T("span",su,se(k(n)("button.buttonText")),1)]),e[1]||(e[1]=T("span",{class:"DocSearch-Button-Keys"},[T("kbd",{class:"DocSearch-Button-Key"}),T("kbd",{class:"DocSearch-Button-Key"})],-1))],8,nu))}}),au={class:"VPNavBarSearch"},ou={id:"local-search"},lu={key:1,id:"docsearch"},uu=O({__name:"VPNavBarSearch",setup(a){const s=()=>null,n=Ps(()=>_r(()=>import("./VPAlgoliaSearchBox.ZWOYk3eo.js"),__vite__mapDeps([0,1]))),{theme:t}=ae(),e=le(!1),i=le(!1),r=()=>{const d="VPAlgoliaPreconnect";(window.requestIdleCallback||setTimeout)(()=>{const g=document.createElement("link");g.id=d,g.rel="preconnect",g.href=`https://${(t.value.search?.options??t.value.algolia).appId}-dsn.algolia.net`,g.crossOrigin="",document.head.appendChild(g)})};Le(()=>{r();const d=g=>{(g.key?.toLowerCase()==="k"&&(g.metaKey||g.ctrlKey)||!u(g)&&g.key==="/")&&(g.preventDefault(),o(),v())},v=()=>{window.removeEventListener("keydown",d)};window.addEventListener("keydown",d),bt(v)});function o(){e.value||(e.value=!0,setTimeout(l,16))}function l(){const d=new Event("keydown");d.key="k",d.metaKey=!0,window.dispatchEvent(d),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||l()},16)}function u(d){const v=d.target,g=v.tagName;return v.isContentEditable||g==="INPUT"||g==="SELECT"||g==="TEXTAREA"}const c=le(!1),h="algolia";return(d,v)=>(y(),w("div",au,[k(h)==="local"?(y(),w(ye,{key:0},[c.value?(y(),B(k(s),{key:0,onClose:v[0]||(v[0]=g=>c.value=!1)})):D("",!0),T("div",ou,[F(An,{onClick:v[1]||(v[1]=g=>c.value=!0)})])],64)):k(h)==="algolia"?(y(),w(ye,{key:1},[e.value?(y(),B(k(n),{key:0,algolia:k(t).search?.options??k(t).algolia,onVnodeBeforeMount:v[2]||(v[2]=g=>i.value=!0)},null,8,["algolia"])):D("",!0),i.value?D("",!0):(y(),w("div",lu,[F(An,{onClick:o})]))],64)):D("",!0)]))}}),cu=O({__name:"VPNavBarSocialLinks",setup(a){const{theme:s}=ae();return(n,t)=>k(s).socialLinks?(y(),B(hn,{key:0,class:"VPNavBarSocialLinks",links:k(s).socialLinks},null,8,["links"])):D("",!0)}}),hu=H(cu,[["__scopeId","data-v-479cfa62"]]),fu=["href","rel","target"],du=["innerHTML"],gu={key:2},vu=O({__name:"VPNavBarTitle",setup(a){const{site:s,theme:n}=ae(),{hasSidebar:t}=nt(),{currentLang:e}=Ut(),i=G(()=>typeof n.value.logoLink=="string"?n.value.logoLink:n.value.logoLink?.link),r=G(()=>typeof n.value.logoLink=="string"?void 0:n.value.logoLink?.rel),o=G(()=>typeof n.value.logoLink=="string"?void 0:n.value.logoLink?.target);return(l,u)=>(y(),w("div",{class:ve(["VPNavBarTitle",{"has-sidebar":k(t)}])},[T("a",{class:"title",href:i.value??k(an)(k(e).link),rel:r.value,target:o.value},[x(l.$slots,"nav-bar-title-before",{},void 0,!0),k(n).logo?(y(),B(Qt,{key:0,class:"logo",image:k(n).logo},null,8,["image"])):D("",!0),k(n).siteTitle?(y(),w("span",{key:1,innerHTML:k(n).siteTitle},null,8,du)):k(n).siteTitle===void 0?(y(),w("span",gu,se(k(s).title),1)):D("",!0),x(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,fu)],2))}}),pu=H(vu,[["__scopeId","data-v-8def69e0"]]),mu={class:"items"},yu={class:"title"},_u=O({__name:"VPNavBarTranslations",setup(a){const{theme:s}=ae(),{localeLinks:n,currentLang:t}=Ut({correspondingLink:!0});return(e,i)=>k(n).length&&k(t).label?(y(),B(cn,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:k(s).langMenuLabel||"Change language"},{default:L(()=>[T("div",mu,[T("p",yu,se(k(t).label),1),(y(!0),w(ye,null,De(k(n),r=>(y(),B(vi,{key:r.link,item:r},null,8,["item"]))),128))])]),_:1},8,["label"])):D("",!0)}}),ku=H(_u,[["__scopeId","data-v-40d7254d"]]),bu={class:"wrapper"},Cu={class:"container"},Tu={class:"title"},wu={class:"content"},Eu={class:"content-body"},Su=O({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(a){const s=a,{y:n}=yr(),{isHome:t,hasSidebar:e}=nt(),i=le({});return tn(()=>{i.value={"has-sidebar":e.value,home:t.value,top:n.value===0,"screen-open":s.isScreenOpen}}),(r,o)=>(y(),w("div",{class:ve(["VPNavBar",i.value])},[T("div",bu,[T("div",Cu,[T("div",Tu,[F(pu,null,{"nav-bar-title-before":L(()=>[x(r.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[x(r.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),T("div",wu,[T("div",Eu,[x(r.$slots,"nav-bar-content-before",{},void 0,!0),F(uu,{class:"search"}),F(tu,{class:"menu"}),F(ku,{class:"translations"}),F(cl,{class:"appearance"}),F(hu,{class:"social-links"}),F(Wl,{class:"extra"}),x(r.$slots,"nav-bar-content-after",{},void 0,!0),F(Yl,{class:"hamburger",active:a.isScreenOpen,onClick:o[0]||(o[0]=l=>r.$emit("toggle-screen"))},null,8,["active"])])])])]),o[1]||(o[1]=T("div",{class:"divider"},[T("div",{class:"divider-line"})],-1))],2))}}),Pu=H(Su,[["__scopeId","data-v-6fc434f9"]]),xu={key:0,class:"VPNavScreenAppearance"},Iu={class:"text"},Lu=O({__name:"VPNavScreenAppearance",setup(a){const{site:s,theme:n}=ae();return(t,e)=>k(s).appearance&&k(s).appearance!=="force-dark"&&k(s).appearance!=="force-auto"?(y(),w("div",xu,[T("p",Iu,se(k(n).darkModeSwitchLabel||"Appearance"),1),F(ln)])):D("",!0)}}),Au=H(Lu,[["__scopeId","data-v-0bc28699"]]),Mu=["innerHTML"],Du=O({__name:"VPNavScreenMenuLink",props:{item:{}},setup(a){const{closeScreen:s}=di(on);return(n,t)=>(y(),B(Ze,{class:"VPNavScreenMenuLink",href:a.item.link,target:a.item.target,rel:a.item.rel,"no-icon":a.item.noIcon,onClick:k(s)},{default:L(()=>[T("span",{innerHTML:a.item.text},null,8,Mu)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Ou=H(Du,[["__scopeId","data-v-9ce6f1c4"]]),Ru=["innerHTML"],Nu=O({__name:"VPNavScreenMenuGroupLink",props:{item:{}},setup(a){const{closeScreen:s}=di(on);return(n,t)=>(y(),B(Ze,{class:"VPNavScreenMenuGroupLink",href:a.item.link,target:a.item.target,rel:a.item.rel,"no-icon":a.item.noIcon,onClick:k(s)},{default:L(()=>[T("span",{innerHTML:a.item.text},null,8,Ru)]),_:1},8,["href","target","rel","no-icon","onClick"]))}}),Ir=H(Nu,[["__scopeId","data-v-3a50d640"]]),Fu={class:"VPNavScreenMenuGroupSection"},Hu={key:0,class:"title"},Bu=O({__name:"VPNavScreenMenuGroupSection",props:{text:{},items:{}},setup(a){return(s,n)=>(y(),w("div",Fu,[a.text?(y(),w("p",Hu,se(a.text),1)):D("",!0),(y(!0),w(ye,null,De(a.items,t=>(y(),B(Ir,{key:t.text,item:t},null,8,["item"]))),128))]))}}),$u=H(Bu,[["__scopeId","data-v-3b063a01"]]),Vu=["aria-controls","aria-expanded"],Uu=["innerHTML"],zu=["id"],ju={key:0,class:"item"},Wu={key:1,class:"item"},Gu={key:2,class:"group"},Ku=O({__name:"VPNavScreenMenuGroup",props:{text:{},items:{}},setup(a){const s=a,n=le(!1),t=G(()=>`NavScreenGroup-${s.text.replace(" ","-").toLowerCase()}`);function e(){n.value=!n.value}return(i,r)=>(y(),w("div",{class:ve(["VPNavScreenMenuGroup",{open:n.value}])},[T("button",{class:"button","aria-controls":t.value,"aria-expanded":n.value,onClick:e},[T("span",{class:"button-text",innerHTML:a.text},null,8,Uu),r[0]||(r[0]=T("span",{class:"vpi-plus button-icon"},null,-1))],8,Vu),T("div",{id:t.value,class:"items"},[(y(!0),w(ye,null,De(a.items,o=>(y(),w(ye,{key:JSON.stringify(o)},["link"in o?(y(),w("div",ju,[F(Ir,{item:o},null,8,["item"])])):"component"in o?(y(),w("div",Wu,[(y(),B(qe(o.component),et({ref_for:!0},o.props,{"screen-menu":""}),null,16))])):(y(),w("div",Gu,[F($u,{text:o.text,items:o.items},null,8,["text","items"])]))],64))),128))],8,zu)],2))}}),Yu=H(Ku,[["__scopeId","data-v-e3d22454"]]),Xu={key:0,class:"VPNavScreenMenu"},qu=O({__name:"VPNavScreenMenu",setup(a){const{theme:s}=ae();return(n,t)=>k(s).nav?(y(),w("nav",Xu,[(y(!0),w(ye,null,De(k(s).nav,e=>(y(),w(ye,{key:JSON.stringify(e)},["link"in e?(y(),B(Ou,{key:0,item:e},null,8,["item"])):"component"in e?(y(),B(qe(e.component),et({key:1,ref_for:!0},e.props,{"screen-menu":""}),null,16)):(y(),B(Yu,{key:2,text:e.text||"",items:e.items},null,8,["text","items"]))],64))),128))])):D("",!0)}}),Zu=O({__name:"VPNavScreenSocialLinks",setup(a){const{theme:s}=ae();return(n,t)=>k(s).socialLinks?(y(),B(hn,{key:0,class:"VPNavScreenSocialLinks",links:k(s).socialLinks},null,8,["links"])):D("",!0)}}),Ju={class:"list"},Qu=O({__name:"VPNavScreenTranslations",setup(a){const{localeLinks:s,currentLang:n}=Ut({correspondingLink:!0}),t=le(!1);function e(){t.value=!t.value}return(i,r)=>k(s).length&&k(n).label?(y(),w("div",{key:0,class:ve(["VPNavScreenTranslations",{open:t.value}])},[T("button",{class:"title",onClick:e},[r[0]||(r[0]=T("span",{class:"vpi-languages icon lang"},null,-1)),xe(" "+se(k(n).label)+" ",1),r[1]||(r[1]=T("span",{class:"vpi-chevron-down icon chevron"},null,-1))]),T("ul",Ju,[(y(!0),w(ye,null,De(k(s),o=>(y(),w("li",{key:o.link,class:"item"},[F(Ze,{class:"link",href:o.link},{default:L(()=>[xe(se(o.text),1)]),_:2},1032,["href"])]))),128))])],2)):D("",!0)}}),ec=H(Qu,[["__scopeId","data-v-f732ddb9"]]),tc={class:"container"},ic=O({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(a){const s=le(null),n=kr(Ct?document.body:null);return(t,e)=>(y(),B(ci,{name:"fade",onEnter:e[0]||(e[0]=i=>n.value=!0),onAfterLeave:e[1]||(e[1]=i=>n.value=!1)},{default:L(()=>[a.open?(y(),w("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:s,id:"VPNavScreen"},[T("div",tc,[x(t.$slots,"nav-screen-content-before",{},void 0,!0),F(qu,{class:"menu"}),F(ec,{class:"translations"}),F(Au,{class:"appearance"}),F(Zu,{class:"social-links"}),x(t.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):D("",!0)]),_:3}))}}),nc=H(ic,[["__scopeId","data-v-4b9c69d6"]]),rc={key:0,class:"VPNav"},sc=O({__name:"VPNav",setup(a){const{isScreenOpen:s,closeScreen:n,toggleScreen:t}=el(),{frontmatter:e}=ae(),i=G(()=>e.value.navbar!==!1);return sn(on,{closeScreen:n}),fi(()=>{Ct&&document.documentElement.classList.toggle("hide-nav",!i.value)}),(r,o)=>i.value?(y(),w("header",rc,[F(Pu,{"is-screen-open":k(s),onToggleScreen:k(t)},{"nav-bar-title-before":L(()=>[x(r.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[x(r.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":L(()=>[x(r.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":L(()=>[x(r.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),F(nc,{open:k(s)},{"nav-screen-content-before":L(()=>[x(r.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":L(()=>[x(r.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):D("",!0)}}),ac=H(sc,[["__scopeId","data-v-68990f11"]]),oc=["role","tabindex"],lc={key:1,class:"items"},uc=O({__name:"VPSidebarItem",props:{item:{},depth:{}},setup(a){const s=a,{collapsed:n,collapsible:t,isLink:e,isActiveLink:i,hasActiveLink:r,hasChildren:o,toggle:l}=ca(G(()=>s.item)),u=G(()=>o.value?"section":"div"),c=G(()=>e.value?"a":"div"),h=G(()=>o.value?s.depth+2===7?"p":`h${s.depth+2}`:"p"),d=G(()=>e.value?void 0:"button"),v=G(()=>[[`level-${s.depth}`],{collapsible:t.value},{collapsed:n.value},{"is-link":e.value},{"is-active":i.value},{"has-active":r.value}]);function g(m){"key"in m&&m.key!=="Enter"||!s.item.link&&l()}function p(){s.item.link&&l()}return(m,E)=>{const I=ft("VPSidebarItem",!0);return y(),B(qe(u.value),{class:ve(["VPSidebarItem",v.value])},{default:L(()=>[a.item.text?(y(),w("div",et({key:0,class:"item",role:d.value},xs(a.item.items?{click:g,keydown:g}:{},!0),{tabindex:a.item.items&&0}),[E[1]||(E[1]=T("div",{class:"indicator"},null,-1)),a.item.link?(y(),B(Ze,{key:0,tag:c.value,class:"link",href:a.item.link,rel:a.item.rel,target:a.item.target},{default:L(()=>[(y(),B(qe(h.value),{class:"text",innerHTML:a.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(y(),B(qe(h.value),{key:1,class:"text",innerHTML:a.item.text},null,8,["innerHTML"])),a.item.collapsed!=null&&a.item.items&&a.item.items.length?(y(),w("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:p,onKeydown:Is(p,["enter"]),tabindex:"0"},[...E[0]||(E[0]=[T("span",{class:"vpi-chevron-right caret-icon"},null,-1)])],32)):D("",!0)],16,oc)):D("",!0),a.item.items&&a.item.items.length?(y(),w("div",lc,[a.depth<5?(y(!0),w(ye,{key:0},De(a.item.items,P=>(y(),B(I,{key:P.text,item:P,depth:a.depth+1},null,8,["item","depth"]))),128)):D("",!0)])):D("",!0)]),_:1},8,["class"])}}}),cc=H(uc,[["__scopeId","data-v-eeb8d3df"]]),hc=O({__name:"VPSidebarGroup",props:{items:{}},setup(a){const s=le(!0);let n=null;return Le(()=>{n=setTimeout(()=>{n=null,s.value=!1},300)}),br(()=>{n!=null&&(clearTimeout(n),n=null)}),(t,e)=>(y(!0),w(ye,null,De(a.items,i=>(y(),w("div",{key:i.text,class:ve(["group",{"no-transition":s.value}])},[F(cc,{item:i,depth:0},null,8,["item"])],2))),128))}}),fc=H(hc,[["__scopeId","data-v-ec7ff2aa"]]),dc={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},gc=O({__name:"VPSidebar",props:{open:{type:Boolean}},setup(a){const{sidebarGroups:s,hasSidebar:n}=nt(),t=a,e=le(null),i=kr(Ct?document.body:null);je([t,e],()=>{t.open?(i.value=!0,e.value?.focus()):i.value=!1},{immediate:!0,flush:"post"});const r=le(0);return je(s,()=>{r.value+=1},{deep:!0}),(o,l)=>k(n)?(y(),w("aside",{key:0,class:ve(["VPSidebar",{open:a.open}]),ref_key:"navEl",ref:e,onClick:l[0]||(l[0]=Ls(()=>{},["stop"]))},[l[2]||(l[2]=T("div",{class:"curtain"},null,-1)),T("nav",dc,[l[1]||(l[1]=T("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),x(o.$slots,"sidebar-nav-before",{},void 0,!0),(y(),B(fc,{items:k(s),key:r.value},null,8,["items"])),x(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):D("",!0)}}),vc=H(gc,[["__scopeId","data-v-8658cb5b"]]),pc=O({__name:"VPSkipLink",setup(a){const{theme:s}=ae(),n=$t(),t=le();je(()=>n.path,()=>t.value.focus());function e({target:i}){const r=document.getElementById(decodeURIComponent(i.hash).slice(1));if(r){const o=()=>{r.removeAttribute("tabindex"),r.removeEventListener("blur",o)};r.setAttribute("tabindex","-1"),r.addEventListener("blur",o),r.focus(),window.scrollTo(0,0)}}return(i,r)=>(y(),w(ye,null,[T("span",{ref_key:"backToTop",ref:t,tabindex:"-1"},null,512),T("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:e},se(k(s).skipToContentLabel||"Skip to content"),1)],64))}}),mc=H(pc,[["__scopeId","data-v-89a81338"]]),yc=O({__name:"Layout",setup(a){const{isOpen:s,open:n,close:t}=ua();ha({closeSidebar:t});const{frontmatter:e}=ae(),i=As(),r=G(()=>!!i["home-hero-image"]);return sn(Er,{heroImageSlotExists:r}),(o,l)=>{const u=ft("Content");return k(e).layout!==!1?(y(),w("div",{key:0,class:ve(["Layout",k(e).pageClass])},[x(o.$slots,"layout-top",{},void 0,!0),F(mc),F(Vs,{class:"backdrop",show:k(s),onClick:k(t)},null,8,["show","onClick"]),F(ac,null,{"nav-bar-title-before":L(()=>[x(o.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":L(()=>[x(o.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":L(()=>[x(o.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":L(()=>[x(o.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":L(()=>[x(o.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":L(()=>[x(o.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),F(Qo,{open:k(s),onOpenMenu:k(n)},null,8,["open","onOpenMenu"]),F(vc,{open:k(s)},{"sidebar-nav-before":L(()=>[x(o.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":L(()=>[x(o.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),F(Ho,null,{"page-top":L(()=>[x(o.$slots,"page-top",{},void 0,!0)]),"page-bottom":L(()=>[x(o.$slots,"page-bottom",{},void 0,!0)]),"not-found":L(()=>[x(o.$slots,"not-found",{},void 0,!0)]),"home-hero-before":L(()=>[x(o.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":L(()=>[x(o.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":L(()=>[x(o.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":L(()=>[x(o.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":L(()=>[x(o.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":L(()=>[x(o.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":L(()=>[x(o.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":L(()=>[x(o.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":L(()=>[x(o.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":L(()=>[x(o.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":L(()=>[x(o.$slots,"doc-before",{},void 0,!0)]),"doc-after":L(()=>[x(o.$slots,"doc-after",{},void 0,!0)]),"doc-top":L(()=>[x(o.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":L(()=>[x(o.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":L(()=>[x(o.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":L(()=>[x(o.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":L(()=>[x(o.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":L(()=>[x(o.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":L(()=>[x(o.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":L(()=>[x(o.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),F(zo),x(o.$slots,"layout-bottom",{},void 0,!0)],2)):(y(),B(u,{key:1}))}}}),_c=H(yc,[["__scopeId","data-v-50788106"]]),Lr={Layout:_c,enhanceApp:({app:a})=>{a.component("Badge",Hs)}},kc=["id","host","repo","repoid","category","categoryid","mapping","term","strict","reactionsenabled","emitmetadata","inputposition","theme","lang","loading"],bc=O({__name:"Giscus",props:{id:{},host:{},repo:{},repoId:{},category:{},categoryId:{},mapping:{},term:{},theme:{},strict:{},reactionsEnabled:{},emitMetadata:{},inputPosition:{},lang:{},loading:{}},setup(a){const s=le(!1);return Le(()=>{s.value=!0,_r(()=>import("./giscus-aTimukGI.9098KTQS.js"),[])}),(n,t)=>s.value?(y(),w("giscus-widget",{key:0,id:n.id,host:n.host,repo:n.repo,repoid:n.repoId,category:n.category,categoryid:n.categoryId,mapping:n.mapping,term:n.term,strict:n.strict,reactionsenabled:n.reactionsEnabled,emitmetadata:n.emitMetadata,inputposition:n.inputPosition,theme:n.theme,lang:n.lang,loading:n.loading},null,8,kc)):D("",!0)}}),Mn=(a,s,n=!0)=>{const t={id:"comment",host:"https://giscus.app",category:"General",mapping:"pathname",term:"Welcome to giscus!",reactionsEnabled:"1",inputPosition:"top",lang:"zh-CN",loading:"lazy",repo:"xxx/xxx",repoId:"",homePageShowComment:!1};if(a.locales){const c=document.querySelector("html").getAttribute("lang");c&&a.locales[c]&&(a.lang=a.locales[c])}const e=a.lightTheme||"light",i=a.darkTheme||"transparent_dark";let r=document.getElementById("giscus");if(r&&r.parentNode.removeChild(r),s?.value.comment!==void 0){if(!s?.value.comment)return}else if(!n)return;if(!a.homePageShowComment&&(!location.pathname||location.pathname==="/"))return;const o=document.querySelector("html")?.className.indexOf("dark")!==-1,l=document.getElementsByClassName("content-container")[0];if(l){const u=document.createElement("div");u.setAttribute("id","giscus"),u.style.height="auto",u.style.marginTop="40px",u.style.borderTop="1px solid var(--vp-c-divider)",u.style.paddingTop="20px",l.append(u),Ms({render:()=>Cr(bc,{...t,theme:o?i:e,...a})}).mount("#giscus")}},Cc=a=>{const s=document.querySelector("html"),n=a.lightTheme||"light",t=a.darkTheme||"transparent_dark";new MutationObserver(i=>{i.forEach(r=>{r.type=="attributes"&&document.getElementById("comment")?.setAttribute("theme",s.className.indexOf("dark")!==-1?t:n)})}).observe(s,{attributeFilter:["class"]})},Tc=(a,s,n=!0)=>{Le(()=>{Mn(a,s.frontmatter,n),Cc(a)}),je(()=>s.route.path,()=>Vt(()=>{Mn(a,s.frontmatter,n)}))};var Ti,Dn;function wc(){if(Dn)return Ti;Dn=1;var a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,t=Object.prototype.hasOwnProperty,e=(p,m)=>{for(var E in m)a(p,E,{get:m[E],enumerable:!0})},i=(p,m,E,I)=>{if(m&&typeof m=="object"||typeof m=="function")for(let P of n(m))!t.call(p,P)&&P!==E&&a(p,P,{get:()=>m[P],enumerable:!(I=s(m,P))||I.enumerable});return p},r=p=>i(a({},"__esModule",{value:!0}),p),o={};e(o,{NProgress:()=>g}),Ti=r(o);function l(p,m,E){return Math.max(m,Math.min(p,E))}function u(p,m){return m==="rtl"?(1-p)*100:(-1+p)*100}function c(p,m,E){if(typeof m!="string"){for(const I in m)if(m.hasOwnProperty(I)){const P=m[I];P!==void 0&&(p.style[I]=P)}}}function h(p,m){p.classList.add(m)}function d(p,m){p.classList.remove(m)}function v(p){p&&p.parentNode&&p.parentNode.removeChild(p)}var g=class{static settings={minimum:.08,maximum:1,template:`<div class="bar" role="bar"><div class="peg"></div></div>
               <div class="spinner" role="spinner"><div class="spinner-icon"></div></div>`,easing:"linear",positionUsing:"",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",direction:"ltr"};static status=null;static pending=[];static isPaused=!1;static configure(p){return Object.assign(this.settings,p),this}static isStarted(){return typeof this.status=="number"}static set(p){if(this.isPaused)return this;const m=this.isStarted();p=l(p,this.settings.minimum,this.settings.maximum),this.status=p===this.settings.maximum?null:p;const E=this.render(!m),I=this.settings.speed,P=this.settings.easing;return E.forEach($=>$.offsetWidth),this.queue($=>{E.forEach(N=>{const ce=N.querySelector(this.settings.barSelector);c(ce,this.barPositionCSS({n:p,speed:I,ease:P}))}),p===this.settings.maximum?(E.forEach(N=>{c(N,{transition:"none",opacity:"1"}),N.offsetWidth}),setTimeout(()=>{E.forEach(N=>{c(N,{transition:`all ${I}ms ${P}`,opacity:"0"})}),setTimeout(()=>{E.forEach(N=>{this.remove(N),this.settings.template===null&&c(N,{transition:"none",opacity:"1"})}),$()},I)},I)):setTimeout($,I)}),this}static start(){this.status||this.set(0);const p=()=>{this.isPaused||setTimeout(()=>{this.status&&(this.trickle(),p())},this.settings.trickleSpeed)};return this.settings.trickle&&p(),this}static done(p){return!p&&!this.status?this:this.inc(.3+.5*Math.random()).set(1)}static inc(p){if(this.isPaused)return this;let m=this.status;return m?m>1?this:(typeof p!="number"&&(m>=0&&m<.2?p=.1:m>=.2&&m<.5?p=.04:m>=.5&&m<.8?p=.02:m>=.8&&m<.99?p=.005:p=0),m=l(m+p,0,.994),this.set(m)):this.start()}static trickle(){return this.isPaused?this:this.inc()}static promise(p){if(!p||p.state()==="resolved")return this;let m=0,E=0;return E===0&&this.start(),m++,E++,p.always(()=>{E--,E===0?(m=0,this.done()):this.set((m-E)/m)}),this}static render(p=!1){const m=typeof this.settings.parent=="string"?document.querySelector(this.settings.parent):this.settings.parent;let E=m?Array.from(m.querySelectorAll(".nprogress")):[];if(this.settings.template!==null&&E.length===0){h(document.documentElement,"nprogress-busy");const I=document.createElement("div");h(I,"nprogress"),I.innerHTML=this.settings.template,m!==document.body&&h(m,"nprogress-custom-parent"),m.appendChild(I),E.push(I)}return E.forEach(I=>{this.settings.template===null&&(I.style.display=""),h(document.documentElement,"nprogress-busy"),m!==document.body&&h(m,"nprogress-custom-parent");const P=I.querySelector(this.settings.barSelector),$=p?u(0,this.settings.direction):u(this.status||0,this.settings.direction);if(c(P,this.barPositionCSS({n:this.status||0,speed:this.settings.speed,ease:this.settings.easing,perc:$})),!this.settings.showSpinner){const N=I.querySelector(this.settings.spinnerSelector);N&&v(N)}}),E}static remove(p){p?this.settings.template===null?p.style.display="none":v(p):(d(document.documentElement,"nprogress-busy"),(typeof this.settings.parent=="string"?document.querySelectorAll(this.settings.parent):[this.settings.parent]).forEach(I=>{d(I,"nprogress-custom-parent")}),document.querySelectorAll(".nprogress").forEach(I=>{const P=I;this.settings.template===null?P.style.display="none":v(P)}))}static pause(){return this.isPaused=!0,this}static resume(){return this.isPaused=!1,this}static isRendered(){return document.querySelectorAll(".nprogress").length>0}static getPositioningCSS(){const p=document.body.style,m="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return`${m}Perspective`in p?"translate3d":`${m}Transform`in p?"translate":"margin"}static queue(p){this.pending.push(p),this.pending.length===1&&this.next()}static next(){const p=this.pending.shift();p&&p(this.next.bind(this))}static initPositionUsing(){this.settings.positionUsing===""&&(this.settings.positionUsing=this.getPositioningCSS())}static barPositionCSS({n:p,speed:m,ease:E,perc:I}){this.initPositionUsing();let P={};const $=I??u(p,this.settings.direction);return this.settings.positionUsing==="translate3d"?P={transform:`translate3d(${$}%,0,0)`}:this.settings.positionUsing==="translate"?P={transform:`translate(${$}%,0)`}:this.settings.positionUsing==="width"?P={width:`${this.settings.direction==="rtl"?100-$:$+100}%`,...this.settings.direction==="rtl"?{right:"0",left:"auto"}:{}}:this.settings.positionUsing==="margin"&&(P=this.settings.direction==="rtl"?{"margin-left":`${-$}%`}:{"margin-right":`${-$}%`}),P.transition=`all ${m}ms ${E}`,P}};return Ti}var wi=wc();/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var mt=Object.assign||function(a){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t])}return a},Wt=function(s){return s.tagName==="IMG"},Ec=function(s){return NodeList.prototype.isPrototypeOf(s)},Zt=function(s){return s&&s.nodeType===1},On=function(s){var n=s.currentSrc||s.src;return n.substr(-4).toLowerCase()===".svg"},Rn=function(s){try{return Array.isArray(s)?s.filter(Wt):Ec(s)?[].slice.call(s).filter(Wt):Zt(s)?[s].filter(Wt):typeof s=="string"?[].slice.call(document.querySelectorAll(s)).filter(Wt):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},Sc=function(s){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=s,n},Pc=function(s){var n=s.getBoundingClientRect(),t=n.top,e=n.left,i=n.width,r=n.height,o=s.cloneNode(),l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return o.removeAttribute("id"),o.style.position="absolute",o.style.top=t+l+"px",o.style.left=e+u+"px",o.style.width=i+"px",o.style.height=r+"px",o.style.transform="",o},St=function(s,n){var t=mt({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(s,t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(s,t.bubbles,t.cancelable,t.detail),e},xc=function a(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=window.Promise||function(j){function K(){}j(K,K)},e=function(j){var K=j.target;if(K===ke){g();return}P.indexOf(K)!==-1&&p({target:K})},i=function(){if(!(N||!A.original)){var j=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(ce-j)>R.scrollOffset&&setTimeout(g,150)}},r=function(j){var K=j.key||j.keyCode;(K==="Escape"||K==="Esc"||K===27)&&g()},o=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=j;if(j.background&&(ke.style.background=j.background),j.container&&j.container instanceof Object&&(K.container=mt({},R.container,j.container)),j.template){var he=Zt(j.template)?j.template:document.querySelector(j.template);K.template=he}return R=mt({},R,K),P.forEach(function(Te){Te.dispatchEvent(St("medium-zoom:update",{detail:{zoom:V}}))}),V},l=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a(mt({},R,j))},u=function(){for(var j=arguments.length,K=Array(j),he=0;he<j;he++)K[he]=arguments[he];var Te=K.reduce(function(oe,Ie){return[].concat(oe,Rn(Ie))},[]);return Te.filter(function(oe){return P.indexOf(oe)===-1}).forEach(function(oe){P.push(oe),oe.classList.add("medium-zoom-image")}),$.forEach(function(oe){var Ie=oe.type,Fe=oe.listener,st=oe.options;Te.forEach(function(b){b.addEventListener(Ie,Fe,st)})}),V},c=function(){for(var j=arguments.length,K=Array(j),he=0;he<j;he++)K[he]=arguments[he];A.zoomed&&g();var Te=K.length>0?K.reduce(function(oe,Ie){return[].concat(oe,Rn(Ie))},[]):P;return Te.forEach(function(oe){oe.classList.remove("medium-zoom-image"),oe.dispatchEvent(St("medium-zoom:detach",{detail:{zoom:V}}))}),P=P.filter(function(oe){return Te.indexOf(oe)===-1}),V},h=function(j,K){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.forEach(function(Te){Te.addEventListener("medium-zoom:"+j,K,he)}),$.push({type:"medium-zoom:"+j,listener:K,options:he}),V},d=function(j,K){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P.forEach(function(Te){Te.removeEventListener("medium-zoom:"+j,K,he)}),$=$.filter(function(Te){return!(Te.type==="medium-zoom:"+j&&Te.listener.toString()===K.toString())}),V},v=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=j.target,he=function(){var oe={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Ie=void 0,Fe=void 0;if(R.container)if(R.container instanceof Object)oe=mt({},oe,R.container),Ie=oe.width-oe.left-oe.right-R.margin*2,Fe=oe.height-oe.top-oe.bottom-R.margin*2;else{var st=Zt(R.container)?R.container:document.querySelector(R.container),b=st.getBoundingClientRect(),_=b.width,W=b.height,X=b.left,te=b.top;oe=mt({},oe,{width:_,height:W,left:X,top:te})}Ie=Ie||oe.width-R.margin*2,Fe=Fe||oe.height-R.margin*2;var J=A.zoomedHd||A.original,ne=On(J)?Ie:J.naturalWidth||Ie,Y=On(J)?Fe:J.naturalHeight||Fe,ie=J.getBoundingClientRect(),_e=ie.top,we=ie.left,me=ie.width,be=ie.height,Se=Math.min(Math.max(me,ne),Ie)/me,ue=Math.min(Math.max(be,Y),Fe)/be,Pe=Math.min(Se,ue),He=(-we+(Ie-me)/2+R.margin+oe.left)/Pe,Be=(-_e+(Fe-be)/2+R.margin+oe.top)/Pe,ze="scale("+Pe+") translate3d("+He+"px, "+Be+"px, 0)";A.zoomed.style.transform=ze,A.zoomedHd&&(A.zoomedHd.style.transform=ze)};return new t(function(Te){if(K&&P.indexOf(K)===-1){Te(V);return}var oe=function _(){N=!1,A.zoomed.removeEventListener("transitionend",_),A.original.dispatchEvent(St("medium-zoom:opened",{detail:{zoom:V}})),Te(V)};if(A.zoomed){Te(V);return}if(K)A.original=K;else if(P.length>0){var Ie=P;A.original=Ie[0]}else{Te(V);return}if(A.original.dispatchEvent(St("medium-zoom:open",{detail:{zoom:V}})),ce=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,N=!0,A.zoomed=Pc(A.original),document.body.appendChild(ke),R.template){var Fe=Zt(R.template)?R.template:document.querySelector(R.template);A.template=document.createElement("div"),A.template.appendChild(Fe.content.cloneNode(!0)),document.body.appendChild(A.template)}if(A.original.parentElement&&A.original.parentElement.tagName==="PICTURE"&&A.original.currentSrc&&(A.zoomed.src=A.original.currentSrc),document.body.appendChild(A.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),A.original.classList.add("medium-zoom-image--hidden"),A.zoomed.classList.add("medium-zoom-image--opened"),A.zoomed.addEventListener("click",g),A.zoomed.addEventListener("transitionend",oe),A.original.getAttribute("data-zoom-src")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("srcset"),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.removeAttribute("loading"),A.zoomedHd.src=A.zoomed.getAttribute("data-zoom-src"),A.zoomedHd.onerror=function(){clearInterval(st),console.warn("Unable to reach the zoom image target "+A.zoomedHd.src),A.zoomedHd=null,he()};var st=setInterval(function(){A.zoomedHd.complete&&(clearInterval(st),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",g),document.body.appendChild(A.zoomedHd),he())},10)}else if(A.original.hasAttribute("srcset")){A.zoomedHd=A.zoomed.cloneNode(),A.zoomedHd.removeAttribute("sizes"),A.zoomedHd.removeAttribute("loading");var b=A.zoomedHd.addEventListener("load",function(){A.zoomedHd.removeEventListener("load",b),A.zoomedHd.classList.add("medium-zoom-image--opened"),A.zoomedHd.addEventListener("click",g),document.body.appendChild(A.zoomedHd),he()})}else he()})},g=function(){return new t(function(j){if(N||!A.original){j(V);return}var K=function he(){A.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(A.zoomed),A.zoomedHd&&document.body.removeChild(A.zoomedHd),document.body.removeChild(ke),A.zoomed.classList.remove("medium-zoom-image--opened"),A.template&&document.body.removeChild(A.template),N=!1,A.zoomed.removeEventListener("transitionend",he),A.original.dispatchEvent(St("medium-zoom:closed",{detail:{zoom:V}})),A.original=null,A.zoomed=null,A.zoomedHd=null,A.template=null,j(V)};N=!0,document.body.classList.remove("medium-zoom--opened"),A.zoomed.style.transform="",A.zoomedHd&&(A.zoomedHd.style.transform=""),A.template&&(A.template.style.transition="opacity 150ms",A.template.style.opacity=0),A.original.dispatchEvent(St("medium-zoom:close",{detail:{zoom:V}})),A.zoomed.addEventListener("transitionend",K)})},p=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=j.target;return A.original?g():v({target:K})},m=function(){return R},E=function(){return P},I=function(){return A.original},P=[],$=[],N=!1,ce=0,R=n,A={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(s)==="[object Object]"?R=s:(s||typeof s=="string")&&u(s),R=mt({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},R);var ke=Sc(R.background);document.addEventListener("click",e),document.addEventListener("keyup",r),document.addEventListener("scroll",i),window.addEventListener("resize",g);var V={open:v,close:g,toggle:p,update:o,clone:l,attach:u,detach:c,on:h,off:d,getOptions:m,getImages:E,getZoomedImage:I};return V};function Ic(a,s){s===void 0&&(s={});var n=s.insertAt;if(!(typeof document>"u")){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n==="top"&&t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}}var Lc=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";Ic(Lc);const Ac=/[\u0000-\u001f]/g,Mc=/[\s~`!@#$%^&*()\-_+=[\]{}|\\;:"'<>,.?/]+/g,Dc=/[\u0300-\u036F]/g,Ar=a=>a.normalize("NFKD").replace(Dc,"").replace(Ac,"").replace(Mc,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/^(\d)/,"_$1").toLowerCase(),Oc=["href"],Rc={class:"box-header"},Nc=["innerHTML"],Fc={key:1,class:"icon"},Hc=["src","alt"],Bc=["id"],$c={key:1,class:"desc"},Vc=O({__name:"MNavLink",props:{noIcon:{type:Boolean},icon:{},badge:{},title:{},desc:{},link:{}},setup(a){const s=a,n=G(()=>s.title?Ar(s.title):""),t=G(()=>typeof s.icon=="object"?s.icon.svg:""),e=G(()=>typeof s.badge=="string"?{text:s.badge,type:"info"}:s.badge);return(i,r)=>{const o=ft("Badge");return a.link?(y(),w("a",{key:0,class:"m-nav-link",href:a.link,target:"_blank",rel:"noreferrer"},[T("article",{class:ve(["box",{"has-badge":e.value}])},[T("div",Rc,[a.noIcon?D("",!0):(y(),w(ye,{key:0},[t.value?(y(),w("div",{key:0,class:"icon",innerHTML:t.value},null,8,Nc)):a.icon&&typeof a.icon=="string"?(y(),w("div",Fc,[T("img",{src:k(hi)(a.icon),alt:a.title,onerror:"this.parentElement.style.display='none'"},null,8,Hc)])):D("",!0)],64)),a.title?(y(),w("h5",{key:1,id:n.value,class:ve(["title",{"no-icon":a.noIcon}])},se(a.title),11,Bc)):D("",!0)]),e.value?(y(),B(o,{key:0,class:"badge",type:e.value.type,text:e.value.text},null,8,["type","text"])):D("",!0),a.desc?(y(),w("p",$c,se(a.desc),1)):D("",!0)],2)],8,Oc)):D("",!0)}}}),Uc=H(Vc,[["__scopeId","data-v-d2dba722"]]),zc=["id"],jc=["href"],Wc={class:"m-nav-links"},Gc=O({__name:"MNavLinks",props:{title:{},noIcon:{type:Boolean},items:{}},setup(a){const s=a,n=G(()=>Ar(s.title));return(t,e)=>(y(),w(ye,null,[a.title?(y(),w("h2",{key:0,id:n.value,tabindex:"-1"},[xe(se(a.title)+" ",1),T("a",{class:"header-anchor",href:`#${n.value}`,"aria-hidden":"true"},null,8,jc)],8,zc)):D("",!0),T("div",Wc,[(y(!0),w(ye,null,De(a.items,i=>(y(),B(Uc,et({noIcon:a.noIcon},{ref_for:!0},i),null,16,["noIcon"]))),256))])],64))}}),Kc=H(Gc,[["__scopeId","data-v-c92f1d69"]]),Yc={id:"hero-text"},Xc={class:"hero-text"},qc=O({__name:"HomeUnderline",setup(a){let s=null,n=null;Le(()=>{const e=document.querySelector(".VPHero .text");s=document.querySelector("#hero-text"),e&&s&&(n=document.createComment("hero-text-placeholder"),s.before(n),e.innerHTML="",e.appendChild(s))}),bt(()=>{n&&s&&n.parentNode?.replaceChild(s,n)});const{frontmatter:t}=_t();return(e,i)=>(y(),w("span",Yc,[T("span",Xc,[xe(se(k(t).hero?.text)+" ",1),i[0]||(i[0]=T("svg",{class:"hero-svg",xmlns:"http://www.w3.org/2000/svg",width:"240",height:"11",viewBox:"0 0 240 11",fill:"currentColor","aria-hidden":"true",focusable:"false"},[T("path",{d:"M20.766 10.187c.939-.024.386-.885.552-1.401 1.105-.301.553.626.962 1.061.685-.263 1.171-1.1 1.696-1.085.044.144.15.191.044.378.697-.736 2.21-.134 2.995-1.052a.55.55 0 0 1 .127.215 3.35 3.35 0 0 1-.204-1.204c.42-.034.751-.593.94 0-.255 0-.266.23-.377.416l.426-.273c.448.813-.586.316-.553.927.84-.306 1.802-1.037 2.476-.831.182.803-1.525.339-.608 1.023l-1.033-.268c.85 1.248-.625-.057.171 1.276 1.348.177 1.47-.478 2.818-.3.276-.479-.132-.66.144-1.124 1.857-.885 1.602 1.984 2.94.846.337-.555.42-1.582 1.442-1.08l-.276.889c1.298.038.668-1.348 2.06-.784-.226.368-1.005.344-.8.444.917.689.59-.545 1.27-.569l.16.827c1.371-.181 2.863-.827 4.388-1.037-.072.249-.326.512.044.746 1.912-.478 4.123-.058 6.007.368l.68-.727c.05.015.095.04.132.074a.275.275 0 0 1 .077.118c.014.044.015.091.004.136a.27.27 0 0 1-.07.122c.74.243 0-.445.354-.732.414-.062.552.383.315.603 1.248-.636 3.586-1.401 4.973-.694l-.254.22c1.06.249 1.105-1.477 2.127-.855l-.182.129c2.293.23 4.785-.478 6.564.52.293-1.017 2.272.393 2.365-1.022 1.327.664.967.927 2.813 1.348.492.052.702-.899 1.299-1.061l.044.731.79-.794.47.87.552-.205a.66.66 0 0 1-.332-.2.517.517 0 0 1-.132-.33c.873-.354 2.177.477 2.21.831l2.078-.679c-.039.301-.387.411-.657.607 1.105-.779.226.77 1.232.053-.144-.163.06-.44.077-.588.553.435 1.691.416 2.547.205l-.149.512c1.558.1 3.271-.31 5.018-.335-.636-.224-.514-1.109 0-1.204l.226.774c.32-.478-.552-.282.122-.884.652.076.464.875.094 1.138l.784-.287c.056.23-.127.358-.165.655.309-.478 1.387.75 1.834-.096l.05.23c1.746-.03 2.53-.316 3.95-.383 0-.674.553-.535.984-1.085 1.05.196 2.21.707 3.482.63.878-.343.243-.568.635-.955.077.612 1.332.535.69.985a15.353 15.353 0 0 0 3.83-.68c-.21-.243-.447-.353-.331-.563a.738.738 0 0 1 .275.01c.09.02.173.058.245.11a.58.58 0 0 1 .169.188c.04.072.061.151.062.232l-.088.067c2.127-.956 4.973 1.706 6.669.41l-.099.068 1.763-.684c.817.1-.481.478.127.842 1.9-1.043 3.022.12 4.586-.574 1.243 1.793 4.327-.167 5.979.956l-.1-.42c.426-.421.52.234.835.33-.05-.33-.464-.378-.205-.613 3.598-.545 7.438.598 11.129.956 1.348.11.757-2.203 2.465-1.195l-.481.794c2.719-.956 5.564 0 8.233-.77-.154.182-.16.416-.425.416.552.574 2.083.034 2.094-.435.42.053.1.425.354.665.552.339 1.42-.732 1.718-.158.05.09-.16.186-.265.23.37-.278 1.719.076 1.365-.589 1 .32 1.917-.287 2.713.105.553-.736 1.713.364 1.884-.683-.077 1.08 1.752.875 2.387.377-.215.326.553.345.299.794.718 0 1.381-.206 1.265-.76 1.315 1.305 2.686-1.018 3.415.645a45.888 45.888 0 0 1 6.078-1.17c-.082 1.075-2.138.09-2.066 1.218 1.834-.425 2.906-1.343 4.719-1.066.47.153-.276.478-.437.65 1.835-.43 3.537.148 5.172-.42 0 .1-.182.21-.348.291.321-.033.741.167.713-.325l-.315.13c-.497-.718 1.304-1.468 1.365-1.841-.553 1.396 1.602.377.707 2.137a.73.73 0 0 0 .337-.263.58.58 0 0 0 .1-.383c.315.1.409.297.083.665 1.155-.254.757-.78 1.801-.75 0 .233-.221.324-.337.601.553-.478 1.078-.908 1.951-.697-.056.143.044.33-.216.325 1.509-.048 2.603-1.195 4.249-.722-.513 1.023.553.349.625 1.243l.895-.254-.348-.44c.785.034 1.492-.602 2.155-.296l-.591.354 1.47-.139-.824-.354c.807-.444-.055-1.132.978-.86-.21.086.785.029 1.177.56.398-.278.801-.57 1.376-.335.138.291-.149.984-.055 1.176.398-.736 1.834-.168 2.337-.956-.143.227-.192.49-.138.745l.337-.597c.359.2.409.296.337.669 1.105.134-.309-1.138.967-.626-.105.048-.055.138-.27.23 1.287.277 2.519-.335 3.702 0 .326.903-1.05.195-.669.955 1.724-.129 3.592-.999 5.25-.74l-.31-.106c.277-1.262 1.221.66 2.083.086-.21.086-.298.693-.237.555 1.105.234 2.343-.249 4.083-.603l-.226.32c.657.311 1.763.216 2.481.383.226-.315.641-.253.403-.731 2.166 1.912 4.305-.89 6.228.726-.238 0-.553.268-.387.273l1.702-.244c-.111-.554-.21-.34-.553-.784.124-.163.292-.298.489-.392.198-.094.419-.145.644-.148-.774.34-.028.884.287 1.205-.049-.173.072-.354.05-.526.846 1.008.199-1.11 1.376-.407l-.077.287c.458-.134.889-.478 1.37-.401.177.645-.492.282-.552.803.685 0 1.403-1.162 1.994-.507-.298.167-.718.158-1.016.325.641.77.729.583 1.221.717h-.044l1.138.378-.282-.21c.928-1.635 1.752-.25 2.951-1.3-1.166.994-.21.592-.332 1.309.288.21.724.454.586.65.553-.564.89.478 1.696-.34 0 .235.581.044.431.627.713-.163-.149-.411-.077-.703 1.133-.76 2.514 1.061 4.139.029 1.376-.397 1.658-1.171 2.94-1.515.403.392-.393.836-.393.836.267.161.581.255.906.27a1.97 1.97 0 0 0 .934-.184c-.138.196 0 .373.172.64.519-.038.386-.831 1.05-.477a3.24 3.24 0 0 1-.553.918c.619-.192 1.243-.603 1.884-.79.149.412-.409.603-.646.856.718-.153 1.851-.296 2.105-.927l-.442-.248c.26 0 .105.559-.094.669-.63.478-.862-.258-.884-.478l.459-.134c-.387-1.382-1.818.148-2.719.033l.431-.956-.973.784c-.182-.263-.287-.822.166-.956-.624-.516-.591.33-1.105-.239-.055-.086-.028-.134.033-.172l-.646.273c.132-.201-.072-.703.309-.545-1.105-.617-1.873.674-2.26-.096l.099-.057c-1.596.272-.193.721-1.414 1.534l-.713-1.83-.188.721c-.16-.033-.481-.1-.409-.387-.63.478.089.32-.287.78-.752-.699-2.172.229-2.293-.957-.31.545.729.478-.127.813-.183-1.258-.978.181-1.658-.416.254-.636.917-.273.226-.875-.486 1.076-1.386-.282-2-.096-.066.87-1.332.32-2.354.579.078-.292-1.89-.54-2.818-.885l.033-.148c-.221.87-1.182.674-1.901.832a.906.906 0 0 1 .132-.55c.102-.169.258-.31.449-.406h-.669a.979.979 0 0 1-.34.327 1.167 1.167 0 0 1-.478.151l.194-.65c-.885 0-1.813.712-2.94.244-.083.607.84 1.725-.381 2.103-.034-.335-.056-.899.27-1.028-.105.043-.381.263-.585.12l.502-.545c-.508-.258-.287.478-.701.397 0-.478-.293-.35-.221-.722.11-.038.359.205.525 0a1.931 1.931 0 0 1-.691-.264 1.649 1.649 0 0 1-.503-.487c.028.268-.028.636-.37.684-.89 0-.282-.574-.79-.832-.227.325-.78-.033-.824.674-.259 0-.293-.34-.387-.535-.469.3-2.149.033-1.657.793l.116.053s-.05 0-.078.033c-1.525.66-3.105-.478-4.608-.224V3.34c-.895.244-1.984.106-2.636.593a.711.711 0 0 1-.402-.28.553.553 0 0 1-.084-.442c-.691.158-.774.416-1.746 0 .701-.396-.221-.373.713-.287-.879-.224-1.067-.607-2.039 0 .342-.597-.641-.774-1.067-.602l.608.445c-.436.053-.88.039-1.31-.043l.254-.794c-1.784-1.004-3.315 1.578-4.647-.067-.497.545.973.411.553 1.052-.829-.124-1.658-1.286-1.929-1.29-1.132-.479-1.105 1.137-2.282.812a.818.818 0 0 1 .031.774.938.938 0 0 1-.264.323 1.11 1.11 0 0 1-.397.198c-.829-.124-.994-1.214-.464-1.434.205 0 .299.072.288.168.27-.096.629-.21.303-.526l-.116.282c-.403-.297-1.552-.292-1.271-.75-.635.257-.281.477.183.616-1.061-.435-1.658-.053-2.763-.344.171.162.326.478.155.478-1.608-.378-.724.526-1.824.636-.608-.445.249-1.033-.862-.684-.668-.306-.127-.755.149-.985-1.016.536-1.867-.387-2.442-.478l.553-.22a1.892 1.892 0 0 1-.846.12l.293.573c-.309-.105-.553-.11-.553-.348-.326.368.227.956-.42 1.434-.403-.297-1.265.286-1.392-.478 1.298.272-.127-.76.978-.866a1.102 1.102 0 0 1-.851.024c-.044-.086.044-.157.133-.2-1.233-.689-.592.846-1.879.807.171-.42-.287-.808-.497-.721.519 0 .237.712-.249 1.027-.823-.34-.906.235-1.337.187l.491.162c-.176.426-.585.364-1.165.478-.045-.33.524-.22.326-.368-.652.736-1.437-.793-2.338-.306-.409-.291-.027-.798-.387-.999-1.011.54-1.077-.588-2.133-.148.293.574.349.435-.403.985l1.735-.387-1.105.822c.525 0 1.105-.35 1.42-.249-.553.478-.481.316-.238.794-.701-.86-1.425.478-2.21-.1l.044-1.41c-1.232-.641-2.21.702-3.823.334l.513.248c-.221.56-.994.072-1.519.292.055-.478-.271-.645-.492-.956.028.349-1.177-.043-1.337.899l-.707-.627c-1.305-.267-1.503 1.33-2.763 1.157.381-.507-.183-.846.657-1.21-.414 0-.79-.095-.801.23-.276-.263-1.199.646-1.575.215-.182.206-.243.698-.713.655a.337.337 0 0 1 0-.234c0 .234-.735.31-.331.837-1.271-1.478-3.592.095-4.708-1.172-.936.165-1.883.277-2.835.335.05-.139 0-.234.16-.186-1.143-.44-.707 1.352-2.005.86-.664-.765.69-.411.276-.703-.171-1.553-1.564.21-2.437-.702l.21-.091c-.663-.555-1.608.564-2.713.454a.326.326 0 0 0 0-.234c-.746.784-2.155 1.051-3.205 1.271.326-.607.475-.32.276-.956-.47.091.138.99-.801 1.167-.304-.33-.984-.622-1.078-1.282l.89-.019c-.459-.85-1.149.034-1.613-.114l.055-.368c-1.36.124-1.376 1.06-2.835.999l.155.282c-.796.956-.674-.521-1.465.172l-.248-.956c-.871.453-1.797.82-2.763 1.094.552-.698 1.658-1.06 2.315-1.477-.519 0-1.774.072-2.044.54.21-.09.475-.325.685-.181a2.832 2.832 0 0 1-1.094.83 3.298 3.298 0 0 1-1.42.27c.171-1.832-2.713-.455-3.482-1.865-1.834.693-3.652-.258-5.796-.13.774 1.435-.625.049-.481 1.507-.497.1-.685.076-.729 0l-1.525-.86c-.365-.421.469-.326.42-.65-1.106-.106-.465-.618-1.194-1 .155.521-.37.75-1 .56l.901.659c-1.52.793-1.338-1.214-2.868-.43l.48-.478c-.79.277-2.917 0-3.674 1.204-.144-.167-.332-.564 0-.674-1.89-.148-4.183 1.31-5.664.612l.138-.358c-.348.105-.602.678-1.05.325 0-.148.138-.359 0-.378-.182.124-.923.64-1.392.44l.386-.411c-1.85-.44-2.807 1.023-4.343 1.29 0-1.051-1.475-1.376-2.21-1.53V.685c-2.15-.086-3.625.956-5.598 1.4-1.265-1.118-4.188-.392-6.194-.99.31.182 0 .818-.37.957-.475-.206-1.266.755-1.221-.21h.165c-.375-.957-1.326-.67-2.072-.675l-.083 1.267c-2.006-1.778-5.106.813-6.227-.803-.459.33-1.045.34-1.498.67v-.68a12.396 12.396 0 0 0-3.575 0l.31-.478c-.912 0-1.072 1.98-1.912 2.042l-.288-1c-1.591.053-3.232-.774-4.763.192 0-.148.055-.445.31-.478-.746 0-2.918-.588-2.587.788-.06-.903-1.657-.038-2.48.388l.104-.689c-.685.875-.701 1.11-1.696 1.377-.243-.076-.238-.526.088-.368-.812-.32-.59.655-1.574.33l.342-.435c-.823-.029-.746.2-1.177.707-.503.287-1.564-.114-1.713-.712-.094.368-.52.875-1.011.717a.38.38 0 0 1 .013-.245.442.442 0 0 1 .164-.2c-1.393-.406-2 .851-2.973.235a.553.553 0 0 0-.182-.392 9.431 9.431 0 0 1 1.89.028c0-.616-.912-.688-.255-1.563-.685.478-1.845 1.54-2.713 1.286a.84.84 0 0 1-.1-.215l.061-.072a.668.668 0 0 0-.295 0 .61.61 0 0 0-.257.125 1.992 1.992 0 0 0-.718-.158c-.128-.507-1.023-.234-1.465-.244.072.67-.508.583.06 1.119-.07-.048.078-.086.366-.125a.528.528 0 0 0 .188-.076l-.028.062c.287-.033.663-.062 1.105-.09-.332.358-.68.654-1.183.3-.204.445-.43.894-.552 1.11-.647-.914-1.83-1.377-2.022-1.946-1.321.43-3.145.368-3.918 1.663-.376.177-.459-.344-.614-.535.216-.139.476-.13.586-.316-.74.354-2.249.216-2.381 1.105-.984-.364.491-.837-.818-.636l.166-.277c-2.675-1.291-4.09 2.433-7.068.755.204.105.304.148.354.296-3.316-.645-6.709 1.038-10.018-.062-.94-.205-1 .359-1.531.818l-.249-.713-.906.88c-1.315.679-2.47-1.65-4.117-.411l.254.478c-.624-.058-1.939.387-1.873-.177-.055.09-.166.516-.425.272l-.044-.372-1.487.712c-1.199-.215.078-1.506-1.658-1.492C.895 5.105-.22 6.114.04 6.362c.178.01.347.073.478.179a.645.645 0 0 1 .24.4l-.558.225C.17 8.279-.194 9.44 1.304 10.144l.917-.732.36.521-.818.1c.513.479.784 0 1.105-.305.07.225.233.42.458.55l.907-1.114c.149.43-.376.884.292 1.094.426-.516-.502-.956.233-1.314.513.478.403.898.933.44a.447.447 0 0 1 .012.336.525.525 0 0 1-.233.27c.476-.367 1.304-.214 1.525-.817.553.598 1.658-.248 1.691.808.29-.433.74-.77 1.277-.956-.752 1.3 1.724 0 1.591 1.348.553-1.162 2.21-.617 3.255-1.3-.055.095-.16.282-.265.23.624.061.823.391 1.237.592 0-.956.967-1.195 1.448-1.797.812.87-.392 1.118-.1 1.974-.082-.755 1.272-.813.973-1.434.614.53.514.248.862 1.008.028-1.17.553-.22.962-.956.873.54.282 1.086 1.182.689.453.354-.342.808-.342.808Zm21.793-2.93-.447.057.447-.058Zm1.818-.091a7.552 7.552 0 0 0-.801 0c-.072-.23 0-.478.171-.478-.083.186.348.305.63.478Zm-4.128-4.49c.288-.109.393 0 .442.159-.172.02-.343.053-.508.1v.081a.973.973 0 0 1 .066-.34Z"})],-1))]),xe(" "+se(k(t).hero?.textsuffix),1)]))}}),Zc=H(qc,[["__scopeId","data-v-f7d72181"]]);var fn={};(function a(s,n,t,e){var i=!!(s.Worker&&s.Blob&&s.Promise&&s.OffscreenCanvas&&s.OffscreenCanvasRenderingContext2D&&s.HTMLCanvasElement&&s.HTMLCanvasElement.prototype.transferControlToOffscreen&&s.URL&&s.URL.createObjectURL),r=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=(function(){if(!s.OffscreenCanvas)return!1;var b=new OffscreenCanvas(1,1),_=b.getContext("2d");_.fillRect(0,0,1,1);var W=b.transferToImageBitmap();try{_.createPattern(W,"no-repeat")}catch{return!1}return!0})();function l(){}function u(b){var _=n.exports.Promise,W=_!==void 0?_:s.Promise;return typeof W=="function"?new W(b):(b(l,l),null)}var c=(function(b,_){return{transform:function(W){if(b)return W;if(_.has(W))return _.get(W);var X=new OffscreenCanvas(W.width,W.height),te=X.getContext("2d");return te.drawImage(W,0,0),_.set(W,X),X},clear:function(){_.clear()}}})(o,new Map),h=(function(){var b=Math.floor(16.666666666666668),_,W,X={},te=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(J){var ne=Math.random();return X[ne]=requestAnimationFrame(function Y(ie){te===ie||te+b-1<ie?(te=ie,delete X[ne],J()):X[ne]=requestAnimationFrame(Y)}),ne},W=function(J){X[J]&&cancelAnimationFrame(X[J])}):(_=function(J){return setTimeout(J,b)},W=function(J){return clearTimeout(J)}),{frame:_,cancel:W}})(),d=(function(){var b,_,W={};function X(te){function J(ne,Y){te.postMessage({options:ne||{},callback:Y})}te.init=function(Y){var ie=Y.transferControlToOffscreen();te.postMessage({canvas:ie},[ie])},te.fire=function(Y,ie,_e){if(_)return J(Y,null),_;var we=Math.random().toString(36).slice(2);return _=u(function(me){function be(Se){Se.data.callback===we&&(delete W[we],te.removeEventListener("message",be),_=null,c.clear(),_e(),me())}te.addEventListener("message",be),J(Y,we),W[we]=be.bind(null,{data:{callback:we}})}),_},te.reset=function(){te.postMessage({reset:!0});for(var Y in W)W[Y](),delete W[Y]}}return function(){if(b)return b;if(!t&&i){var te=["var CONFETTI, SIZE = {}, module = {};","("+a.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{b=new Worker(URL.createObjectURL(new Blob([te])))}catch(J){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",J),null}X(b)}return b}})(),v={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(b,_){return _?_(b):b}function p(b){return b!=null}function m(b,_,W){return g(b&&p(b[_])?b[_]:v[_],W)}function E(b){return b<0?0:Math.floor(b)}function I(b,_){return Math.floor(Math.random()*(_-b))+b}function P(b){return parseInt(b,16)}function $(b){return b.map(N)}function N(b){var _=String(b).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:P(_.substring(0,2)),g:P(_.substring(2,4)),b:P(_.substring(4,6))}}function ce(b){var _=m(b,"origin",Object);return _.x=m(_,"x",Number),_.y=m(_,"y",Number),_}function R(b){b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight}function A(b){var _=b.getBoundingClientRect();b.width=_.width,b.height=_.height}function ke(b){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=b,_}function V(b,_,W,X,te,J,ne,Y,ie){b.save(),b.translate(_,W),b.rotate(J),b.scale(X,te),b.arc(0,0,1,ne,Y,ie),b.restore()}function ge(b){var _=b.angle*(Math.PI/180),W=b.spread*(Math.PI/180);return{x:b.x,y:b.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:b.startVelocity*.5+Math.random()*b.startVelocity,angle2D:-_+(.5*W-Math.random()*W),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:b.color,shape:b.shape,tick:0,totalTicks:b.ticks,decay:b.decay,drift:b.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:b.gravity*3,ovalScalar:.6,scalar:b.scalar,flat:b.flat}}function j(b,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var W=_.tick++/_.totalTicks,X=_.x+_.random*_.tiltCos,te=_.y+_.random*_.tiltSin,J=_.wobbleX+_.random*_.tiltCos,ne=_.wobbleY+_.random*_.tiltSin;if(b.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-W)+")",b.beginPath(),r&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))b.fill(Ie(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(J-X)*.1,Math.abs(ne-te)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var Y=Math.PI/10*_.wobble,ie=Math.abs(J-X)*.1,_e=Math.abs(ne-te)*.1,we=_.shape.bitmap.width*_.scalar,me=_.shape.bitmap.height*_.scalar,be=new DOMMatrix([Math.cos(Y)*ie,Math.sin(Y)*ie,-Math.sin(Y)*_e,Math.cos(Y)*_e,_.x,_.y]);be.multiplySelf(new DOMMatrix(_.shape.matrix));var Se=b.createPattern(c.transform(_.shape.bitmap),"no-repeat");Se.setTransform(be),b.globalAlpha=1-W,b.fillStyle=Se,b.fillRect(_.x-we/2,_.y-me/2,we,me),b.globalAlpha=1}else if(_.shape==="circle")b.ellipse?b.ellipse(_.x,_.y,Math.abs(J-X)*_.ovalScalar,Math.abs(ne-te)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):V(b,_.x,_.y,Math.abs(J-X)*_.ovalScalar,Math.abs(ne-te)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var ue=Math.PI/2*3,Pe=4*_.scalar,He=8*_.scalar,Be=_.x,ze=_.y,gt=5,Ge=Math.PI/gt;gt--;)Be=_.x+Math.cos(ue)*He,ze=_.y+Math.sin(ue)*He,b.lineTo(Be,ze),ue+=Ge,Be=_.x+Math.cos(ue)*Pe,ze=_.y+Math.sin(ue)*Pe,b.lineTo(Be,ze),ue+=Ge;else b.moveTo(Math.floor(_.x),Math.floor(_.y)),b.lineTo(Math.floor(_.wobbleX),Math.floor(te)),b.lineTo(Math.floor(J),Math.floor(ne)),b.lineTo(Math.floor(X),Math.floor(_.wobbleY));return b.closePath(),b.fill(),_.tick<_.totalTicks}function K(b,_,W,X,te){var J=_.slice(),ne=b.getContext("2d"),Y,ie,_e=u(function(we){function me(){Y=ie=null,ne.clearRect(0,0,X.width,X.height),c.clear(),te(),we()}function be(){t&&!(X.width===e.width&&X.height===e.height)&&(X.width=b.width=e.width,X.height=b.height=e.height),!X.width&&!X.height&&(W(b),X.width=b.width,X.height=b.height),ne.clearRect(0,0,X.width,X.height),J=J.filter(function(Se){return j(ne,Se)}),J.length?Y=h.frame(be):me()}Y=h.frame(be),ie=me});return{addFettis:function(we){return J=J.concat(we),_e},canvas:b,promise:_e,reset:function(){Y&&h.cancel(Y),ie&&ie()}}}function he(b,_){var W=!b,X=!!m(_||{},"resize"),te=!1,J=m(_,"disableForReducedMotion",Boolean),ne=i&&!!m(_||{},"useWorker"),Y=ne?d():null,ie=W?R:A,_e=b&&Y?!!b.__confetti_initialized:!1,we=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,me;function be(ue,Pe,He){for(var Be=m(ue,"particleCount",E),ze=m(ue,"angle",Number),gt=m(ue,"spread",Number),Ge=m(ue,"startVelocity",Number),fs=m(ue,"decay",Number),ds=m(ue,"gravity",Number),gs=m(ue,"drift",Number),En=m(ue,"colors",$),vs=m(ue,"ticks",Number),Sn=m(ue,"shapes"),ps=m(ue,"scalar"),ms=!!m(ue,"flat"),Pn=ce(ue),xn=Be,bi=[],ys=b.width*Pn.x,_s=b.height*Pn.y;xn--;)bi.push(ge({x:ys,y:_s,angle:ze,spread:gt,startVelocity:Ge,color:En[xn%En.length],shape:Sn[I(0,Sn.length)],ticks:vs,decay:fs,gravity:ds,drift:gs,scalar:ps,flat:ms}));return me?me.addFettis(bi):(me=K(b,bi,ie,Pe,He),me.promise)}function Se(ue){var Pe=J||m(ue,"disableForReducedMotion",Boolean),He=m(ue,"zIndex",Number);if(Pe&&we)return u(function(Ge){Ge()});W&&me?b=me.canvas:W&&!b&&(b=ke(He),document.body.appendChild(b)),X&&!_e&&ie(b);var Be={width:b.width,height:b.height};Y&&!_e&&Y.init(b),_e=!0,Y&&(b.__confetti_initialized=!0);function ze(){if(Y){var Ge={getBoundingClientRect:function(){if(!W)return b.getBoundingClientRect()}};ie(Ge),Y.postMessage({resize:{width:Ge.width,height:Ge.height}});return}Be.width=Be.height=null}function gt(){me=null,X&&(te=!1,s.removeEventListener("resize",ze)),W&&b&&(document.body.contains(b)&&document.body.removeChild(b),b=null,_e=!1)}return X&&!te&&(te=!0,s.addEventListener("resize",ze,!1)),Y?Y.fire(ue,Be,gt):be(ue,Be,gt)}return Se.reset=function(){Y&&Y.reset(),me&&me.reset()},Se}var Te;function oe(){return Te||(Te=he(null,{useWorker:!0,resize:!0})),Te}function Ie(b,_,W,X,te,J,ne){var Y=new Path2D(b),ie=new Path2D;ie.addPath(Y,new DOMMatrix(_));var _e=new Path2D;return _e.addPath(ie,new DOMMatrix([Math.cos(ne)*te,Math.sin(ne)*te,-Math.sin(ne)*J,Math.cos(ne)*J,W,X])),_e}function Fe(b){if(!r)throw new Error("path confetti are not supported in this browser");var _,W;typeof b=="string"?_=b:(_=b.path,W=b.matrix);var X=new Path2D(_),te=document.createElement("canvas"),J=te.getContext("2d");if(!W){for(var ne=1e3,Y=ne,ie=ne,_e=0,we=0,me,be,Se=0;Se<ne;Se+=2)for(var ue=0;ue<ne;ue+=2)J.isPointInPath(X,Se,ue,"nonzero")&&(Y=Math.min(Y,Se),ie=Math.min(ie,ue),_e=Math.max(_e,Se),we=Math.max(we,ue));me=_e-Y,be=we-ie;var Pe=10,He=Math.min(Pe/me,Pe/be);W=[He,0,0,He,-Math.round(me/2+Y)*He,-Math.round(be/2+ie)*He]}return{type:"path",path:_,matrix:W}}function st(b){var _,W=1,X="#000000",te='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof b=="string"?_=b:(_=b.text,W="scalar"in b?b.scalar:W,te="fontFamily"in b?b.fontFamily:te,X="color"in b?b.color:X);var J=10*W,ne=""+J+"px "+te,Y=new OffscreenCanvas(J,J),ie=Y.getContext("2d");ie.font=ne;var _e=ie.measureText(_),we=Math.ceil(_e.actualBoundingBoxRight+_e.actualBoundingBoxLeft),me=Math.ceil(_e.actualBoundingBoxAscent+_e.actualBoundingBoxDescent),be=2,Se=_e.actualBoundingBoxLeft+be,ue=_e.actualBoundingBoxAscent+be;we+=be+be,me+=be+be,Y=new OffscreenCanvas(we,me),ie=Y.getContext("2d"),ie.font=ne,ie.fillStyle=X,ie.fillText(_,Se,ue);var Pe=1/W;return{type:"bitmap",bitmap:Y.transferToImageBitmap(),matrix:[Pe,0,0,Pe,-we*Pe/2,-me*Pe/2]}}n.exports=function(){return oe().apply(this,arguments)},n.exports.reset=function(){oe().reset()},n.exports.create=he,n.exports.shapeFromPath=Fe,n.exports.shapeFromText=st})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),fn,!1);const Jc=fn.exports;fn.exports.create;const Qc=O({__name:"confetti",setup(a){if(Ct){let e=function(i,r){return Math.random()*(r-i)+i};var s=15e3,n=Date.now()+s,t=1;(function i(){var r=n-Date.now(),o=Math.max(200,500*(r/s));t=Math.max(.8,t-.001),Jc({particleCount:1,startVelocity:0,ticks:o,origin:{x:Math.random(),y:Math.random()*t-.2},colors:["#ffffff"],shapes:["circle"],gravity:e(.4,.6),scalar:e(.4,1),drift:e(-.4,.4)}),r>0&&requestAnimationFrame(i)})()}return()=>{}}}),eh={class:"LastUpdated"},th=O({__name:"update",setup(a){const{page:s}=_t(),n=G(()=>new Date(s.value.lastUpdated));return(t,e)=>(y(),w("div",eh,[T("p",null,": "+se(n.value.toLocaleString()),1)]))}});function Nn(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);s&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})),n.push.apply(n,t)}return n}function Ee(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Nn(Object(n),!0).forEach(function(t){S(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function Re(a){"@babel/helpers - typeof";return Re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Re(a)}function U(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}function Fn(a,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,Mr(t.key),t)}}function z(a,s,n){return s&&Fn(a.prototype,s),n&&Fn(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function S(a,s,n){return s=Mr(s),s in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n,a}function q(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Yi(a,s)}function Q(a){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q(a)}function Yi(a,s){return Yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yi(a,s)}function ih(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function dn(a,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(a)}function Z(a){var s=ih();return function(){var t=Q(a),e;if(s){var i=Q(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return dn(this,e)}}function nh(a,s){for(;!Object.prototype.hasOwnProperty.call(a,s)&&(a=Q(a),a!==null););return a}function ee(){return typeof Reflect<"u"&&Reflect.get?ee=Reflect.get.bind():ee=function(s,n,t){var e=nh(s,n);if(e){var i=Object.getOwnPropertyDescriptor(e,n);return i.get?i.get.call(arguments.length<3?s:t):i.value}},ee.apply(this,arguments)}function We(a){return rh(a)||sh(a)||ah(a)||oh()}function rh(a){if(Array.isArray(a))return Xi(a)}function sh(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function ah(a,s){if(a){if(typeof a=="string")return Xi(a,s);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xi(a,s)}}function Xi(a,s){(s==null||s>a.length)&&(s=a.length);for(var n=0,t=new Array(s);n<s;n++)t[n]=a[n];return t}function oh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lh(a,s){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var t=n.call(a,s);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(a)}function Mr(a){var s=lh(a,"string");return typeof s=="symbol"?s:String(s)}var Ei={exports:{}},Hn;function uh(){return Hn||(Hn=1,(function(a){var s=Object.prototype.hasOwnProperty,n="~";function t(){}Object.create&&(t.prototype=Object.create(null),new t().__proto__||(n=!1));function e(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function i(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var v=new e(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],v]:l._events[g].push(v):(l._events[g]=v,l._eventsCount++),l}function r(l,u){--l._eventsCount===0?l._events=new t:delete l._events[u]}function o(){this._events=new t,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)s.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,v=h.length,g=new Array(v);d<v;d++)g[d]=h[d].fn;return g},o.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,c,h,d,v,g){var p=n?n+u:u;if(!this._events[p])return!1;var m=this._events[p],E=arguments.length,I,P;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,c),!0;case 3:return m.fn.call(m.context,c,h),!0;case 4:return m.fn.call(m.context,c,h,d),!0;case 5:return m.fn.call(m.context,c,h,d,v),!0;case 6:return m.fn.call(m.context,c,h,d,v,g),!0}for(P=1,I=new Array(E-1);P<E;P++)I[P-1]=arguments[P];m.fn.apply(m.context,I)}else{var $=m.length,N;for(P=0;P<$;P++)switch(m[P].once&&this.removeListener(u,m[P].fn,void 0,!0),E){case 1:m[P].fn.call(m[P].context);break;case 2:m[P].fn.call(m[P].context,c);break;case 3:m[P].fn.call(m[P].context,c,h);break;case 4:m[P].fn.call(m[P].context,c,h,d);break;default:if(!I)for(N=1,I=new Array(E-1);N<E;N++)I[N-1]=arguments[N];m[P].fn.apply(m[P].context,I)}}return!0},o.prototype.on=function(u,c,h){return i(this,u,c,h,!1)},o.prototype.once=function(u,c,h){return i(this,u,c,h,!0)},o.prototype.removeListener=function(u,c,h,d){var v=n?n+u:u;if(!this._events[v])return this;if(!c)return r(this,v),this;var g=this._events[v];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&r(this,v);else{for(var p=0,m=[],E=g.length;p<E;p++)(g[p].fn!==c||d&&!g[p].once||h&&g[p].context!==h)&&m.push(g[p]);m.length?this._events[v]=m.length===1?m[0]:m:r(this,v)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&r(this,c)):(this._events=new t,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,a.exports=o})(Ei)),Ei.exports}var Dr=uh();const Or=gi(Dr);var ch=typeof window<"u"&&window.location&&window.location.href.indexOf("xgplayerdebugger=1")>-1,Si={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: red;",warn:"color: #525252; background-color: yellow; "},Pi="%c[xgplayer]",fe={config:{debug:ch?3:0},logInfo:function(s){for(var n,t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];this.config.debug>=3&&(n=console).log.apply(n,[Pi,Si.info,s].concat(e))},logWarn:function(s){for(var n,t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];this.config.debug>=1&&(n=console).warn.apply(n,[Pi,Si.warn,s].concat(e))},logError:function(s){var n;if(!(this.config.debug<1)){for(var t=this.config.debug>=2?"trace":"error",e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(n=console)[t].apply(n,[Pi,Si.error,s].concat(i))}}};function hh(a){a.logInfo=fe.logInfo.bind(a),a.logWarn=fe.logWarn.bind(a),a.logError=fe.logError.bind(a)}var fh=(function(){function a(s){U(this,a),this.bufferedList=s}return z(a,[{key:"start",value:function(n){return this.bufferedList[n].start}},{key:"end",value:function(n){return this.bufferedList[n].end}},{key:"length",get:function(){return this.bufferedList.length}}]),a})(),f={};f.createDom=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"div",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",e=document.createElement(a);return e.className=t,e.innerHTML=s,Object.keys(n).forEach(function(i){var r=i,o=n[i];a==="video"||a==="audio"||a==="live-video"?o&&e.setAttribute(r,o):e.setAttribute(r,o)}),e};f.createDomFromHtml=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";try{var t=document.createElement("div");t.innerHTML=a;var e=t.children;return t=null,e.length>0?(e=e[0],n&&f.addClass(e,n),s&&Object.keys(s).forEach(function(i){e.setAttribute(i,s[i])}),e):null}catch(i){return fe.logError("util.createDomFromHtml",i),null}};f.hasClass=function(a,s){if(!a||!s)return!1;try{return Array.prototype.some.call(a.classList,function(t){return t===s})}catch{var n=a.className&&Re(a.className)==="object"?a.getAttribute("class"):a.className;return n&&!!n.match(new RegExp("(\\s|^)"+s+"(\\s|$)"))}};f.addClass=function(a,s){if(!(!a||!s))try{s.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&a.classList.add(n)})}catch{f.hasClass(a,s)||(a.className&&Re(a.className)==="object"?a.setAttribute("class",a.getAttribute("class")+" "+s):a.className+=" "+s)}};f.removeClass=function(a,s){if(!(!a||!s))try{s.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(n){n&&a.classList.remove(n)})}catch{f.hasClass(a,s)&&s.split(/\s+/g).forEach(function(t){var e=new RegExp("(\\s|^)"+t+"(\\s|$)");a.className&&Re(a.className)==="object"?a.setAttribute("class",a.getAttribute("class").replace(e," ")):a.className=a.className.replace(e," ")})}};f.toggleClass=function(a,s){a&&s.split(/\s+/g).forEach(function(n){f.hasClass(a,n)?f.removeClass(a,n):f.addClass(a,n)})};f.classNames=function(){for(var a=arguments,s=[],n=function(i){f.typeOf(a[i])==="String"?s.push(a[i]):f.typeOf(a[i])==="Object"&&Object.keys(a[i]).map(function(r){a[i][r]&&s.push(r)})},t=0;t<arguments.length;t++)n(t);return s.join(" ")};f.findDom=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,s=arguments.length>1?arguments[1]:void 0,n;try{n=a.querySelector(s)}catch(t){fe.logError("util.findDom",t),s.indexOf("#")===0&&(n=a.getElementById(s.slice(1)))}return n};f.getCss=function(a,s){return a.currentStyle?a.currentStyle[s]:document.defaultView.getComputedStyle(a,!1)[s]};f.padStart=function(a,s,n){for(var t=String(n),e=s>>0,i=Math.ceil(e/t.length),r=[],o=String(a);i--;)r.push(t);return r.join("").substring(0,e-o.length)+o};f.format=function(a){if(window.isNaN(a))return"";a=Math.round(a);var s=f.padStart(Math.floor(a/3600),2,0),n=f.padStart(Math.floor((a-s*3600)/60),2,0),t=f.padStart(Math.floor(a-s*3600-n*60),2,0);return(s==="00"?[n,t]:[s,n,t]).join(":")};f.event=function(a){if(a.touches){var s=a.touches[0]||a.changedTouches[0];a.clientX=s.clientX||0,a.clientY=s.clientY||0,a.offsetX=s.pageX-s.target.offsetLeft,a.offsetY=s.pageY-s.target.offsetTop}a._target=a.target||a.srcElement};f.typeOf=function(a){return Object.prototype.toString.call(a).match(/([^\s.*]+)(?=]$)/g)[0]};f.deepCopy=function(a,s){if(f.typeOf(s)==="Object"&&f.typeOf(a)==="Object")return Object.keys(s).forEach(function(n){f.typeOf(s[n])==="Object"&&!(s[n]instanceof Node)?a[n]===void 0||a[n]===void 0?a[n]=s[n]:f.deepCopy(a[n],s[n]):f.typeOf(s[n])==="Array"?a[n]=f.typeOf(a[n])==="Array"?a[n].concat(s[n]):s[n]:a[n]=s[n]}),a};f.deepMerge=function(a,s){return Object.keys(s).map(function(n){if(f.typeOf(s[n])==="Array"&&f.typeOf(a[n])==="Array"){if(f.typeOf(a[n])==="Array"){var t;(t=a[n]).push.apply(t,We(s[n]))}}else f.typeOf(a[n])===f.typeOf(s[n])&&a[n]!==null&&f.typeOf(a[n])==="Object"&&!(s[n]instanceof window.Node)?f.deepMerge(a[n],s[n]):s[n]!==null&&(a[n]=s[n])}),a};f.getBgImage=function(a){var s=(a.currentStyle||window.getComputedStyle(a,null)).backgroundImage;if(!s||s==="none")return"";var n=document.createElement("a");return n.href=s.replace(/url\("|"\)/g,""),n.href};f.copyDom=function(a){if(a&&a.nodeType===1){var s=document.createElement(a.tagName);return Array.prototype.forEach.call(a.attributes,function(n){s.setAttribute(n.name,n.value)}),a.innerHTML&&(s.innerHTML=a.innerHTML),s}else return""};f.setInterval=function(a,s,n,t){a._interval[s]||(a._interval[s]=window.setInterval(n.bind(a),t))};f.clearInterval=function(a,s){clearInterval(a._interval[s]),a._interval[s]=null};f.setTimeout=function(a,s,n){a._timers||(a._timers=[]);var t=setTimeout(function(){s(),f.clearTimeout(a,t)},n);return a._timers.push(t),t};f.clearTimeout=function(a,s){var n=a._timers;if(f.typeOf(n)==="Array"){for(var t=0;t<n.length;t++)if(n[t]===s){n.splice(t,1),clearTimeout(s);break}}else clearTimeout(s)};f.clearAllTimers=function(a){var s=a._timers;f.typeOf(s)==="Array"&&(s.map(function(n){clearTimeout(n)}),a._timerIds=[])};f.createImgBtn=function(a,s,n,t){var e=f.createDom("xg-".concat(a),"",{},"xgplayer-".concat(a,"-img"));if(e.style.backgroundImage='url("'.concat(s,'")'),n&&t){var i,r,o;["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(l){return n.indexOf(l)>-1&&t.indexOf(l)>-1?(i=parseFloat(n.slice(0,n.indexOf(l)).trim()),r=parseFloat(t.slice(0,t.indexOf(l)).trim()),o=l,!1):!0}),e.style.width="".concat(i).concat(o),e.style.height="".concat(r).concat(o),e.style.backgroundSize="".concat(i).concat(o," ").concat(r).concat(o),a==="start"?e.style.margin="-".concat(r/2).concat(o," auto auto -").concat(i/2).concat(o):e.style.margin="auto 5px auto 5px"}return e};f.Hex2RGBA=function(a,s){var n=[];if(/^\#[0-9A-F]{3}$/i.test(a)){var t="#";a.replace(/[0-9A-F]/ig,function(e){t+=e+e}),a=t}return/^#[0-9A-F]{6}$/i.test(a)?(a.replace(/[0-9A-F]{2}/ig,function(e){n.push(parseInt(e,16))}),"rgba(".concat(n.join(","),", ").concat(s,")")):"rgba(255, 255, 255, 0.1)"};f.getFullScreenEl=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement};f.checkIsFunction=function(a){return a&&typeof a=="function"};f.checkIsObject=function(a){return a!==null&&Re(a)==="object"};f.hide=function(a){a.style.display="none"};f.show=function(a,s){a.style.display=s||"block"};f.isUndefined=function(a){if(typeof a>"u"||a===null)return!0};f.isNotNull=function(a){return a!=null};f.setStyleFromCsstext=function(a,s){if(s)if(f.typeOf(s)==="String"){var n=s.replace(/\s+/g,"").split(";");n.map(function(t){if(t){var e=t.split(":");e.length>1&&(a.style[e[0]]=e[1])}})}else Object.keys(s).map(function(t){a.style[t]=s[t]})};function dh(a,s){for(var n=0,t=s.length;n<t;n++)if(a.indexOf(s[n])>-1)return!0;return!1}f.filterStyleFromText=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["width","height","top","left","bottom","right","position","z-index","padding","margin","transform"],n=a.style.cssText;if(!n)return{};var t=n.replace(/\s+/g,"").split(";"),e={},i={};return t.map(function(r){if(r){var o=r.split(":");o.length>1&&(dh(o[0],s)?e[o[0]]=o[1]:i[o[0]]=o[1])}}),a.setAttribute("style",""),Object.keys(i).map(function(r){a.style[r]=i[r]}),e};f.getStyleFromCsstext=function(a){var s=a.style.cssText;if(!s)return{};var n=s.replace(/\s+/g,"").split(";"),t={};return n.map(function(e){if(e){var i=e.split(":");i.length>1&&(t[i[0]]=i[1])}}),t};f.preloadImg=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(a){var t=new window.Image;t.onload=function(e){t=null,s&&s(e)},t.onerror=function(e){t=null,n&&n(e)},t.src=a}};f.stopPropagation=function(a){a&&a.stopPropagation()};f.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0};f.scrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};f.checkTouchSupport=function(){return"ontouchstart"in window};f.getBuffered2=function(a){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5,n=[],t=0;t<a.length;t++)n.push({start:a.start(t)<.5?0:a.start(t),end:a.end(t)});n.sort(function(l,u){var c=l.start-u.start;return c||u.end-l.end});var e=[];if(s)for(var i=0;i<n.length;i++){var r=e.length;if(r){var o=e[r-1].end;n[i].start-o<s?n[i].end>o&&(e[r-1].end=n[i].end):e.push(n[i])}else e.push(n[i])}else e=n;return new fh(e)};f.getEventPos=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return a.touches&&a.touches.length>0&&(a=a.touches[0]),{x:a.x/s,y:a.y/s,clientX:a.clientX/s,clientY:a.clientY/s,offsetX:a.offsetX/s,offsetY:a.offsetY/s,pageX:a.pageX/s,pageY:a.pageY/s}};f.requestAnimationFrame=function(a){var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(s)return s(a)};f.getHostFromUrl=function(a){if(f.typeOf(a)!=="String")return"";var s=a.split("/"),n="";return s.length>3&&s[2]&&(n=s[2]),n};f.cancelAnimationFrame=function(a){var s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.cancelRequestAnimationFrame;s&&s(a)};f.isMSE=function(a){return a.media&&(a=a.media),!a||!(a instanceof HTMLMediaElement)?!1:/^blob/.test(a.currentSrc)||/^blob/.test(a.src)};f.isBlob=function(a){return typeof a=="string"&&/^blob/.test(a)};f.generateSessionId=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=new Date().getTime();try{a=parseInt(a)}catch{a=0}s+=a,window.performance&&typeof window.performance.now=="function"&&(s+=parseInt(window.performance.now()));var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(s+Math.random()*16)%16|0;return s=Math.floor(s/16),(t==="x"?e:e&3|8).toString(16)});return n};f.createEvent=function(a){var s;return typeof window.Event=="function"?s=new Event(a):(s=document.createEvent("Event"),s.initEvent(a,!0,!0)),s};f.adjustTimeByDuration=function(a,s,n){return!s||!a?a:a>s||n&&a<s?s:a};f.createPositionBar=function(a,s){var n=f.createDom("xg-bar","",{"data-index":-1},a);return s.appendChild(n),n};f.getTransformStyle=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{x:0,y:0,scale:1,rotate:0},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n={scale:"".concat(a.scale||1),translate:"".concat(a.x||0,"%, ").concat(a.y||0,"%"),rotate:"".concat(a.rotate||0,"deg")},t=Object.keys(n);return t.forEach(function(e){var i=new RegExp("".concat(e,"\\([^\\(]+\\)"),"g"),r="".concat(e,"(").concat(n[e],")");i.test(s)?(i.lastIndex=-1,s=s.replace(i,r)):s+="".concat(r," ")}),s};f.convertDeg=function(a){return Math.abs(a)<=1?a*360:a%360};f.getIndexByTime=function(a,s){var n=s.length,t=-1;if(n<1)return t;if(a<=s[0].end||n<2)t=0;else if(a>s[n-1].end)t=n-1;else for(var e=1;e<n;e++)if(a>s[e-1].end&&a<=s[e].end){t=e;break}return t};f.getOffsetCurrentTime=function(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,t=-1;if(n>=0&&n<s.length?t=n:t=f.getIndexByTime(a,s),t<0)return-1;var e=s.length,i=s[t],r=i.start,o=i.end,l=i.cTime,u=i.offset;return a<r?l:a>=r&&a<=o?a-u:a>o&&t>=e-1?o:-1};f.getCurrentTimeByOffset=function(a,s){var n=-1;if(!s||s.length<0)return a;for(var t=0;t<s.length;t++)if(a<=s[t].duration){n=t;break}if(n!==-1){var e=s[n].start;return n-1<0?e+a:e+(a-s[n-1].duration)}return a};function Rr(a){var s=Re(a);return a!==null&&(s==="object"||s==="function")}function gh(a,s,n){var t,e,i,r,o,l,u=0,c=!1,h=!1,d=!0,v=!s&&s!==0&&typeof window.requestAnimationFrame=="function";if(typeof a!="function")throw new TypeError("Expected a function");s=+s||0,Rr(n)&&(c=!!n.leading,h="maxWait"in n,i=h?Math.max(+n.maxWait||0,s):i,d="trailing"in n?!!n.trailing:d);function g(V){var ge=t,j=e;return t=e=void 0,u=V,r=a.apply(j,ge),r}function p(V,ge){return v?(window.cancelAnimationFrame(o),window.requestAnimationFrame(V)):setTimeout(V,ge)}function m(V){if(v)return window.cancelAnimationFrame(V);clearTimeout(V)}function E(V){return u=V,o=p($,s),c?g(V):r}function I(V){var ge=V-l,j=V-u,K=s-ge;return h?Math.min(K,i-j):K}function P(V){var ge=V-l,j=V-u;return l===void 0||ge>=s||ge<0||h&&j>=i}function $(){var V=Date.now();if(P(V))return N(V);o=p($,I(V))}function N(V){return o=void 0,d&&t?g(V):(t=e=void 0,r)}function ce(){o!==void 0&&m(o),u=0,t=l=e=o=void 0}function R(){return o===void 0?r:N(Date.now())}function A(){return o!==void 0}function ke(){for(var V=Date.now(),ge=P(V),j=arguments.length,K=new Array(j),he=0;he<j;he++)K[he]=arguments[he];if(t=K,e=this,l=V,ge){if(o===void 0)return E(l);if(h)return o=p($,s),g(l)}return o===void 0&&(o=p($,s)),r}return ke.cancel=ce,ke.flush=R,ke.pending=A,ke}function vh(a,s,n){var t=!0,e=!0;if(typeof a!="function")throw new TypeError("Expected a function");return Rr(n)&&(t="leading"in n?!!n.leading:t,e="trailing"in n?!!n.trailing:e),gh(a,s,{leading:t,trailing:e,maxWait:s})}function ph(){var a=(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase();return a==="zh-cn"&&(a="zh"),a}function mh(a,s,n){if(a){var t=a.getAttribute(n);return!!(t&&t===s&&(a.tagName==="VIDEO"||a.tagName==="AUDIO"))}}var Bn={android:/(Android)\s([\d.]+)/,ios:/(Version)\/([\d.]+)/},yh=["avc1.42E01E, mp4a.40.2","avc1.58A01E, mp4a.40.2","avc1.4D401E, mp4a.40.2","avc1.64001E, mp4a.40.2","avc1.42E01E","mp4v.20.8","mp4v.20.8, mp4a.40.2","mp4v.20.240, mp4a.40.2"],re={get device(){var a=re.os;return a.isPc?"pc":"mobile"},get browser(){if(typeof navigator>"u")return"";var a=navigator.userAgent.toLowerCase(),s={ie:/rv:([\d.]+)\) like gecko/,firefox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(s).filter(function(n){return s[n].test(a)}))[0]},get os(){if(typeof navigator>"u")return{};var a=navigator.userAgent,s=/(?:Windows Phone)/.test(a),n=/(?:SymbianOS)/.test(a)||s,t=/(?:Tizen)/ig.test(a),e=/(?:Web0S)/ig.test(a),i=/(?:Android)/.test(a),r=/(?:Firefox)/.test(a),o=/(?:iPad|PlayBook)/.test(a)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,l=o||i&&!/(?:Mobile)/.test(a)||r&&/(?:Tablet)/.test(a),u=/(?:iPhone)/.test(a)&&!l,c=!u&&!i&&!n&&!l;return{isTablet:l,isPhone:u,isIpad:o,isIos:u||o,isAndroid:i,isPc:c,isSymbian:n,isWindowsPhone:s,isFireFox:r,isTizen:t,isWebOS:e}},get osVersion(){if(typeof navigator>"u")return 0;var a=navigator.userAgent,s="";/(?:iPhone)|(?:iPad|PlayBook)/.test(a)?s=Bn.ios:s=Bn.android;var n=s?s.exec(a):[];if(n&&n.length>=3){var t=n[2].split(".");return t.length>0?parseInt(t[0]):0}return 0},get isWeixin(){if(typeof navigator>"u")return!1;var a=/(micromessenger)\/([\d.]+)/,s=a.exec(navigator.userAgent.toLocaleLowerCase());return!!s},isSupportMP4:function(){var s={isSupport:!1,mime:""};if(typeof document>"u")return s;if(this.supportResult)return this.supportResult;var n=document.createElement("video");return typeof n.canPlayType=="function"&&yh.map(function(t){n.canPlayType('video/mp4; codecs="'.concat(t,'"'))==="probably"&&(s.isSupport=!0,s.mime+="||".concat(t))}),this.supportResult=s,n=null,s},isMSESupport:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'video/mp4; codecs="avc1.42E01E,mp4a.40.2"';if(typeof MediaSource>"u"||!MediaSource)return!1;try{return MediaSource.isTypeSupported(s)}catch(n){return this._logger.error(s,n),!1}},isHevcSupported:function(){return typeof MediaSource>"u"||!MediaSource.isTypeSupported?!1:MediaSource.isTypeSupported('video/mp4;codecs="hev1.1.6.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.2.4.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.3.E.L120.90"')||MediaSource.isTypeSupported('video/mp4;codecs="hev1.4.10.L120.90"')},probeConfigSupported:function(s){var n={supported:!1,smooth:!1,powerEfficient:!1};if(!s||typeof navigator>"u")return Promise.resolve(n);if(navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo)return navigator.mediaCapabilities.decodingInfo(s);var t=s.video||{},e=s.audio||{};try{var i=MediaSource.isTypeSupported(t.contentType),r=MediaSource.isTypeSupported(e.contentType);return Promise.resolve({supported:i&&r,smooth:!1,powerEfficient:!1})}catch{return Promise.resolve(n)}}},qi="3.0.23",$n={1:"media",2:"media",3:"media",4:"media",5:"media",6:"media"},Vn={1:5101,2:5102,3:5103,4:5104,5:5105,6:5106},ei=z(function a(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{errorType:"",errorCode:0,errorMessage:"",originError:"",ext:{},mediaError:null};U(this,a);var t=s&&s.i18n?s.i18n.ERROR_TYPES:null;if(s.media){var e=n.mediaError?n.mediaError:s.media.error||{},i=s.duration,r=s.currentTime,o=s.ended,l=s.src,u=s.currentSrc,c=s.media,h=c.readyState,d=c.networkState,v=n.errorCode||e.code;Vn[v]&&(v=Vn[v]);var g={playerVersion:qi,currentTime:r,duration:i,ended:o,readyState:h,networkState:d,src:l||u,errorType:n.errorType,errorCode:v,message:n.errorMessage||e.message,mediaError:e,originError:n.originError?n.originError.stack:"",host:f.getHostFromUrl(l||u)};return n.ext&&Object.keys(n.ext).map(function(I){g[I]=n.ext[I]}),g}else if(arguments.length>1){for(var p={playerVersion:qi,domain:document.domain},m=["errorType","currentTime","duration","networkState","readyState","src","currentSrc","ended","errd","errorCode","mediaError"],E=0;E<arguments.length;E++)p[m[E]]=arguments[E];return p.ex=t?(t[arguments[0]]||{}).msg:"",p}}),Ue="play",gn="playing",Tt="ended",Rt="pause",zt="error",pi="seeking",tt="seeked",Ve="timeupdate",jt="waiting",Qe="canplay",_h="canplaythrough",rt="durationchange",Nr="volumechange",it="loadeddata",kh="loadedmetadata",Fr="ratechange",Hr="progress",vn="loadstart",wt="emptied",bh="stalled",Ch="suspend",Th="abort",wh="bufferedChange",pn="focus",Br="blur",mn="ready",$r="urlNull",yt="autoplay_started",yn="autoplay_was_prevented",mi="complete",ti="replay",_n="destroy",yi="urlchange",Zi="download_speed_change",Vr="leaveplayer",Ur="enterplayer",zr="loading",Je="fullscreen_change",ii="cssFullscreen_change",ni="mini_state_change",kn="definition_change",Eh="before_definition_change",Ji="after_definition_change",Sh="SEI_PARSED",Ph="retry",ct="video_resize",Qi="pip_change",jr="rotate",Wr="screenShot",ri="playnext",Gr="shortcut",Kr="xglog",si="user_action",_i="reset",Yr="source_error",Xr="source_success",xh="switch_subtitle",qr=["play","playing","ended","pause","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadedmetadata","ratechange","progress","loadstart","emptied","stalled","suspend","abort","lowdecode"],Zr={STATS_INFO:"stats_info",STATS_DOWNLOAD:"stats_download",STATS_RESET:"stats_reset"},Jr="fps_stuck";const Ih=Object.freeze(Object.defineProperty({__proto__:null,ABORT:Th,AFTER_DEFINITION_CHANGE:Ji,AUTOPLAY_PREVENTED:yn,AUTOPLAY_STARTED:yt,BEFORE_DEFINITION_CHANGE:Eh,BUFFER_CHANGE:wh,CANPLAY:Qe,CANPLAY_THROUGH:_h,COMPLETE:mi,CSS_FULLSCREEN_CHANGE:ii,DEFINITION_CHANGE:kn,DESTROY:_n,DOWNLOAD_SPEED_CHANGE:Zi,DURATION_CHANGE:rt,EMPTIED:wt,ENDED:Tt,ENTER_PLAYER:Ur,ERROR:zt,FPS_STUCK:Jr,FULLSCREEN_CHANGE:Je,LEAVE_PLAYER:Vr,LOADED_DATA:it,LOADED_METADATA:kh,LOADING:zr,LOAD_START:vn,MINI_STATE_CHANGE:ni,PAUSE:Rt,PIP_CHANGE:Qi,PLAY:Ue,PLAYER_BLUR:Br,PLAYER_FOCUS:pn,PLAYING:gn,PLAYNEXT:ri,PROGRESS:Hr,RATE_CHANGE:Fr,READY:mn,REPLAY:ti,RESET:_i,RETRY:Ph,ROTATE:jr,SCREEN_SHOT:Wr,SEEKED:tt,SEEKING:pi,SEI_PARSED:Sh,SHORTCUT:Gr,SOURCE_ERROR:Yr,SOURCE_SUCCESS:Xr,STALLED:bh,STATS_EVENTS:Zr,SUSPEND:Ch,SWITCH_SUBTITLE:xh,TIME_UPDATE:Ve,URL_CHANGE:yi,URL_NULL:$r,USER_ACTION:si,VIDEO_EVENTS:qr,VIDEO_RESIZE:ct,VOLUME_CHANGE:Nr,WAITING:jt,XGLOG:Kr},Symbol.toStringTag,{value:"Module"}));function xi(a,s){!this||!this.emit||(a==="error"?this.errorHandler(a,s.error):this.emit(a,s))}function Lh(a,s){return function(n,t){var e={player:s,eventName:a,originalEvent:n,detail:n.detail||{},timeStamp:n.timeStamp,currentTime:s.currentTime,duration:s.duration,paused:s.paused,ended:s.ended,isInternalOp:!!s._internalOp[n.type],muted:s.muted,volume:s.volume,host:f.getHostFromUrl(s.currentSrc),vtype:s.vtype};if(s.removeInnerOP(n.type),a==="timeupdate"&&(s._currentTime=s.media&&s.media.currentTime),a==="ratechange"){var i=s.media?s.media.playbackRate:0;if(i&&s._rate===i)return;s._rate=s.media&&s.media.playbackRate}if(a==="durationchange"&&(s._duration=s.media.duration),a==="volumechange"&&(e.isMutedChange=s._lastMuted!==s.muted,s._lastMuted=s.muted),a==="error"&&(e.error=t||s.video.error),s.mediaEventMiddleware[a]){var r=xi.bind(s,a,e);try{s.mediaEventMiddleware[a].call(s,e,r)}catch(o){throw xi.call(s,a,e),o}}else xi.call(s,a,e)}}var Ah=(function(a){q(n,a);var s=Z(n);function n(t){var e;U(this,n),e=s.call(this,t),e._hasStart=!1,e._currentTime=0,e._duration=0,e._internalOp={},e._lastMuted=!1,e.vtype="MP4",e._rate=-1,e.mediaConfig=Object.assign({},{controls:!1,autoplay:t.autoplay,playsinline:t.playsinline,"x5-playsinline":t.playsinline,"webkit-playsinline":t.playsinline,"x5-video-player-fullscreen":t["x5-video-player-fullscreen"]||t.x5VideoPlayerFullscreen,"x5-video-orientation":t["x5-video-orientation"]||t.x5VideoOrientation,airplay:t.airplay,"webkit-airplay":t.airplay,tabindex:t.tabindex|0,mediaType:t.mediaType||"video","data-index":-1},t.videoConfig,t.videoAttributes);var i=t["x5-video-player-type"]||t.x5VideoPlayerType;return re.isWeixin&&re.os.isAndroid&&i&&(e.mediaConfig["x5-video-player-type"]=i,delete e.mediaConfig.playsinline,delete e.mediaConfig["webkit-playsinline"],delete e.mediaConfig["x5-playsinline"]),t.loop&&(e.mediaConfig.loop="loop"),t.autoplayMuted&&!Object.prototype.hasOwnProperty.call(e.mediaConfig,"muted")&&(e.mediaConfig.muted=!0),e.media=t.mediaEl instanceof HTMLMediaElement?t.mediaEl:typeof t.mediaEl=="function"?t.mediaEl(e.mediaConfig):f.createDom(e.mediaConfig.mediaType,"",e.mediaConfig,""),t.defaultPlaybackRate&&(e.media.defaultPlaybackRate=e.media.playbackRate=t.defaultPlaybackRate),f.typeOf(t.volume)==="Number"&&(e.volume=t.volume),t.autoplayMuted&&(e.media.muted=!0,e._lastMuted=!0),t.autoplay&&(e.media.autoplay=!0),t.playsinline&&(e.media.playsinline=!0),e._interval={},e.mediaEventMiddleware={},e.attachVideoEvents(),e}return z(n,[{key:"setEventsMiddleware",value:function(e){var i=this;Object.keys(e).map(function(r){i.mediaEventMiddleware[r]=e[r]})}},{key:"removeEventsMiddleware",value:function(e){var i=this;Object.keys(e).map(function(r){delete i.mediaEventMiddleware[r]})}},{key:"attachVideoEvents",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers||(this._evHandlers=qr.map(function(r){var o="on".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));return typeof e[o]=="function"&&e.on(r,e[o]),S({},r,Lh(r,e))})),this._evHandlers.forEach(function(r){var o=Object.keys(r)[0];i.addEventListener(o,r[o],!1)})}},{key:"detachVideoEvents",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.media;this._evHandlers.forEach(function(r){var o=Object.keys(r)[0];i.removeEventListener(o,r[o],!1)}),this._evHandlers.forEach(function(r){var o=Object.keys(r)[0],l="on".concat(o.charAt(0).toUpperCase()).concat(o.slice(1));typeof e[l]=="function"&&e.off(o,e[l])}),this._evHandlers=null}},{key:"_attachSourceEvents",value:function(e,i){var r=this;e.removeAttribute("src"),e.load(),i.forEach(function(h,d){r.media.appendChild(f.createDom("source","",{src:"".concat(h.src),type:"".concat(h.type||""),"data-index":d+1}))});var o=e.children;if(o){this._videoSourceCount=o.length,this._videoSourceIndex=o.length,this._vLoadeddata=function(h){r.emit(Xr,{src:h.target.currentSrc,host:f.getHostFromUrl(h.target.currentSrc)})};for(var l=null,u=0;u<this._evHandlers.length;u++)if(Object.keys(this._evHandlers[u])[0]==="error"){l=this._evHandlers[u];break}!this._sourceError&&(this._sourceError=function(h){var d=parseInt(h.target.getAttribute("data-index"),10);if(r._videoSourceIndex--,r._videoSourceIndex===0||d>=r._videoSourceCount){var v={code:4,message:"sources_load_error"};l?l.error(h,v):r.errorHandler("error",v)}var g=$n[4];r.emit(Yr,new ei(r,{errorType:g,errorCode:4,errorMessage:"sources_load_error",mediaError:{code:4,message:"sources_load_error"},src:h.target.src}))});for(var c=0;c<o.length;c++)o[c].addEventListener("error",this._sourceError);e.addEventListener("loadeddata",this._vLoadeddata)}}},{key:"_detachSourceEvents",value:function(e){var i=e.children;if(!(!i||i.length===0||!this._sourceError)){for(var r=0;r<i.length;r++)i[r].removeEventListener("error",this._sourceError);for(;i.length>0;)e.removeChild(i[0]);this._vLoadeddata&&e.removeEventListener("loadeddata",this._vLoadeddata)}}},{key:"errorHandler",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.media&&(this.media.error||i)){var r=this.media.error||i,o=r.code?$n[r.code]:"other",l=r.message;this.media.currentSrc||this.media.srcObject||(l="empty_src",r={code:6,message:l}),this.emit(e,new ei(this,{errorType:o,errorCode:r.code,errorMessage:r.message||"",mediaError:r}))}}},{key:"destroy",value:function(){this.media&&(this.media.pause&&(this.media.pause(),this.media.muted=!0),this.media.removeAttribute("src"),this.media.load()),this._currentTime=0,this._duration=0,this.mediaConfig=null;for(var e in this._interval)Object.prototype.hasOwnProperty.call(this._interval,e)&&(clearInterval(this._interval[e]),this._interval[e]=null);this.detachVideoEvents(),this.media=null,this.mediaEventMiddleware={},this.removeAllListeners()}},{key:"video",get:function(){return this.media},set:function(e){this.media=e}},{key:"play",value:function(){var e=this.media?this.media.play():null;return e}},{key:"pause",value:function(){this.media&&this.media.pause()}},{key:"load",value:function(){this.media&&this.media.load()}},{key:"canPlayType",value:function(e){return this.media?this.media.canPlayType(e):!1}},{key:"getBufferedRange",value:function(e){var i=[0,0];if(!this.media)return i;e||(e=this.media.buffered);var r=this.media.currentTime;if(e)for(var o=0,l=e.length;o<l&&(i[0]=e.start(o),i[1]=e.end(o),!(i[0]<=r&&r<=i[1]));o++);return i[0]-r<=0&&r-i[1]<=0?i:[0,0]}},{key:"autoplay",get:function(){return this.media?this.media.autoplay:!1},set:function(e){this.media&&(this.media.autoplay=e)}},{key:"buffered",get:function(){return this.media?this.media.buffered:null}},{key:"buffered2",get:function(){return this.media&&this.media.buffered?f.getBuffered2(this.media.buffered):null}},{key:"bufferedPoint",get:function(){var e={start:0,end:0};if(!this.media)return e;var i=this.media.buffered;if(!i||i.length===0)return e;for(var r=0;r<i.length;r++)if((i.start(r)<=this.currentTime||i.start(r)<.1)&&i.end(r)>=this.currentTime)return{start:i.start(r),end:i.end(r)};return e}},{key:"crossOrigin",get:function(){return this.media?this.media.crossOrigin:""},set:function(e){this.media&&(this.media.crossOrigin=e)}},{key:"currentSrc",get:function(){return this.media?this.media.currentSrc:""},set:function(e){this.media&&(this.media.currentSrc=e)}},{key:"currentTime",get:function(){return this.media?this.media.currentTime!==void 0?this.media.currentTime:this._currentTime:0},set:function(e){this.media&&(this.media.currentTime=e)}},{key:"defaultMuted",get:function(){return this.media?this.media.defaultMuted:!1},set:function(e){this.media&&(this.media.defaultMuted=e)}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.media?this.media.ended:!1}},{key:"error",get:function(){return this.media.error}},{key:"errorNote",get:function(){var e=this.media.error;if(!e)return"";var i=["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];return i[this.media.error.code-1]}},{key:"loop",get:function(){return this.media?this.media.loop:!1},set:function(e){this.media&&(this.media.loop=e)}},{key:"muted",get:function(){return this.media?this.media.muted:!1},set:function(e){!this.media||this.media.muted===e||(this._lastMuted=this.media.muted,this.media.muted=e)}},{key:"networkState",get:function(){return this.media.networkState}},{key:"paused",get:function(){return this.media?this.media.paused:!0}},{key:"playbackRate",get:function(){return this.media?this.media.playbackRate:0},set:function(e){!this.media||e===1/0||(this.media.defaultPlaybackRate=e,this.media.playbackRate=e)}},{key:"played",get:function(){return this.media?this.media.played:null}},{key:"preload",get:function(){return this.media?this.media.preload:!1},set:function(e){this.media&&(this.media.preload=e)}},{key:"readyState",get:function(){return this.media.readyState}},{key:"seekable",get:function(){return this.media?this.media.seekable:!1}},{key:"seeking",get:function(){return this.media?this.media.seeking:!1}},{key:"src",get:function(){return this.media?this.media.src:""},set:function(e){if(this.media){if(this.emit(yi,e),this.emit(jt),this._currentTime=0,this._duration=0,f.isMSE(this.media)){this.onWaiting();return}this._detachSourceEvents(this.media),f.typeOf(e)==="Array"?this._attachSourceEvents(this.media,e):e?this.media.src=e:this.media.removeAttribute("src"),this.load()}}},{key:"volume",get:function(){return this.media?this.media.volume:0},set:function(e){e===1/0||!this.media||(this.media.volume=e)}},{key:"aspectRatio",get:function(){return this.media?this.media.videoWidth/this.media.videoHeight:0}},{key:"addInnerOP",value:function(e){this._internalOp[e]=!0}},{key:"removeInnerOP",value:function(e){delete this._internalOp[e]}},{key:"emit",value:function(e,i){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=ee(Q(n.prototype),"emit",this)).call.apply(r,[this,e,i].concat(l))}},{key:"on",value:function(e,i){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=ee(Q(n.prototype),"on",this)).call.apply(r,[this,e,i].concat(l))}},{key:"once",value:function(e,i){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=ee(Q(n.prototype),"once",this)).call.apply(r,[this,e,i].concat(l))}},{key:"off",value:function(e,i){for(var r,o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];(r=ee(Q(n.prototype),"off",this)).call.apply(r,[this,e,i].concat(l))}},{key:"offAll",value:function(){ee(Q(n.prototype),"removeAllListeners",this).call(this)}}]),n})(Or),Mh=(function(){function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};U(this,a),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=s}return z(a,[{key:"openDB",value:function(n){var t=this,e=this,i=this.myDB.version||1,r=e.indexedDB.open(e.myDB.name,i);r.onerror=function(o){},r.onsuccess=function(o){t.myDB.db=o.target.result,n.call(e)},r.onupgradeneeded=function(o){var l=o.target.result;o.target.transaction,l.objectStoreNames.contains(e.myDB.ojstore.name)||l.createObjectStore(e.myDB.ojstore.name,{keyPath:e.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){var n=this;n.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(n,t){for(var e=this.myDB.db.transaction(n,"readwrite").objectStore(n),i,r=0;r<t.length;r++)i=e.add(t[r]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"putData",value:function(n,t){for(var e=this.myDB.db.transaction(n,"readwrite").objectStore(n),i,r=0;r<t.length;r++)i=e.put(t[r]),i.onerror=function(){},i.onsuccess=function(){}}},{key:"getDataByKey",value:function(n,t,e){var i=this,r=this.myDB.db.transaction(n,"readwrite").objectStore(n),o=r.get(t);o.onerror=function(){e.call(i,null)},o.onsuccess=function(l){var u=l.target.result;e.call(i,u)}}},{key:"deleteData",value:function(n,t){var e=this.myDB.db.transaction(n,"readwrite").objectStore(n);e.delete(t)}},{key:"clearData",value:function(n){var t=this.myDB.db.transaction(n,"readwrite").objectStore(n);t.clear()}}]),a})(),Un=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],zn=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],jn=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],ut="data-xgplayerid";function Gt(a,s,n){for(var t=arguments.length,e=new Array(t>3?t-3:0),i=3;i<t;i++)e[i-3]=arguments[i];var r=s.call.apply(s,[a].concat(e));!n||typeof n!="function"||(r&&r.then?r.then(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n.call.apply(n,[a].concat(l))}):n.call.apply(n,[a].concat(e)))}function ai(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),!this.__hooks[a]&&(this.__hooks[a]=null),(function(){var t=arguments,e=this;if(n.pre)try{var i;(i=n.pre).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(a,":pre error] >> ").concat(o.message),o}if(this.__hooks&&this.__hooks[a])try{var r=Xe.apply(void 0,[this,a,s].concat(Array.prototype.slice.call(arguments)));r?r.then?r.then(function(o){o!==!1&&Gt.apply(void 0,[e,s,n.next].concat(We(t)))}).catch(function(o){throw o}):Gt.apply(void 0,[this,s,n.next].concat(Array.prototype.slice.call(arguments))):r===void 0&&Gt.apply(void 0,[this,s,n.next].concat(Array.prototype.slice.call(arguments)))}catch(o){throw o.message="[pluginName: ".concat(this.pluginName,":").concat(a,"] >> ").concat(o.message),o}else Gt.apply(void 0,[this,s,n.next].concat(Array.prototype.slice.call(arguments)))}).bind(this)}function Qr(a,s){var n=this.__hooks;if(!n||!Array.isArray(n[a]))return-1;for(var t=n[a],e=0;e<t.length;e++)if(t[e]===s)return e;return-1}function oi(a,s){var n=this.__hooks;if(n)return n.hasOwnProperty(a)?(Array.isArray(n[a])||(n[a]=[]),Qr.call(this,a,s)===-1&&n[a].push(s),!0):(console.warn("has no supported hook which name [".concat(a,"]")),!1)}function li(a,s){var n=this.__hooks;if(n)if(Array.isArray(n[a])){var t=n[a],e=Qr.call(this,a,s);e!==-1&&t.splice(e,1)}else n[a]&&(n[a]=null)}function Wn(a){if(!(!this.plugins||!this.plugins[a.toLowerCase()])){for(var s=this.plugins[a.toLowerCase()],n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];return s.useHooks&&s.useHooks.apply(s,t)}}function Gn(a){if(!(!this.plugins||!this.plugins[a.toLowerCase()])){var s=this.plugins[a.toLowerCase()];if(s){for(var n=arguments.length,t=new Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];return s.removeHooks&&s.removeHooks.apply(s,t)}}}function es(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.__hooks={},s&&s.map(function(n){a.__hooks[n]=null}),Object.defineProperty(a,"hooks",{get:function(){return a.__hooks&&Object.keys(a.__hooks).map(function(t){if(a.__hooks[t])return t})}})}function ts(a){a.__hooks=null}function Xe(a,s,n){for(var t=arguments.length,e=new Array(t>3?t-3:0),i=3;i<t;i++)e[i-3]=arguments[i];if(a.__hooks&&Array.isArray(a.__hooks[s])){var r=a.__hooks[s],o=-1,l=function u(c,h,d){for(var v=arguments.length,g=new Array(v>3?v-3:0),p=3;p<v;p++)g[p-3]=arguments[p];if(o++,r.length===0||o===r.length)return d.call.apply(d,[c,c].concat(g));var m=r[o],E=m.call.apply(m,[c,c].concat(g));if(E&&E.then)return E.then(function(I){return I===!1?null:u.apply(void 0,[c,h,d].concat(g))}).catch(function(I){console.warn("[runHooks]".concat(h," reject"),I.message)});if(E!==!1)return u.apply(void 0,[c,h,d].concat(g));if(E===!1)return!1};return l.apply(void 0,[a,s,n].concat(e))}else return n.call.apply(n,[a,a].concat(e))}function Ii(a,s){fe.logError("[".concat(a,"] event or callback cant be undefined or null when call ").concat(s))}var ht=(function(){function a(s){U(this,a),f.checkIsFunction(this.beforeCreate)&&this.beforeCreate(s),es(this),this.__args=s,this.__events={},this.__onceEvents={},this.config=s.config||{},this.player=null,this.playerConfig={},this.pluginName="",this.__init(s)}return z(a,[{key:"beforeCreate",value:function(n){}},{key:"afterCreate",value:function(){}},{key:"beforePlayerInit",value:function(){}},{key:"onPluginsReady",value:function(){}},{key:"afterPlayerInit",value:function(){}},{key:"destroy",value:function(){}},{key:"__init",value:function(n){this.player=n.player,this.playerConfig=n.player&&n.player.config,this.pluginName=n.pluginName?n.pluginName.toLowerCase():this.constructor.pluginName.toLowerCase(),this.logger=n.player&&n.player.logger}},{key:"updateLang",value:function(n){n||(n=this.lang)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}},{key:"domEventType",get:function(){var n=f.checkTouchSupport()?"touch":"mouse";return this.playerConfig&&(this.playerConfig.domEventType==="touch"||this.playerConfig.domEventType==="mouse")&&(n=this.playerConfig.domEventType),n}},{key:"on",value:function(n,t){var e=this;if(!n||!t||!this.player){Ii(this.pluginName,"plugin.on(event, callback)");return}typeof n=="string"?(this.__events[n]=t,this.player.on(n,t)):Array.isArray(n)&&n.forEach(function(i){e.__events[i]=t,e.player.on(i,t)})}},{key:"once",value:function(n,t){var e=this;if(!n||!t||!this.player){Ii(this.pluginName,"plugin.once(event, callback)");return}typeof n=="string"?(this.__onceEvents[n]=t,this.player.once(n,t)):Array.isArray(n)&&n.forEach(function(i){e.__onceEvents[i]=t,e.player.once(n,t)})}},{key:"off",value:function(n,t){var e=this;if(!n||!t||!this.player){Ii(this.pluginName,"plugin.off(event, callback)");return}typeof n=="string"?(delete this.__events[n],this.player.off(n,t)):Array.isArray(n)&&n.forEach(function(i){delete e.__events[n],e.player.off(i,t)})}},{key:"offAll",value:function(){var n=this;["__events","__onceEvents"].forEach(function(t){Object.keys(n[t]).forEach(function(e){n[t][e]&&n.off(e,n[t][e]),e&&delete n[t][e]})}),this.__events={},this.__onceEvents={}}},{key:"emit",value:function(n){var t;if(this.player){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];(t=this.player).emit.apply(t,[n].concat(i))}}},{key:"emitUserAction",value:function(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.player){var i=Ee(Ee({},e),{},{pluginName:this.pluginName});this.player.emitUserAction(n,t,i)}}},{key:"hook",value:function(n,t){return ai.call.apply(ai,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return oi.call.apply(oi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];return li.call.apply(li,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"registerPlugin",value:function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(this.player)return e&&(t.pluginName=e),this.player.registerPlugin({plugin:n,options:t})}},{key:"getPlugin",value:function(n){return this.player?this.player.getPlugin(n):null}},{key:"__destroy",value:function(){var n=this,t=this.player,e=this.pluginName;this.offAll(),f.clearAllTimers(this),f.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger","__args","__hooks"].map(function(i){n[i]=null}),t.unRegisterPlugin(e),ts(this)}}],[{key:"defineGetterOrSetter",value:function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&Object.defineProperty(n,e,t[e])}},{key:"defineMethod",value:function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&typeof t[e]=="function"&&Object.defineProperty(n,e,{configurable:!0,value:t[e]})}},{key:"defaultConfig",get:function(){return{}}},{key:"pluginName",get:function(){return"pluginName"}}]),a})(),Li,Kn;function Dh(){if(Kn)return Li;Kn=1;var a=9;if(typeof Element<"u"&&!Element.prototype.matches){var s=Element.prototype;s.matches=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector}function n(t,e){for(;t&&t.nodeType!==a;){if(typeof t.matches=="function"&&t.matches(e))return t;t=t.parentNode}}return Li=n,Li}var Ai,Yn;function Oh(){if(Yn)return Ai;Yn=1;var a=Dh();function s(e,i,r,o,l){var u=t.apply(this,arguments);return e.addEventListener(r,u,l),{destroy:function(){e.removeEventListener(r,u,l)}}}function n(e,i,r,o,l){return typeof e.addEventListener=="function"?s.apply(null,arguments):typeof r=="function"?s.bind(null,document).apply(null,arguments):(typeof e=="string"&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(u){return s(u,i,r,o,l)}))}function t(e,i,r,o){return function(l){l.delegateTarget=a(l.target,i),l.delegateTarget&&o.call(e,l)}}return Ai=n,Ai}var Rh=Oh();const Xn=gi(Rh);var Nh={CONTROLS:"controls",ROOT:"root"},Ce={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_RIGHT:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"},qn={ICON_DISABLE:"xg-icon-disable"};function Mi(a){return a?a.indexOf&&/^(?:http|data:|\/)/.test(a):!1}function Fh(a,s){return Re(a)==="object"&&a.class&&typeof a.class=="string"?"".concat(s," ").concat(a.class):s}function Hh(a,s){return Re(a)==="object"&&a.attr&&Re(a.attr)==="object"&&Object.keys(a.attr).map(function(n){s[n]=a.attr[n]}),s}function Zn(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},e=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",i=null;if(a instanceof window.Element)return f.addClass(a,n),Object.keys(t).map(function(r){a.setAttribute(r,t[r])}),a;if(Mi(a)||Mi(a.url))return t.src=Mi(a)?a:a.url||"",i=f.createDom(a.tag||"img","",t,"xg-img ".concat(n)),i;if(typeof a=="function")try{return i=a(),i instanceof window.Element?(f.addClass(i,n),Object.keys(t).map(function(r){i.setAttribute(r,t[r])}),i):(fe.logWarn("warn>>icons.".concat(s," in config of plugin named [").concat(e,"] is a function mast return an Element Object")),null)}catch(r){return fe.logError("Plugin named [".concat(e,"]:createIcon"),r),null}return typeof a=="string"?f.createDomFromHtml(a,t,n):(fe.logWarn("warn>>icons.".concat(s," in config of plugin named [").concat(e,"] is invalid")),null)}function Bh(a,s){var n=s.config.icons||s.playerConfig.icons;Object.keys(a).map(function(t){var e=a[t],i=e&&e.class?e.class:"",r=e&&e.attr?e.attr:{},o=null;n&&n[t]&&(i=Fh(n[t],i),r=Hh(n[t],r),o=Zn(n[t],t,i,r,s.pluginName)),!o&&e&&(o=Zn(e.icon?e.icon:e,r,i,{},s.pluginName)),s.icons[t]=o})}function $h(a,s){Object.keys(a).map(function(n){Object.defineProperty(s.langText,n,{get:function(){var e=s.lang,i=s.i18n;return i[n]?i[n]:a[n]&&a[n][e]||""}})})}var pe=(function(a){q(n,a);var s=Z(n);function n(){var t,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return U(this,n),t=s.call(this,e),t.__delegates=[],t}return z(n,[{key:"__init",value:function(e){if(ee(Q(n.prototype),"__init",this).call(this,e),!!e.root){var i=e.root,r=null;this.icons={},this.root=null,this.parent=null,this.extraEls=[];var o=this.registerIcons()||{};Bh(o,this),this.langText={};var l=this.registerLanguageTexts()||{};$h(l,this);var u="";try{u=this.render()}catch(d){throw fe.logError("Plugin:".concat(this.pluginName,":render"),d),new Error("Plugin:".concat(this.pluginName,":render:").concat(d.message))}if(u)r=n.insert(u,i,e.index),r.setAttribute("data-index",e.index);else if(e.tag)r=f.createDom(e.tag,"",e.attr,e.name),r.setAttribute("data-index",e.index),i.appendChild(r);else return;this.root=r,this.parent=i;var c=this.config.attr||{},h=this.config.style||{};this.setAttr(c),this.setStyle(h),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registerChildren()}}},{key:"__registerChildren",value:function(){var e=this;if(this.root){this._children=[];var i=this.children();i&&Re(i)==="object"&&Object.keys(i).length>0&&Object.keys(i).map(function(r){var o=r,l=i[o],u={root:e.root},c,h;typeof l=="function"?(c=e.config[o]||{},h=l):Re(l)==="object"&&typeof l.plugin=="function"&&(c=l.options?f.deepCopy(e.config[o]||{},l.options):e.config[o]||{},h=l.plugin),u.config=c,c.index!==void 0&&(u.index=c.index),c.root&&(u.root=c.root),e.registerPlugin(h,u,o)})}}},{key:"updateLang",value:function(e){e||(e=this.lang);function i(u,c){for(var h=0;h<u.children.length;h++)u.children[h].children.length>0?i(u.children[h],c):c(u.children[h])}var r=this.root,o=this.i18n,l=this.langText;r&&i(r,function(u){var c=u.getAttribute&&u.getAttribute("lang-key");if(c){var h=o[c.toUpperCase()]||l[c];h&&(u.innerHTML=typeof h=="function"?h(e):h)}})}},{key:"lang",get:function(){return this.player.lang}},{key:"changeLangTextKey",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.i18n||{},o=this.langText;e.setAttribute&&e.setAttribute("lang-key",i);var l=r[i]||o[i]||"";l&&(e.innerHTML=l)}},{key:"plugins",value:function(){return this._children}},{key:"disable",value:function(){this.config.disable=!0,f.addClass(this.find(".xgplayer-icon"),qn.ICON_DISABLE)}},{key:"enable",value:function(){this.config.disable=!1,f.removeClass(this.find(".xgplayer-icon"),qn.ICON_DISABLE)}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";i.root=i.root||this.root;var o=ee(Q(n.prototype),"registerPlugin",this).call(this,e,i,r);return this._children.push(o),o}},{key:"registerIcons",value:function(){return{}}},{key:"registerLanguageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,i,r){var o=this;if(arguments.length<3&&typeof i=="function")Array.isArray(e)?e.forEach(function(u){o.bindEL(u,i)}):this.bindEL(e,i);else{var l=n.delegate.call(this,this.root,e,i,r);this.__delegates=this.__delegates.concat(l)}}},{key:"unbind",value:function(e,i){var r=this;if(arguments.length<3&&typeof i=="function")Array.isArray(e)?e.forEach(function(u){r.unbindEL(u,i)}):this.unbindEL(e,i);else for(var o="".concat(e,"_").concat(i),l=0;l<this.__delegates.length;l++)if(this.__delegates[l].key===o){this.__delegates[l].destroy(),this.__delegates.splice(l,1);break}}},{key:"setStyle",value:function(e,i){var r=this;if(this.root){if(f.typeOf(e)==="String")return this.root.style[e]=i;f.typeOf(e)==="Object"&&Object.keys(e).map(function(o){r.root.style[o]=e[o]})}}},{key:"setAttr",value:function(e,i){var r=this;if(this.root){if(f.typeOf(e)==="String")return this.root.setAttribute(e,i);f.typeOf(e)==="Object"&&Object.keys(e).map(function(o){r.root.setAttribute(o,e[o])})}}},{key:"setHtml",value:function(e,i){this.root&&(this.root.innerHTML=e,typeof i=="function"&&i())}},{key:"bindEL",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof i=="function"&&this.root.addEventListener(e,i,r)}},{key:"unbindEL",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.root&&"on".concat(e)in this.root&&typeof i=="function"&&this.root.removeEventListener(e,i,r)}},{key:"show",value:function(e){if(this.root){this.root.style.display=e!==void 0?e:"block";var i=window.getComputedStyle(this.root,null),r=i.getPropertyValue("display");if(r==="none")return this.root.style.display="block"}}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,i){if(!this.root)return null;if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!i||!(i instanceof window.Element))return null;try{return typeof e=="string"?this.find(e).appendChild(i):e.appendChild(i)}catch(r){return fe.logError("Plugin:appendChild",r),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var e=this,i=this.player;this.__delegates.map(function(r){r.destroy()}),this.__delegates=[],this._children instanceof Array&&(this._children.map(function(r){i.unRegisterPlugin(r.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),ee(Q(n.prototype),"__destroy",this).call(this),this.icons={},["root","parent"].map(function(r){e[r]=null}),this.extraEls=[]}}],[{key:"insert",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=i.children.length,l=Number(r),u=e instanceof window.Node;if(o){for(var c=0,h=null,d="";c<o;c++){h=i.children[c];var v=Number(h.getAttribute("data-index"));if(v>=l){d="beforebegin";break}else v<l&&(d="afterend")}return u?d==="afterend"?i.appendChild(e):i.insertBefore(e,h):h.insertAdjacentHTML(d,e),d==="afterend"?i.children[i.children.length-1]:i.children[c]}else return u?i.appendChild(e):i.insertAdjacentHTML("beforeend",e),i.children[i.children.length-1]}},{key:"defaultConfig",get:function(){return{}}},{key:"delegate",value:function(e,i,r,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,u=[];if(e instanceof window.Node&&typeof o=="function")if(Array.isArray(r))r.forEach(function(h){var d=Xn(e,i,h,o,l);d.key="".concat(i,"_").concat(h),u.push(d)});else{var c=Xn(e,i,r,o,l);c.key="".concat(i,"_").concat(r),u.push(c)}return u}},{key:"ROOT_TYPES",get:function(){return Nh}},{key:"POSITIONS",get:function(){return Ce}}]),n})(ht),Vh=(function(){function a(){var s=this;if(U(this,a),S(this,"__trigger",function(n){var t=new Date().getTime();s.timeStamp=t;for(var e=0;e<n.length;e++)s.__runHandler(n[e].target)}),this.__handlers=[],this.timeStamp=0,this.observer=null,!!window.ResizeObserver)try{this.observer=new window.ResizeObserver(vh(this.__trigger,100,{trailing:!0})),this.timeStamp=new Date().getTime()}catch(n){console.error(n)}}return z(a,[{key:"addObserver",value:function(n,t){if(this.observer){this.observer.observe(n);for(var e=n.getAttribute(ut),i=this.__handlers,r=-1,o=0;o<i.length;o++)i[o]&&n===i[o].target&&(r=o);r>-1?this.__handlers[r].handler=t:this.__handlers.push({target:n,handler:t,playerId:e})}}},{key:"unObserver",value:function(n){var t=-1;this.__handlers.map(function(i,r){n===i.target&&(t=r)});try{var e;(e=this.observer)===null||e===void 0||e.unobserve(n)}catch{}t>-1&&this.__handlers.splice(t,1)}},{key:"destroyObserver",value:function(){var n;(n=this.observer)===null||n===void 0||n.disconnect(),this.observer=null,this.__handlers=null}},{key:"__runHandler",value:function(n){for(var t=this.__handlers,e=0;e<t.length;e++)if(t[e]&&n===t[e].target){try{t[e].handler(n)}catch(i){console.error(i)}return!0}return!1}}]),a})(),Ft=null;function Uh(a,s){return Ft||(Ft=new Vh),Ft.addObserver(a,s),Ft}function zh(a,s){var n;(n=Ft)===null||n===void 0||n.unObserver(a,s)}var Me={pluginGroup:{},init:function(s){var n=s._pluginInfoId;n||(n=new Date().getTime(),s._pluginInfoId=n),!s.config.closeResizeObserver&&Uh(s.root,function(){s.resize()}),this.pluginGroup[n]={_originalOptions:s.config||{},_plugins:{}}},formatPluginInfo:function(s,n){var t=null,e=null;return s.plugin&&typeof s.plugin=="function"?(t=s.plugin,e=s.options):(t=s,e={}),n&&(e.config=n||{}),{PLUFGIN:t,options:e}},checkPluginIfExits:function(s,n){for(var t=0;t<n.length;t++)if(s.toLowerCase()===n[t].pluginName.toLowerCase())return!0;return!1},getRootByConfig:function(s,n){for(var t=Object.keys(n),e=null,i=0;i<t.length;i++)if(s.toLowerCase()===t[i].toLowerCase()){e=n[t[i]];break}return f.typeOf(e)==="Object"?{root:e.root,position:e.position}:{}},lazyRegister:function(s,n){var t=this,e=n.timeout||1500;return Promise.race([n.loader().then(function(i){var r;i&&i.__esModule?r=i.default:r=i,t.register(s,r,i.options)}),new Promise(function(i,r){setTimeout(function(){r(new Error("timeout"))},e)})])},register:function(s,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!s||!n||typeof n!="function"||n.prototype===void 0)){var e=s._pluginInfoId;if(!(!e||!this.pluginGroup[e])){this.pluginGroup[e]._plugins||(this.pluginGroup[e]._plugins={});var i=this.pluginGroup[e]._plugins,r=this.pluginGroup[e]._originalOptions;t.player=s;var o=t.pluginName||n.pluginName;if(!o)throw new Error("The property pluginName is necessary");if(n.isSupported&&!n.isSupported(s.config.mediaType,s.config.codecType)){console.warn("not supported plugin [".concat(o,"]"));return}t.config||(t.config={});for(var l=Object.keys(r),u=0;u<l.length;u++)if(o.toLowerCase()===l[u].toLowerCase()){var c=r[l[u]];f.typeOf(c)==="Object"?t.config=Object.assign({},t.config,r[l[u]]):f.typeOf(c)==="Boolean"&&(t.config.disable=!c);break}n.defaultConfig&&Object.keys(n.defaultConfig).forEach(function(d){typeof t.config[d]>"u"&&(t.config[d]=n.defaultConfig[d])}),t.root?typeof t.root=="string"&&(t.root=s[t.root]):t.root=s.root,t.index=t.config.index||0;try{i[o.toLowerCase()]&&(this.unRegister(e,o.toLowerCase()),console.warn("the is one plugin with same pluginName [".concat(o,"] exist, destroy the old instance")));var h=new n(t);return i[o.toLowerCase()]=h,i[o.toLowerCase()].func=n,h&&typeof h.afterCreate=="function"&&h.afterCreate(),h}catch(d){throw console.error(d),d}}}},unRegister:function(s,n){s._pluginInfoId&&(s=s._pluginInfoId),n=n.toLowerCase();try{var t=this.pluginGroup[s]._plugins[n];t&&(t.pluginName&&t.__destroy(),delete this.pluginGroup[s]._plugins[n])}catch(e){console.error("[unRegister:".concat(n,"] cgid:[").concat(s,"] error"),e)}},deletePlugin:function(s,n){var t=s._pluginInfoId;t&&this.pluginGroup[t]&&this.pluginGroup[t]._plugins&&delete this.pluginGroup[t]._plugins[n]},getPlugins:function(s){var n=s._pluginInfoId;return n&&this.pluginGroup[n]?this.pluginGroup[n]._plugins:{}},findPlugin:function(s,n){var t=s._pluginInfoId;if(!t||!this.pluginGroup[t])return null;var e=n.toLowerCase();return this.pluginGroup[t]._plugins[e]},beforeInit:function(s){var n=this;function t(e){return!e||!e.then?new Promise(function(i){i()}):e}return new Promise(function(e){if(n.pluginGroup){var i;return s._loadingPlugins&&s._loadingPlugins.length?i=Promise.all(s._loadingPlugins):i=Promise.resolve(),i.then(function(){var r=s._pluginInfoId;if(!n.pluginGroup[r]){e();return}var o=n.pluginGroup[r]._plugins,l=[];Object.keys(o).forEach(function(u){if(o[u]&&o[u].beforePlayerInit)try{var c=o[u].beforePlayerInit();l.push(t(c))}catch(h){throw l.push(t(null)),h}}),Promise.all([].concat(l)).then(function(){e()}).catch(function(u){console.error(u),e()})})}})},afterInit:function(s){var n=s._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var t=this.pluginGroup[n]._plugins;Object.keys(t).forEach(function(e){t[e]&&t[e].afterPlayerInit&&t[e].afterPlayerInit()})}},setLang:function(s,n){var t=n._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=this.pluginGroup[t]._plugins;Object.keys(e).forEach(function(i){if(e[i].updateLang)e[i].updateLang(s);else try{e[i].lang=s}catch{console.warn("".concat(i," setLang"))}})}},reRender:function(s){var n=this,t=s._pluginInfoId;if(!(!t||!this.pluginGroup[t])){var e=[],i=this.pluginGroup[t]._plugins;Object.keys(i).forEach(function(r){r!=="controls"&&i[r]&&(e.push({plugin:i[r].func,options:i[r].__args}),n.unRegister(t,r))}),e.forEach(function(r){n.register(s,r.plugin,r.options)})}},onPluginsReady:function(s){var n=s._pluginInfoId;if(!(!n||!this.pluginGroup[n])){var t=this.pluginGroup[n]._plugins||{};Object.keys(t).forEach(function(e){t[e].onPluginsReady&&typeof t[e].onPluginsReady=="function"&&t[e].onPluginsReady()})}},destroy:function(s){var n=s._pluginInfoId;if(this.pluginGroup[n]){zh(s.root);for(var t=this.pluginGroup[n]._plugins,e=0,i=Object.keys(t);e<i.length;e++){var r=i[e];this.unRegister(n,r)}delete this.pluginGroup[n],delete s._pluginInfoId}}},M={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-active",INACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",ROTATE_FULLSCREEN:"xgplayer-rotate-fullscreen",PARENT_ROTATE_FULLSCREEN:"xgplayer-rotate-parent",PARENT_FULLSCREEN:"xgplayer-fullscreen-parent",INNER_FULLSCREEN:"xgplayer-fullscreen-inner",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",CONTROLS_AUTOHIDE:"controls-autohide",TOP_BAR_AUTOHIDE:"top-bar-autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Jn(){return{id:"",el:null,url:"",domEventType:"default",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,isLive:!1,zoom:1,videoInit:!0,poster:"",isMobileSimulateMode:!1,defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,enableContextmenu:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,closeDelayBlur:!1,leavePlayerTime:3e3,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!0,closeControlsBlur:!0,topBarAutoHide:!0,videoAttributes:{},startTime:0,seekedStatus:"play",miniprogress:!1,disableSwipeHandler:function(){},enableSwipeHandler:function(){},preProcessUrl:null,ignores:[],whitelist:[],inactive:3e3,lang:ph(),controls:!0,marginControls:!1,fullscreenTarget:null,screenShot:!1,rotate:!1,pip:!1,download:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],plugins:[],playbackRate:1,definition:{list:[]},playsinline:!0,customDuration:0,timeOffset:0,icons:{},i18n:[],tabindex:0,thumbnail:null,videoConfig:{},isHideTips:!1,minWaitDelay:200,commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:{},volumeColor:""}}}var jh=function(s,n){var t,e,i;n.preset&&n.options?i=new n.preset(n.options,s.config):i=new n({},s.config);var r=i,o=r.plugins,l=o===void 0?[]:o,u=r.ignores,c=u===void 0?[]:u,h=r.icons,d=h===void 0?{}:h,v=r.i18n,g=v===void 0?[]:v;s.config.plugins||(s.config.plugins=[]),s.config.ignores||(s.config.ignores=[]),(t=s.config.plugins).push.apply(t,We(l)),(e=s.config.ignores).push.apply(e,We(c)),Object.keys(d).map(function(m){s.config.icons[m]||(s.config.icons[m]=d[m])});var p=s.config.i18n||[];g.push.apply(g,We(p)),s.config.i18n=g},Wh=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onMouseEnter",function(o){var l=C(t),u=l.player,c=l.playerConfig;c.closeControlsBlur&&u.focus({autoHide:!1})}),S(C(t),"onMouseLeave",function(o){var l=C(t),u=l.player;u.focus()}),t}return z(n,[{key:"beforeCreate",value:function(e){!e.config.mode&&re.device==="mobile"&&(e.config.mode="flex"),e.player.config.marginControls&&(e.config.autoHide=!1)}},{key:"afterCreate",value:function(){var e=this,i=this.config,r=i.disable,o=i.height,l=i.mode;if(!r){l==="flex"&&this.player.addClass(M.FLEX_CONTROLS);var u={height:"".concat(o,"px")};Object.keys(u).map(function(h){e.root.style[h]=u[h]}),this.left=this.find("xg-left-grid"),this.center=this.find("xg-center-grid"),this.right=this.find("xg-right-grid"),this.innerRoot=this.find("xg-inner-controls"),this.on(ni,function(h){h?f.addClass(e.root,"mini-controls"):f.removeClass(e.root,"mini-controls")});var c=this.playerConfig.isMobileSimulateMode;re.device!=="mobile"&&c!=="mobile"&&(this.bind("mouseenter",this.onMouseEnter),this.bind("mouseleave",this.onMouseLeave))}}},{key:"focus",value:function(){this.player.focus({autoHide:!1})}},{key:"focusAwhile",value:function(){this.player.focus({autoHide:!0})}},{key:"blur",value:function(){this.player.blur({ignorePaused:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&f.addClass(this.root,M.CONTROLS_AUTOHIDE)}},{key:"pauseAutoHide",value:function(){f.removeClass(this.root,M.CONTROLS_AUTOHIDE)}},{key:"show",value:function(e){this.root.style.display="",this.player.focus()}},{key:"hide",value:function(){this.root.style.display="none"}},{key:"mode",get:function(){return this.config.mode}},{key:"registerPlugin",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(this.root){var o=e.defaultConfig||{};if(!i.root){var l=i.position?i.position:i.config&&i.config.position?i.config.position:o.position;switch(l){case Ce.CONTROLS_LEFT:i.root=this.left;break;case Ce.CONTROLS_RIGHT:i.root=this.right;break;case Ce.CONTROLS_CENTER:i.root=this.center;break;case Ce.CONTROLS:i.root=this.root;break;default:i.root=this.left}return ee(Q(n.prototype),"registerPlugin",this).call(this,e,i,r)}}}},{key:"destroy",value:function(){re.device!=="mobile"&&(this.unbind("mouseenter",this.onMouseEnter),this.unbind("mouseleave",this.onMouseLeave)),this.left=null,this.center=null,this.right=null,this.innerRoot=null}},{key:"render",value:function(){var e=this.config,i=e.mode,r=e.autoHide,o=e.initShow,l=e.disable;if(!l){var u=f.classNames({"xgplayer-controls":!0},{"flex-controls":i==="flex"},{"bottom-controls":i==="bottom"},S({},M.CONTROLS_AUTOHIDE,r),{"xgplayer-controls-initshow":o||!r});return'<xg-controls class="'.concat(u,`" unselectable="on">
    <xg-inner-controls class="xg-inner-controls xg-pos">
      <xg-left-grid class="xg-left-grid">
      </xg-left-grid>
      <xg-center-grid class="xg-center-grid"></xg-center-grid>
      <xg-right-grid class="xg-right-grid">
      </xg-right-grid>
    </xg-inner-controls>
    </xg-controls>`)}}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:"",initShow:!1}}}]),n})(pe),Gh={LANG:"en",TEXT:{ERROR_TYPES:{network:{code:1,msg:"video download error"},mse:{code:2,msg:"stream append error"},parse:{code:3,msg:"parsing error"},format:{code:4,msg:"wrong format"},decoder:{code:5,msg:"decoding error"},runtime:{code:6,msg:"grammatical errors"},timeout:{code:7,msg:"play timeout"},other:{code:8,msg:"other errors"}},HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh",FORWARD:"forward",LIVE_TIP:"Live"}},$e={lang:{},langKeys:[],textKeys:[]};function Bt(a,s){return Object.keys(s).forEach(function(n){var t=f.typeOf(s[n]),e=f.typeOf(a[n]);if(t==="Array"){var i;e!=="Array"&&(a[n]=[]),(i=a[n]).push.apply(i,We(s[n]))}else t==="Object"?(e!=="Object"&&(a[n]={}),Bt(a[n],s[n])):a[n]=s[n]}),a}function is(){Object.keys($e.lang.en).map(function(a){$e.textKeys[a]=a})}function Kh(a,s){var n=[];if(s||(s=$e),!!s.lang){f.typeOf(a)!=="Array"?n=Object.keys(a).map(function(i){var r=i==="zh"?"zh-cn":i;return{LANG:r,TEXT:a[i]}}):n=a;var t=s,e=t.lang;n.map(function(i){i.LANG==="zh"&&(i.LANG="zh-cn"),e[i.LANG]?Bt(e[i.LANG]||{},i.TEXT||{}):bn(i,s)}),is()}}function bn(a,s){var n=a.LANG;if(s||(s=$e),!!s.lang){var t=a.TEXT||{};n==="zh"&&(n="zh-cn"),s.lang[n]?Bt(s.lang[n],t):(s.langKeys.push(n),s.lang[n]=t),is()}}function Yh(a){var s,n={lang:{},langKeys:[],textKeys:{},pId:a};return Bt(n.lang,$e.lang),(s=n.langKeys).push.apply(s,We($e.langKeys)),Bt(n.textKeys,$e.textKeys),n}bn(Gh);var Ot={get textKeys(){return $e.textKeys},get langKeys(){return $e.langKeys},get lang(){var a={};return $e.langKeys.map(function(s){a[s]=$e.lang[s]}),$e.lang["zh-cn"]&&(a.zh=$e.lang["zh-cn"]||{}),a},extend:Kh,use:bn,init:Yh},de={INITIAL:1,READY:2,ATTACHING:3,ATTACHED:4,NOTALLOW:5,RUNNING:6,ENDED:7},Qn=["ERROR","INITIAL","READY","ATTACHING","ATTACHED","NOTALLOW","RUNNING","ENDED","DESTROYED"],Ne={},Di=null,ns=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"add",value:function(e){e&&(Ne[e.playerId]=e,Object.keys(Ne).length===1&&this.setActive(e.playerId,!0))}},{key:"remove",value:function(e){e&&(e.isUserActive,delete Ne[e.playerId])}},{key:"_iterate",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(var r in Ne)if(Object.prototype.hasOwnProperty.call(Ne,r)){var o=Ne[r];if(i){if(e(o))break}else e(o)}}},{key:"forEach",value:function(e){this._iterate(e)}},{key:"find",value:function(e){var i=null;return this._iterate(function(r){var o=e(r);return o&&(i=r),o},!0),i}},{key:"findAll",value:function(e){var i=[];return this._iterate(function(r){e(r)&&i.push(r)}),i}},{key:"setActive",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ne[e])return i?this.forEach(function(r){e===r.playerId?(r.isUserActive=!0,r.isInstNext=!1):r.isUserActive=!1}):Ne[e].isUserActive=i,e}},{key:"getActiveId",value:function(){for(var e=Object.keys(Ne),i=0;i<e.length;i++){var r=Ne[e[i]];if(r&&r.isUserActive)return e[i]}return null}},{key:"setNext",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(Ne[e])return i?this.forEach(function(r){e===r.playerId?(r.isUserActive=!1,r.isInstNext=!0):r.isInstNext=!1}):Ne[e].isInstNext=i,e}}],[{key:"getInstance",value:function(){return Di||(Di=new n),Di}}]),n})(Dr.EventEmitter);function Xh(a){for(var s=Object.keys(Ne),n=0;n<s.length;n++){var t=Ne[s[n]];if(t.root===a)return t}return null}var qh=["play","pause","replay","retry"],er=0,tr=0,at=null,ki=(function(a){q(n,a);var s=Z(n);function n(t){var e;U(this,n);var i=f.deepMerge(Jn(),t);e=s.call(this,i),S(C(e),"canPlayFunc",function(){if(e.config){var g=e.config,p=g.autoplay,m=g.defaultPlaybackRate;fe.logInfo("player","canPlayFunc, startTime",e.__startTime),e._seekToStartTime(),e.playbackRate=m,(p||e._useAutoplay)&&e.mediaPlay(),e.off(Qe,e.canPlayFunc),e.removeClass(M.ENTER)}}),S(C(e),"onFullscreenChange",function(g,p){var m=function(){f.setTimeout(C(e),function(){e.resize()},100)},E=f.getFullScreenEl();e._fullActionFrom?e._fullActionFrom="":e.emit(si,{eventType:"system",action:"switch_fullscreen",pluginName:"player",currentTime:e.currentTime,duration:e.duration,props:[{prop:"fullscreen",from:!0,to:!1}]});var I=mh(E,e.playerId,ut);if(p||E&&(E===e._fullscreenEl||I))m(),!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!0,e.changeFullStyle(e.root,E,M.FULLSCREEN),e.emit(Je,!0,e._fullScreenOffset),e.cssfullscreen&&e.exitCssFullscreen();else if(e.fullscreen){m();var P=C(e),$=P._fullScreenOffset,N=P.config;if(N.needFullscreenScroll?(window.scrollTo($.left,$.top),f.setTimeout(C(e),function(){e.fullscreen=!1,e._fullScreenOffset=null},100)):(!e.config.closeFocusVideoFocus&&e.media.focus(),e.fullscreen=!1,e._fullScreenOffset=null),e.cssfullscreen)e.removeClass(M.FULLSCREEN);else{var ce=e._fullscreenEl;!ce&&(e.root.contains(g.target)||g.target===e.root)&&(ce=g.target),e.recoverFullStyle(e.root,ce,M.FULLSCREEN)}e._fullscreenEl=null,e.emit(Je,!1)}}),S(C(e),"_onWebkitbeginfullscreen",function(g){e._fullscreenEl=e.media,e.onFullscreenChange(g,!0)}),S(C(e),"_onWebkitendfullscreen",function(g){e.onFullscreenChange(g,!1)}),es(C(e),qh),e.config=i,e._pluginInfoId=f.generateSessionId(),hh(C(e));var r=e.constructor.defaultPreset;if(e.config.presets.length){var o=e.config.presets.indexOf("default");o>=0&&r&&(e.config.presets[o]=r)}else r&&e.config.presets.push(r);e.userTimer=null,e.waitTimer=null,e.handleSource=!0,e._state=de.INITIAL,e.isAd=!1,e.isError=!1,e._hasStart=!1,e.isSeeking=!1,e.isCanplay=!1,e._useAutoplay=!1,e.__startTime=-1,e.rotateDeg=0,e.isActive=!1,e.fullscreen=!1,e.cssfullscreen=!1,e.isRotateFullscreen=!1,e._fullscreenEl=null,e.timeSegments=[],e._cssfullscreenEl=null,e.curDefinition=null,e._orgCss="",e._fullScreenOffset=null,e._videoHeight=0,e._videoWidth=0,e.videoPos={pi:1,scale:0,rotate:-1,x:0,y:0,h:-1,w:-1,vy:0,vx:0},e.sizeInfo={width:0,height:0,left:0,top:0},e._accPlayed={t:0,acc:0,loopAcc:0},e._offsetInfo={currentTime:-1,duration:0},e.innerContainer=null,e.controls=null,e.topBar=null,e.root=null,e.__i18n=Ot.init(e._pluginInfoId),re.os.isAndroid&&re.osVersion>0&&re.osVersion<6&&(e.config.autoplay=!1),e.database=new Mh,e.isUserActive=!1,e._onceSeekCanplay=null,e._isPauseBeforeSeek=0,e.innerStates={isActiveLocked:!1},e.instManager=at;var l=e._initDOM();if(!l)return console.error(new Error("can't find the dom which id is ".concat(e.config.id," or this.config.el does not exist"))),dn(e);var u=e.config,c=u.definition,h=c===void 0?{}:c,d=u.url;if(!d&&h.list&&h.list.length>0){var v=h.list.find(function(g){return g.definition&&g.definition===h.defaultDefinition});v||(h.defaultDefinition=h.list[0].definition,v=h.list[0]),e.config.url=v.url,e.curDefinition=v}return e._bindEvents(),e._registerPresets(),e._registerPlugins(),Me.onPluginsReady(C(e)),e.getInitDefinition(),e.setState(de.READY),f.setTimeout(C(e),function(){e.emit(mn)},0),e.onReady&&e.onReady(),(e.config.videoInit||e.config.autoplay)&&(!e.hasStart||e.state<de.ATTACHED)&&e.start(),e}return z(n,[{key:"_initDOM",value:function(){var e,i=this;if(this.root=this.config.id?document.getElementById(this.config.id):null,!this.root){var r=this.config.el;if(r&&r.nodeType===1)this.root=r;else return this.emit(zt,new ei("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),console.error("this.confg.id or this.config.el can't be empty"),!1}var o=Xh(this.root);if(o&&(fe.logWarn("The is an Player instance already exists in this.root, destroy it and reinitialize"),o.destroy()),this.root.setAttribute(ut,this.playerId),this.media.setAttribute(ut,this.playerId),(e=at)===null||e===void 0||e.add(this),Me.init(this),this._initBaseDoms(),this.config.controls){var l=this.config.controls.root||null,u=Me.register(this,Wh,{root:l});this.controls=u}var c=this.config.isMobileSimulateMode==="mobile"?"mobile":re.device;if(this.addClass("".concat(M.DEFAULT," ").concat(M.INACTIVE," xgplayer-").concat(c," ").concat(this.config.controls?"":M.NO_CONTROLS)),this.config.autoplay?this.addClass(M.ENTER):this.addClass(M.NO_START),this.config.fluid){var h=this.config,d=h.width,v=h.height;(typeof d!="number"||typeof v!="number")&&(d=600,v=337.5);var g={width:"100%",height:"0","max-width":"100%","padding-top":"".concat(v*100/d,"%")};Object.keys(g).forEach(function($){i.root.style[$]=g[$]})}else["width","height"].forEach(function($){i.config[$]&&(typeof i.config[$]!="number"?i.root.style[$]=i.config[$]:i.root.style[$]="".concat(i.config[$],"px"))});var p=this.root.getBoundingClientRect(),m=p.width,E=p.height,I=p.left,P=p.top;return this.sizeInfo.width=m,this.sizeInfo.height=E,this.sizeInfo.left=I,this.sizeInfo.top=P,!0}},{key:"_initBaseDoms",value:function(){this.topBar=null,this.leftBar=null,this.rightBar=null,this.config.marginControls&&(this.innerContainer=f.createDom("xg-video-container","",{"data-index":-1},"xg-video-container"),this.root.appendChild(this.innerContainer))}},{key:"_bindEvents",value:function(){var e=this;["focus","blur"].forEach(function(i){e.on(i,e["on"+i.charAt(0).toUpperCase()+i.slice(1)])}),Un.forEach(function(i){document&&document.addEventListener(i,e.onFullscreenChange)}),re.os.isIos&&(this.media.addEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.addEventListener("webkitendfullscreen",this._onWebkitendfullscreen)),this.once(it,this.resize),this.playFunc=function(){e.config.closeFocusVideoFocus||e.media.focus()},this.once(Ue,this.playFunc)}},{key:"_unbindEvents",value:function(){var e=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),Un.forEach(function(i){document.removeEventListener(i,e.onFullscreenChange)}),this.playFunc&&this.off(Ue,this.playFunc),this.off(Qe,this.canPlayFunc),this.media.removeEventListener("webkitbeginfullscreen",this._onWebkitbeginfullscreen),this.media.removeEventListener("webkitendfullscreen",this._onWebkitendfullscreen)}},{key:"_clearUserTimer",value:function(){this.userTimer&&(f.clearTimeout(this,this.userTimer),this.userTimer=null)}},{key:"_startInit",value:function(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.media&&!((!e||e===""||f.typeOf(e)==="Array"&&e.length===0)&&(e="",this.emit($r),fe.logWarn("config.url is null, please get url and run player._startInit(url)"),this.config.nullUrlStart))){f.isNotNull(r.playSessionId)&&(this._playSessionId=r.playSessionId),this.handleSource&&(this._detachSourceEvents(this.media),f.typeOf(e)==="Array"&&e.length>0?this._attachSourceEvents(this.media,e):!this.media.src||this.media.src!==e?this.media.src=e:e||this.media.removeAttribute("src")),f.typeOf(this.config.volume)==="Number"&&(this.volume=this.config.volume);var o=this.innerContainer?this.innerContainer:this.root;this.media instanceof window.Element&&!o.contains(this.media)&&o.insertBefore(this.media,o.firstChild);var l=this.media.readyState;fe.logInfo("_startInit readyState",l),this.config.autoplay&&(!f.isMSE(this.media)&&this.load(),(re.os.isIpad||re.os.isPhone)&&this.mediaPlay());var u=this.config.startTime;this.__startTime=u>0?u:-1,this.config.startTime=0,l>=2&&this.duration>0?this.canPlayFunc():this.on(Qe,this.canPlayFunc),(!this.hasStart||this.state<de.ATTACHED)&&Me.afterInit(this),this.hasStart=!0,this.setState(de.ATTACHED),f.setTimeout(this,function(){i.emit(mi)},0)}}},{key:"_registerPlugins",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this._loadingPlugins=[];var r=this.config.ignores||[],o=this.config.plugins||[],l=this.config.i18n||[];i&&Ot.extend(l,this.__i18n);var u=r.join("||").toLowerCase().split("||"),c=this.plugins;o.forEach(function(h){try{var d=h.plugin?h.plugin.pluginName:h.pluginName;if(d&&u.indexOf(d.toLowerCase())>-1)return null;if(!i&&c[d.toLowerCase()])return;if(h.lazy&&h.loader){var v=Me.lazyRegister(e,h);h.forceBeforeInit&&(v.then(function(){e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}).catch(function(g){fe.logError("_registerPlugins:loadingPlugin",g),e._loadingPlugins.splice(e._loadingPlugins.indexOf(v),1)}),e._loadingPlugins.push(v));return}return e.registerPlugin(h)}catch(g){fe.logError("_registerPlugins:",g)}})}},{key:"_registerPresets",value:function(){var e=this;this.config.presets.forEach(function(i){jh(e,i)})}},{key:"_getRootByPosition",value:function(e){var i=null;switch(e){case Ce.ROOT_RIGHT:this.rightBar||(this.rightBar=f.createPositionBar("xg-right-bar",this.root)),i=this.rightBar;break;case Ce.ROOT_LEFT:this.leftBar||(this.leftBar=f.createPositionBar("xg-left-bar",this.root)),i=this.leftBar;break;case Ce.ROOT_TOP:this.topBar||(this.topBar=f.createPositionBar("xg-top-bar",this.root),this.config.topBarAutoHide&&f.addClass(this.topBar,M.TOP_BAR_AUTOHIDE)),i=this.topBar;break;default:i=this.innerContainer||this.root;break}return i}},{key:"registerPlugin",value:function(e,i){var r=Me.formatPluginInfo(e,i),o=r.PLUFGIN,l=r.options,u=this.config.plugins,c=Me.checkPluginIfExits(o.pluginName,u);!c&&u.push(o);var h=Me.getRootByConfig(o.pluginName,this.config);h.root&&(l.root=h.root),h.position&&(l.position=h.position);var d=l.position?l.position:l.config&&l.config.position||o.defaultConfig&&o.defaultConfig.position;if(!l.root&&typeof d=="string"&&d.indexOf("controls")>-1){var v;return(v=this.controls)===null||v===void 0?void 0:v.registerPlugin(o,l,o.pluginName)}return l.root||(l.root=this._getRootByPosition(d)),Me.register(this,o,l)}},{key:"deregister",value:function(e){typeof e=="string"?Me.unRegister(this,e):e instanceof ht&&Me.unRegister(this,e.pluginName)}},{key:"unRegisterPlugin",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.deregister(e),i&&this.removePluginFromConfig(e)}},{key:"removePluginFromConfig",value:function(e){var i;if(typeof e=="string"?i=e:e instanceof ht&&(i=e.pluginName),!!i)for(var r=this.config.plugins.length-1;r>-1;r--){var o=this.config.plugins[r];if(o.pluginName.toLowerCase()===i.toLowerCase()){this.config.plugins.splice(r,1);break}}}},{key:"plugins",get:function(){return Me.getPlugins(this)}},{key:"getPlugin",value:function(e){var i=Me.findPlugin(this,e);return i&&i.pluginName?i:null}},{key:"addClass",value:function(e){this.root&&(f.hasClass(this.root,e)||f.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&f.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return f.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,i){this.root&&this.root.setAttribute(e,i)}},{key:"removeAttribute",value:function(e,i){this.root&&this.root.removeAttribute(e,i)}},{key:"start",value:function(e){var i=this;if(!(this.state>de.ATTACHING)){var r=this._playSessionId;return f.isNotNull(r)&&(this._playSessionId=void 0),!e&&!this.config.url&&this.getInitDefinition(),this.hasStart=!0,this.setState(de.ATTACHING),this._registerPlugins(!1),Me.beforeInit(this).then(function(){if(i.config){e||(e=i.url||i.config.url);var o=i.preProcessUrl(e),l=i._startInit(o.url,{playSessionId:r});return l}}).catch(function(o){throw o.fileName="player",o.lineNumber="236",fe.logError("start:beforeInit:",o),o})}}},{key:"switchURL",value:function(e,i){var r=this,o=e;f.typeOf(e)==="Object"&&(o=e.url),o=this.preProcessUrl(o).url;var l=this.currentTime;this.__startTime=l;var u=this.paused&&!this.isError;return this.src=o,new Promise(function(c,h){var d=function(p){r.off("timeupdate",v),r.off("canplay",v),h(p)},v=function(){r._seekToStartTime(),u&&r.pause(),r.off("error",d),c(!0)};if(r.once("error",d),!o){r.errorHandler("error",{code:6,message:"empty_src"});return}re.os.isAndroid?r.once("timeupdate",v):r.once("canplay",v),r.play()})}},{key:"videoPlay",value:function(){this.mediaPlay()}},{key:"mediaPlay",value:function(){var e=this;if(!this.hasStart&&this.state<de.ATTACHED){this.removeClass(M.NO_START),this.addClass(M.ENTER),this.start(),this._useAutoplay=!0;return}this.state<de.RUNNING&&(this.removeClass(M.NO_START),!this.isCanplay&&this.addClass(M.ENTER));var i=ee(Q(n.prototype),"play",this).call(this);return i!==void 0&&i&&i.then?i.then(function(){e.removeClass(M.NOT_ALLOW_AUTOPLAY),e.addClass(M.PLAYING),e.state<de.RUNNING&&(fe.logInfo(">>>>playPromise.then"),e.setState(de.RUNNING),e.emit(yt))}).catch(function(r){if(fe.logWarn(">>>>playPromise.catch",r.name),e.media&&e.media.error){e.onError(),e.removeClass(M.ENTER);return}r.name==="NotAllowedError"&&(e._errorTimer=f.setTimeout(e,function(){e._errorTimer=null,e.emit(yn),e.addClass(M.NOT_ALLOW_AUTOPLAY),e.removeClass(M.ENTER),e.pause(),e.setState(de.NOTALLOW)},0))}):(fe.logWarn("video.play not return promise"),this.state<de.RUNNING&&(this.setState(de.RUNNING),this.removeClass(M.NOT_ALLOW_AUTOPLAY),this.removeClass(M.NO_START),this.removeClass(M.ENTER),this.addClass(M.PLAYING),this.emit(yt))),i}},{key:"mediaPause",value:function(){ee(Q(n.prototype),"pause",this).call(this)}},{key:"videoPause",value:function(){ee(Q(n.prototype),"pause",this).call(this)}},{key:"play",value:function(){var e=this;return this.removeClass(M.PAUSED),Xe(this,"play",function(){return e.mediaPlay()})}},{key:"pause",value:function(){var e=this;Xe(this,"pause",function(){ee(Q(n.prototype),"pause",e).call(e)})}},{key:"seek",value:function(e,i){var r=this;if(!(!this.media||Number.isNaN(Number(e))||!this.hasStart)){var o=this.config,l=o.isSeekedPlay,u=o.seekedStatus,c=i||(l?"play":u);e=e<0?0:e>this.duration?parseInt(this.duration,10):e,!this._isPauseBeforeSeek&&(this._isPauseBeforeSeek=this.paused?2:1),this._onceSeekCanplay&&this.off(tt,this._onceSeekCanplay),this._onceSeekCanplay=function(){switch(r.removeClass(M.ENTER),r.isSeeking=!1,c){case"play":r.play();break;case"pause":r.pause();break;default:r._isPauseBeforeSeek>1||r.paused?r.pause():r.play()}r._isPauseBeforeSeek=0,r._onceSeekCanplay=null},this.once(tt,this._onceSeekCanplay),this.state<de.RUNNING?(this.removeClass(M.NO_START),this.currentTime=e,this.play()):this.currentTime=e}}},{key:"getInitDefinition",value:function(){var e=this,i=this.config,r=i.definition,o=i.url;!o&&r&&r.list&&r.list.length>0&&r.defaultDefinition&&r.list.map(function(l){l.definition===r.defaultDefinition&&(e.config.url=l.url,e.curDefinition=l)})}},{key:"changeDefinition",value:function(e,i){var r=this,o=this.config.definition;if(Array.isArray(o?.list)&&o.list.forEach(function(u){e?.definition===u.definition&&(r.curDefinition=u)}),e!=null&&e.bitrate&&typeof e.bitrate!="number"&&(e.bitrate=parseInt(e.bitrate,10)||0),this.emit(kn,{from:i,to:e}),!this.hasStart){this.config.url=e.url;return}var l=this.switchURL(e.url,Ee({seamless:o.seamless!==!1&&typeof MediaSource<"u"&&typeof MediaSource.isTypeSupported=="function"},e));l&&l.then?l.then(function(){r.emit(Ji,{from:i,to:e})}):this.emit(Ji,{from:i,to:e})}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play()},this.once(it,this.reloadFunc)}},{key:"resetState",value:function(){var e=this,i=M.NOT_ALLOW_AUTOPLAY,r=M.PLAYING,o=M.NO_START,l=M.PAUSED,u=M.REPLAY,c=M.ENTER,h=M.ENDED,d=M.ERROR,v=M.LOADING,g=[i,r,o,l,u,c,h,d,v];this.hasStart=!1,this.isError=!1,this._useAutoplay=!1,this.mediaPause(),this._accPlayed.acc=0,this._accPlayed.t=0,this._accPlayed.loopAcc=0,g.forEach(function(p){e.removeClass(p)}),this.addClass(M.NO_START),this.emit(_i)}},{key:"reset",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.resetState();var o=this.plugins;if(o&&(i.map(function(u){e.deregister(u)}),r)){var l=Jn();Object.keys(this.config).forEach(function(u){e.config[u]!=="undefined"&&(u==="plugins"||u==="presets"||u==="el"||u==="id")&&(e.config[u]=l[u])})}}},{key:"destroy",value:function(){var e,i=this,r=this.innerContainer,o=this.root,l=this.media;if(!(!o||!l)){if(this.hasStart=!1,this._useAutoplay=!1,o.removeAttribute(ut),l.removeAttribute(ut),this.updateAcc("destroy"),this._unbindEvents(),this._detachSourceEvents(this.media),f.clearAllTimers(this),this.emit(_n),(e=at)===null||e===void 0||e.remove(this),Me.destroy(this),ts(this),ee(Q(n.prototype),"destroy",this).call(this),this.fullscreen&&this._fullscreenEl===this.root&&this.exitFullscreen(),r)for(var u=r.children,c=0;c<u.length;c++)r.removeChild(u[c]);!r&&l instanceof window.Node&&o.contains(l)&&!this.config.remainMediaAfterDestroy&&o.removeChild(l),["topBar","leftBar","rightBar","innerContainer"].map(function(d){i[d]&&o.removeChild(i[d]),i[d]=null});var h=o.className.split(" ");h.length>0?o.className=h.filter(function(d){return d.indexOf("xgplayer")<0}).join(" "):o.className="",this.removeAttribute("data-xgfill"),["isSeeking","isCanplay","isActive","cssfullscreen","fullscreen"].forEach(function(d){i[d]=!1})}}},{key:"replay",value:function(){var e=this;this.removeClass(M.ENDED),this.currentTime=0,this.isSeeking=!1,Xe(this,"replay",function(){e.once(tt,function(){var i=e.mediaPlay();i&&i.catch&&i.catch(function(r){console.log(r)})}),e.emit(ti),e.onPlay()})}},{key:"retry",value:function(){var e=this;this.removeClass(M.ERROR),this.addClass(M.LOADING),Xe(this,"retry",function(){var i=e.currentTime,r=e.config.url,o=f.isMSE(e.media)?{url:r}:e.preProcessUrl(r);e.src=o.url,!e.config.isLive&&(e.currentTime=i),e.once(Qe,function(){e.mediaPlay()})})}},{key:"changeFullStyle",value:function(e,i,r,o){e&&(o||(o=M.PARENT_FULLSCREEN),this._orgCss||(this._orgCss=f.filterStyleFromText(e)),f.addClass(e,r),i&&i!==e&&!this._orgPCss&&(this._orgPCss=f.filterStyleFromText(i),f.addClass(i,o),i.setAttribute(ut,this.playerId)))}},{key:"recoverFullStyle",value:function(e,i,r,o){o||(o=M.PARENT_FULLSCREEN),this._orgCss&&(f.setStyleFromCsstext(e,this._orgCss),this._orgCss=""),f.removeClass(e,r),i&&i!==e&&this._orgPCss&&(f.setStyleFromCsstext(i,this._orgPCss),this._orgPCss="",f.removeClass(i,o),i.removeAttribute(ut))}},{key:"getFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget,i=this.root,r=this.media;(e==="video"||e==="media")&&(e=this[e]),e||(e=i),this._fullScreenOffset={top:f.scrollTop(),left:f.scrollLeft()},this._fullscreenEl=e,this._fullActionFrom="get";var o=f.getFullScreenEl();if(o===this._fullscreenEl)return this.onFullscreenChange(),Promise.resolve();try{for(var l=0;l<zn.length;l++){var u=zn[l];if(e[u]){var c=u==="webkitRequestFullscreen"?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[u]();return c&&c.then?c:Promise.resolve()}}return r.fullscreenEnabled||r.webkitSupportsFullscreen?(r.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}catch{return Promise.reject(new Error("call getFullscreen fail"))}}},{key:"exitFullscreen",value:function(e){if(this.isRotateFullscreen&&this.exitRotateFullscreen(),!(!this._fullscreenEl&&!f.getFullScreenEl())){this.root;var i=this.media;this._fullActionFrom="exit";try{for(var r=0;r<jn.length;r++){var o=jn[r];if(document[o]){var l=document[o]();return l&&l.then?l:Promise.resolve()}}return i&&i.webkitSupportsFullscreen?(i.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}catch{return Promise.reject(new Error("call exitFullscreen fail"))}}}},{key:"getCssFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.isRotateFullscreen?this.exitRotateFullscreen():this.fullscreen&&this.exitFullscreen();var i=e?"".concat(M.INNER_FULLSCREEN," ").concat(M.CSS_FULLSCREEN):M.CSS_FULLSCREEN;this.changeFullStyle(this.root,e,i);var r=this.config.fullscreen,o=r===void 0?{}:r,l=o.useCssFullscreen===!0||typeof o.useCssFullscreen=="function"&&o.useCssFullscreen();l&&(this.fullscreen=!0,this.emit(Je,!0)),this._cssfullscreenEl=e,this.cssfullscreen=!0,this.emit(ii,!0)}},{key:"exitCssFullscreen",value:function(){var e=this._cssfullscreenEl?"".concat(M.INNER_FULLSCREEN," ").concat(M.CSS_FULLSCREEN):M.CSS_FULLSCREEN;if(!this.fullscreen)this.recoverFullStyle(this.root,this._cssfullscreenEl,e);else{var i=this.config.fullscreen,r=i===void 0?{}:i,o=r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen();o?(this.recoverFullStyle(this.root,this._cssfullscreenEl,e),this.fullscreen=!1,this.emit(Je,!1)):this.removeClass(e)}this._cssfullscreenEl=null,this.cssfullscreen=!1,this.emit(ii,!1)}},{key:"getRotateFullscreen",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.fullscreenTarget;this.cssfullscreen&&this.exitCssFullscreen(e);var i=e?"".concat(M.INNER_FULLSCREEN," ").concat(M.ROTATE_FULLSCREEN):M.ROTATE_FULLSCREEN;this._fullscreenEl=e||this.root,this.changeFullStyle(this.root,e,i,M.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!0,this.fullscreen=!0,this.setRotateDeg(90),this._rootStyle=this.root.getAttribute("style");var r=Math.abs(window.orientation)===90||Math.abs(screen.orientation.angle)===90;this.root.style.width=r?"".concat(window.innerWidth,"px"):"".concat(window.innerHeight,"px"),this.emit(Je,!0)}},{key:"exitRotateFullscreen",value:function(e){var i=this._fullscreenEl!==this.root?"".concat(M.INNER_FULLSCREEN," ").concat(M.ROTATE_FULLSCREEN):M.ROTATE_FULLSCREEN;this.recoverFullStyle(this.root,this._fullscreenEl,i,M.PARENT_ROTATE_FULLSCREEN),this.isRotateFullscreen=!1,this.fullscreen=!1,this.setRotateDeg(0),this.emit(Je,!1),this._rootStyle&&(this.root.style.style=this._rootStyle,this._rootStyle=!1)}},{key:"setRotateDeg",value:function(e){window.orientation===90||window.orientation===-90?this.rotateDeg=0:this.rotateDeg=e}},{key:"focus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!this.config.closeDelayBlur,delay:this.config.inactive};if(this.isActive){this.onFocus(e);return}this.emit(pn,Ee({paused:this.paused,ended:this.ended},e))}},{key:"blur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ignorePaused:!1};if(!this.isActive){this.onBlur(e);return}this._clearUserTimer(),this.emit(Br,Ee({paused:this.paused,ended:this.ended},e))}},{key:"onFocus",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{autoHide:!0,delay:3e3},r=this.innerStates;if(this.isActive=!0,this.removeClass(M.INACTIVE),this._clearUserTimer(),i.isLock!==void 0&&(r.isActiveLocked=i.isLock),i.autoHide===!1||i.isLock===!0||r.isActiveLocked){this._clearUserTimer();return}var o=i&&i.delay?i.delay:this.config.inactive;this.userTimer=f.setTimeout(this,function(){e.userTimer=null,e.blur()},o)}},{key:"onBlur",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=e.ignorePaused,r=i===void 0?!1:i;if(!this.innerStates.isActiveLocked){var o=this.config.closePauseVideoFocus;this.isActive=!1,(r||o||!this.paused&&!this.ended)&&this.addClass(M.INACTIVE)}}},{key:"onEmptied",value:function(){this.updateAcc("emptied")}},{key:"onCanplay",value:function(){this.removeClass(M.ENTER),this.removeClass(M.ERROR),this.removeClass(M.LOADING),this.isCanplay=!0,this.waitTimer&&f.clearTimeout(this,this.waitTimer)}},{key:"onLoadeddata",value:function(){var e=this;this.isError=!1,this.isSeeking=!1,this.__startTime>0&&(this.duration>0?this._seekToStartTime():this.once(rt,function(){e._seekToStartTime()}))}},{key:"onLoadstart",value:function(){this.removeClass(M.ERROR),this.isCanplay=!1}},{key:"onPlay",value:function(){this.state===de.ENDED&&this.setState(de.RUNNING),this.removeClass(M.PAUSED),this.ended&&this.removeClass(M.ENDED),!this.config.closePlayVideoFocus&&this.focus()}},{key:"onPause",value:function(){this.addClass(M.PAUSED),this.updateAcc("pause"),this.config.closePauseVideoFocus||(this._clearUserTimer(),this.focus())}},{key:"onEnded",value:function(){this.updateAcc("ended"),this.addClass(M.ENDED),this.setState(de.ENDED)}},{key:"onError",value:function(){this.isError=!0,this.updateAcc("error"),this.removeClass(M.NOT_ALLOW_AUTOPLAY),this.removeClass(M.NO_START),this.removeClass(M.ENTER),this.removeClass(M.LOADING),this.addClass(M.ERROR)}},{key:"onSeeking",value:function(){this.isSeeking||this.updateAcc("seeking"),this.isSeeking=!0,this.addClass(M.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&f.clearTimeout(this,this.waitTimer),this.removeClass(M.LOADING),this.removeClass(M.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&f.clearTimeout(this,this.waitTimer),this.updateAcc("waiting"),this.waitTimer=f.setTimeout(this,function(){e.addClass(M.LOADING),e.emit(zr),f.clearTimeout(e,e.waitTimer),e.waitTimer=null},this.config.minWaitDelay)}},{key:"onPlaying",value:function(){var e=this;this.isError=!1;var i=M.NO_START,r=M.PAUSED,o=M.ENDED,l=M.ERROR,u=M.REPLAY,c=M.LOADING,h=[i,r,o,l,u,c];h.forEach(function(d){e.removeClass(d)}),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onTimeupdate",value:function(){!this._videoHeight&&this.media.videoHeight&&this.resize(),(this.waitTimer||this.hasClass(M.LOADING))&&this.media.readyState>2&&(this.removeClass(M.LOADING),f.clearTimeout(this,this.waitTimer),this.waitTimer=null),!this.paused&&this.state===de.NOTALLOW&&this.duration&&(this.setState(de.RUNNING),this.emit(yt)),!this._accPlayed.t&&!this.paused&&!this.ended&&(this._accPlayed.t=new Date().getTime())}},{key:"onVolumechange",value:function(){f.typeOf(this.config.volume)==="Number"&&(this.config.volume=this.volume)}},{key:"onRatechange",value:function(){this.config.defaultPlaybackRate=this.playbackRate}},{key:"emitUserAction",value:function(e,i,r){if(!(!this.media||!i||!e)){var o=f.typeOf(e)==="String"?e:e.type||"";r.props&&f.typeOf(r.props)!=="Array"&&(r.props=[r.props]),this.emit(si,Ee({eventType:o,action:i,currentTime:this.currentTime,duration:this.duration,ended:this.ended,event:e},r))}}},{key:"updateAcc",value:function(e){if(this._accPlayed.t){var i=new Date().getTime()-this._accPlayed.t;this._accPlayed.acc+=i,this._accPlayed.t=0,(e==="ended"||this.ended)&&(this._accPlayed.loopAcc=this._accPlayed.acc)}}},{key:"checkBuffer",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{startDiff:0,endDiff:0},r=i||{},o=r.startDiff,l=o===void 0?0:o,u=r.endDiff,c=u===void 0?0:u,h=this.media.buffered;if(!h||h.length===0||!this.duration)return!0;for(var d=e||this.media.currentTime||.2,v=h.length,g=0;g<v;g++)if(h.start(g)+l<=d&&h.end(g)-c>d)return!0;return!1}},{key:"resizePosition",value:function(){var e=this,i=this.videoPos,r=i.vy,o=i.vx,l=i.h,u=i.w,c=this.videoPos.rotate;if(!(c<0&&l<0&&u<0)){var h=this.videoPos._pi;if(!h&&this.media.videoHeight&&(h=this.media.videoWidth/this.media.videoHeight*100),!!h){this.videoPos.pi=h,c=c<0?0:c;var d={rotate:c},v=0,g=0,p=1,m=Math.abs(c/90),E=this.root,I=this.innerContainer,P=E.offsetWidth,$=I?I.offsetHeight:E.offsetHeight,N={},ce=$,R=P;if(m%2===0)p=l>0?100/l:u>0?100/u:1,d.scale=p,v=r>0?(100-l)/2-r:0,d.y=m===2?0-v:v,g=o>0?(100-u)/2-o:0,d.x=m===2?0-g:g,N.width="".concat(R,"px"),N.height="".concat(ce,"px"),N.maxWidth="",N.maxHeight="";else if(m%2===1){R=$,ce=P;var A=$-P;g=-A/2/R*100,d.x=m===3?g+r/2:g-r/2,v=A/2/ce*100,d.y=m===3?v+o/2:v-o/2,d.scale=p,N.width="".concat(R,"px"),N.maxWidth="".concat(R,"px"),N.height="".concat(ce,"px"),N.maxHeight="".concat(ce,"px")}var ke=f.getTransformStyle(d,this.media.style.transform||this.media.style.webkitTransform);N.transform=ke,N.webkitTransform=ke,Object.keys(N).map(function(V){e.media.style[V]=N[V]})}}}},{key:"position",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{h:0,y:0,x:0,w:0};if(!(!this.media||!e||!e.h)){var i=this.videoPos;i.h=e.h*100||0,i.w=e.w*100||0,i.vx=e.x*100||0,i.vy=e.y*100||0,this.resizePosition()}}},{key:"setConfig",value:function(e){var i=this;e&&Object.keys(e).map(function(r){if(r!=="plugins"){i.config[r]=e[r];var o=i.plugins[r.toLowerCase()];o&&f.typeOf(o.setConfig)==="Function"&&o.setConfig(e[r])}})}},{key:"playNext",value:function(e){var i=this;this.resetState(),this.setConfig(e),this._currentTime=0,this._duration=0,Xe(this,"playnext",function(){i.start(),i.emit(ri,e)})}},{key:"resize",value:function(){var e=this;if(!(!this.media||!this.root)){var i=this.root.getBoundingClientRect();this.sizeInfo.width=i.width,this.sizeInfo.height=i.height,this.sizeInfo.left=i.left,this.sizeInfo.top=i.top;var r=this.media,o=r.videoWidth,l=r.videoHeight,u=this.config,c=u.fitVideoSize,h=u.videoFillMode;if((h==="fill"||h==="cover"||h==="contain")&&this.setAttribute("data-xgfill",h),!(!l||!o)){this._videoHeight=l,this._videoWidth=o;var d=this.controls&&this.innerContainer?this.controls.root.getBoundingClientRect().height:0,v=i.width,g=i.height-d,p=parseInt(o/l*1e3,10),m=parseInt(v/g*1e3,10),E=v,I=g,P={};c==="auto"&&m>p||c==="fixWidth"?(I=v/p*1e3,this.config.fluid?P.paddingTop="".concat(I*100/E,"%"):P.height="".concat(I+d,"px")):(c==="auto"&&m<p||c==="fixHeight")&&(E=p*g/1e3,P.width="".concat(E,"px")),!this.fullscreen&&!this.cssfullscreen&&Object.keys(P).forEach(function(N){e.root.style[N]=P[N]}),(h==="fillHeight"&&m<p||h==="fillWidth"&&m>p)&&this.setAttribute("data-xgfill","cover");var $={videoScale:p,vWidth:E,vHeight:I,cWidth:E,cHeight:I+d};this.resizePosition(),this.emit(ct,$)}}}},{key:"updateObjectPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this.media.updateObjectPosition){this.media.updateObjectPosition(e,i);return}this.media.style.objectPosition="".concat(e*100,"% ").concat(i*100,"%")}},{key:"setState",value:function(e){fe.logInfo("setState","state from:".concat(Qn[this.state]," to:").concat(Qn[e])),this._state=e}},{key:"preProcessUrl",value:function(e,i){var r=this.config,o=r.preProcessUrl,l=r.preProcessUrlOptions,u=Object.assign({},l,i);return!f.isBlob(e)&&typeof o=="function"?o(e,u):{url:e}}},{key:"_seekToStartTime",value:function(){this.__startTime>0&&this.duration>0&&(this.currentTime=this.__startTime>this.duration?this.duration:this.__startTime,this.__startTime=-1)}},{key:"state",get:function(){return this._state}},{key:"isFullscreen",get:function(){return this.fullscreen}},{key:"isCssfullScreen",get:function(){return this.cssfullscreen}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){typeof e=="boolean"&&(this._hasStart=e,e===!1&&this.setState(de.READY),this.emit("hasstart"))}},{key:"isPlaying",get:function(){return this._state===de.RUNNING||this._state===de.ENDED},set:function(e){e?this.setState(de.RUNNING):this._state>=de.RUNNING&&this.setState(de.ATTACHED)}},{key:"definitionList",get:function(){return!this.config||!this.config.definition?[]:this.config.definition.list||[]},set:function(e){var i=this,r=this.config.definition,o=null,l=null;r.list=e,this.emit("resourceReady",e),e.forEach(function(u){var c;((c=i.curDefinition)===null||c===void 0?void 0:c.definition)===u.definition&&(o=u),r.defaultDefinition===u.definition&&(l=u)}),!l&&e.length>0&&(l=e[0]),o?this.changeDefinition(o):l&&this.changeDefinition(l)}},{key:"videoFrameInfo",get:function(){var e={total:0,dropped:0,corrupted:0,droppedRate:0,droppedDuration:0};if(!this.media||!this.media.getVideoPlaybackQuality)return e;var i=this.media.getVideoPlaybackQuality();return e.dropped=i.droppedVideoFrames||0,e.total=i.totalVideoFrames||0,e.corrupted=i.corruptedVideoFrames||0,e.total>0&&(e.droppedRate=e.dropped/e.total*100,e.droppedDuration=parseInt(this.cumulateTime/e.total*e.dropped,0)),e}},{key:"lang",get:function(){return this.config.lang},set:function(e){var i=Ot.langKeys.filter(function(r){return r===e});if(i.length===0&&e!=="zh"){console.error("Sorry, set lang fail, because the language [".concat(e,"] is not supported now, list of all supported languages is [").concat(Ot.langKeys.join(),"] "));return}this.config.lang=e,Me.setLang(e,this)}},{key:"i18n",get:function(){var e=this.config.lang;return e==="zh"&&(e="zh-cn"),this.__i18n.lang[e]||this.__i18n.lang.en}},{key:"i18nKeys",get:function(){return this.__i18n.textKeys||{}}},{key:"version",get:function(){return qi}},{key:"playerId",get:function(){return this._pluginInfoId}},{key:"url",get:function(){return this.__url||this.config.url},set:function(e){this.__url=e}},{key:"poster",get:function(){return this.plugins.poster?this.plugins.poster.config.poster:this.config.poster},set:function(e){this.plugins.poster&&this.plugins.poster.update(e)}},{key:"readyState",get:function(){return ee(Q(n.prototype),"readyState",this)}},{key:"error",get:function(){var e=ee(Q(n.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){return ee(Q(n.prototype),"networkState",this)}},{key:"fullscreenChanging",get:function(){return this._fullScreenOffset!==null}},{key:"cumulateTime",get:function(){var e=this._accPlayed,i=e.acc,r=e.t;return r?new Date().getTime()-r+i:i}},{key:"zoom",get:function(){return this.config.zoom},set:function(e){this.config.zoom=e}},{key:"videoRotateDeg",get:function(){return this.videoPos.rotate},set:function(e){e=f.convertDeg(e),!(e%90!==0||e===this.videoPos.rotate)&&(this.videoPos.rotate=e,this.resizePosition())}},{key:"avgSpeed",get:function(){return tr},set:function(e){tr=e}},{key:"realTimeSpeed",get:function(){return er},set:function(e){er=e}},{key:"offsetCurrentTime",get:function(){return this._offsetInfo.currentTime||0},set:function(e){this._offsetInfo.currentTime=e}},{key:"offsetDuration",get:function(){return this._offsetInfo.duration||0},set:function(e){this._offsetInfo.duration=e||0}},{key:"hook",value:function(e,i){return ai.call.apply(ai,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"useHooks",value:function(e,i){return oi.call.apply(oi,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removeHooks",value:function(e,i){return li.call.apply(li,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"usePluginHooks",value:function(e,i,r){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return Wn.call.apply(Wn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"removePluginHooks",value:function(e,i,r){for(var o=arguments.length,l=new Array(o>3?o-3:0),u=3;u<o;u++)l[u-3]=arguments[u];return Gn.call.apply(Gn,[this].concat(Array.prototype.slice.call(arguments)))}},{key:"setUserActive",value:function(e,i){var r;typeof i=="boolean"&&i!==this.muted&&(this.addInnerOP("volumechange"),f.typeOf(i)===Boolean&&(this.muted=i)),(r=at)===null||r===void 0||r.setActive(this.playerId,e)}}],[{key:"debugger",get:function(){return fe.config.debug},set:function(e){fe.config.debug=e}},{key:"instManager",get:function(){return at},set:function(e){at=e}},{key:"getCurrentUserActivePlayerId",value:function(){var e;return(e=at)===null||e===void 0?void 0:e.getActiveId()}},{key:"setCurrentUserActive",value:function(e,i){var r;(r=at)===null||r===void 0||r.setActive(e,i)}},{key:"isHevcSupported",value:function(){return re.isHevcSupported()}},{key:"probeConfigSupported",value:function(e){return re.probeConfigSupported(e)}},{key:"install",value:function(e,i){n.plugins||(n.plugins={}),n.plugins[e]||(n.plugins[e]=i)}},{key:"use",value:function(e,i){n.plugins||(n.plugins={}),n.plugins[e]=i}}]),n})(Ah);S(ki,"defaultPreset",null);S(ki,"XgVideoProxy",null);ki.instManager=ns.getInstance();function dt(a,s,n){try{return' <div class="xg-tips '.concat(n?"hide":" ",'" lang-key="').concat(a.i18nKeys[s],`">
    `).concat(a.i18n[s],`
    </div>`)}catch{return'<div class="xg-tips hide"></div>'}}var Et=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"_onMouseenter",function(o){t.emit("icon_mouseenter",{pluginName:t.pluginName})}),S(C(t),"_onMouseLeave",function(o){t.emit("icon_mouseleave",{pluginName:t.pluginName})}),t}return z(n,[{key:"afterCreate",value:function(){this.bind("mouseenter",this._onMouseenter),this.bind("mouseleave",this._onMouseLeave),this.config.disable&&this.disable()}},{key:"destroy",value:function(){this.unbind("mouseenter",this._onMouseenter),this.unbind("mouseleave",this._onMouseLeave)}}]),n})(pe);function Zh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" class='path_full' d="M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}function Jh(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40">
  <path fill="#fff" transform="scale(1.3, 1.3)" d="M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z"></path>
</svg>
`,"image/svg+xml").firstChild}var en=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.cssFullscreen=="boolean"&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var e=this;ee(Q(n.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.config.target&&(this.playerConfig.fullscreenTarget=this.config.target),this.initIcons(),this.on(ii,function(i){e.animate(i)}),this.btnClick=this.btnClick.bind(this),this.handleCssFullscreen=this.hook("cssFullscreen_change",this.btnClick,{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.bind(["click","touchend"],this.handleCssFullscreen))}},{key:"initIcons",value:function(){var e=this.icons,i=this.find(".xgplayer-icon");i.appendChild(e.cssFullscreen),i.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var i=this.player.isCssfullScreen;this.emitUserAction(e,"switch_cssfullscreen",{cssfullscreen:i}),i?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var i=this.i18nKeys,r=this.find(".xg-tips");r&&this.changeLangTextKey(r,e?i.EXITCSSFULLSCREEN_TIPS:i.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Zh,class:"xg-get-cssfull"},exitCssFullscreen:{icon:Jh,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class='xgplayer-cssfullscreen'>
    <div class="xgplayer-icon">
    </div>
    `.concat(dt(this,"CSSFULLSCREEN_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:1,disable:!1,target:null}}}]),n})(Et);function Qh(){return new DOMParser().parseFromString(`<svg width="32px" height="40px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z" fill="#FFFFFF"></path>
    </g>
</svg>`,"image/svg+xml").firstChild}var ef=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.onClick=function(i){i.preventDefault(),i.stopPropagation(),e.config.onClick(i)},this.bind(["click","touchend"],this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:Qh,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){f.addClass(this.root,"show")}},{key:"hide",value:function(){f.removeClass(this.root,"show")}},{key:"render",value:function(){return`<xg-icon class="xgplayer-back">
    </xg-icon>`}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:Ce.ROOT_TOP,index:0}}}]),n})(pe);function tf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z"></path>
</svg>
`,"image/svg+xml").firstChild}function nf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z"></path>
</svg>
`,"image/svg+xml").firstChild}var rs=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"_onOrientationChange",function(o){t.player.fullscreen&&t.config.rotateFullscreen&&(window.orientation===90||window.orientation===-90?t.player.setRotateDeg(0):t.player.setRotateDeg(90))}),t}return z(n,[{key:"afterCreate",value:function(){var e=this;ee(Q(n.prototype),"afterCreate",this).call(this);var i=this.config,r=this.playerConfig;if(!i.disable){i.target&&(this.playerConfig.fullscreenTarget=this.config.target);var o=f.getFullScreenEl();r.fullscreenTarget===o&&this.player.getFullscreen().catch(function(l){}),this.initIcons(),this.handleFullscreen=this.hook("fullscreenChange",this.toggleFullScreen,{pre:function(u){var c=e.player.fullscreen;e.emitUserAction(u,"switch_fullscreen",{prop:"fullscreen",from:c,to:!c})}}),this.bind(".xgplayer-fullscreen",["touchend","click"],this.handleFullscreen),this.on(Je,function(l){var u=e.find(".xg-tips");u&&e.changeLangTextKey(u,l?e.i18nKeys.EXITFULLSCREEN_TIPS:e.i18nKeys.FULLSCREEN_TIPS),e.animate(l)}),this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:ef,options:{config:{onClick:function(u){e.handleFullscreen(u)}}}})),re.device==="mobile"&&window.addEventListener("orientationchange",this._onOrientationChange)}}},{key:"registerIcons",value:function(){return{fullscreen:{icon:tf,class:"xg-get-fullscreen"},exitFullscreen:{icon:nf,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",re.device==="mobile"?"touchend":"click",this.handleFullscreen),re.device==="mobile"&&window.removeEventListener("orientationchange",this._onOrientationChange)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"toggleFullScreen",value:function(e){e instanceof Event&&(e.preventDefault(),e.stopPropagation());var i=this.player,r=this.config,o=r.useCssFullscreen===!0||typeof r.useCssFullscreen=="function"&&r.useCssFullscreen();o?(i.fullscreen?i.exitCssFullscreen():i.getCssFullscreen(),this.animate(i.fullscreen)):r.rotateFullscreen?(i.fullscreen?i.exitRotateFullscreen():i.getRotateFullscreen(),this.animate(i.fullscreen)):r.switchCallback&&typeof r.switchCallback=="function"?r.switchCallback(i.fullscreen):i.fullscreen?(i.exitFullscreen(),r.useScreenOrientation&&this.unlockScreen()):(i.getFullscreen().catch(function(l){}),r.useScreenOrientation&&i.aspectRatio>1&&this.lockScreen(r.lockOrientationType))}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return`<xg-icon class="xgplayer-fullscreen">
    <div class="xgplayer-icon">
    </div>
    `.concat(dt(this,e,this.playerConfig.isHideTips),`
    </xg-icon>`)}}},{key:"lockScreen",value:function(e){try{screen.orientation.lock(e).catch(function(i){})}catch{}}},{key:"unlockScreen",value:function(){try{screen.orientation.unlock().catch(function(e){})}catch{}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:0,useCssFullscreen:!1,rotateFullscreen:!1,useScreenOrientation:!1,lockOrientationType:"landscape",switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),n})(Et);function Cn(){return new DOMParser().parseFromString(`<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z"></path>
</svg>
`,"image/svg+xml").firstChild}function Tn(){return new DOMParser().parseFromString(`<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="3 -4 28 40">
  <path fill="#fff" transform="scale(0.0320625 0.0320625)" d="M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z"></path>
</svg>
`,"image/svg+xml").firstChild}var ss=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"btnClick",function(o){o.preventDefault(),o.stopPropagation();var l=C(t),u=l.player;return t.emitUserAction(o,"switch_play_pause",{prop:"paused",from:u.paused,to:!u.paused}),u.ended?u.replay():u.paused?(u.play(),t.animate(!1)):(u.pause(),t.animate(!0)),!1}),t}return z(n,[{key:"afterCreate",value:function(){ee(Q(n.prototype),"afterCreate",this).call(this);var e=this.config;e.disable||(this.initIcons(),this.bind(["touchend","click"],this.btnClick),this.listenEvents(),this.animate(!0))}},{key:"listenEvents",value:function(){var e=this,i=this.player;this.on([Ue,Rt,zt,wt],function(){e.animate(i.paused)})}},{key:"registerIcons",value:function(){return{play:{icon:Cn,class:"xg-icon-play"},pause:{icon:Tn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){if(this.player){var i=this.i18nKeys,r=this.find(".xg-tips");e?(this.setAttr("data-state","pause"),r&&this.changeLangTextKey(r,i.PLAY_TIPS)):(this.setAttr("data-state","play"),r&&this.changeLangTextKey(r,i.PAUSE_TIPS))}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-play">
    <div class="xgplayer-icon">
    </div>
    `.concat(dt(this,"PLAY_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_LEFT,index:0,disable:!1}}}]),n})(Et),rf=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}],sf=(function(){function a(s){U(this,a),this.fragments=s.fragments||[],this.fragments.length===0&&this.fragments.push({percent:1}),this._callBack=s.actionCallback,this.fragConfig={fragFocusClass:s.fragFocusClass||"inner-focus-point",fragAutoFocus:!!s.fragAutoFocus,fragClass:s.fragClass||""},this.style=s.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0,this.focusIndex=-1}return z(a,[{key:"updateDuration",value:function(n){var t=this;this.duration=n;var e=0,i=this.fragments;this.fragments=i.map(function(r){return r.start=parseInt(e,10),r.end=parseInt(e+r.percent*t.duration,10),r.duration=parseInt(r.percent*t.duration,10),e+=r.percent*t.duration,r})}},{key:"updateProgress",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"played",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},e=this.progressList,i=this.fragments;if(!(e.length<1)){var r=t.newIndex,o=t.curIndex,l=t.millisecond;r!==o&&e.map(function(h,d){d<r?h[n].style.width="100%":d>r&&(h[n].style.width=0)});var u=i[r],c=l===0?0:(l-u.start)/u.duration;e[r][n].style.width=c<0?0:"".concat(c*100,"%")}}},{key:"updateFocus",value:function(n){if(!(!this.fragConfig.fragAutoFocus||this.fragments.length<2)){if(!n){if(this.focusIndex>-1){this.unHightLight(this.focusIndex);var t={index:-1,preIndex:this.focusIndex,fragment:null};this._callBack&&this._callBack(t),this.focusIndex=-1}return}var e=this.findIndex(n.currentTime*1e3,this.focusIndex);if(e>=0&&e!==this.focusIndex){this.focusIndex>-1&&this.unHightLight(this.focusIndex),this.setHightLight(e);var i={index:e,preIndex:this.focusIndex,fragment:this.fragments[this.focusIndex]};this.focusIndex=e,this._callBack&&this._callBack(i)}}}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},t=arguments.length>1?arguments[1]:void 0;if(!this.duration||parseInt(t*1e3,10)!==this.duration){if(!t&&t!==0)return;this.updateDuration(parseInt(t*1e3,10))}var e=this.playedIndex,i=this.cachedIndex;if(f.typeOf(n.played)!=="Undefined"){var r=this.findIndex(n.played*1e3,e);if(r<0)return;this.updateProgress("played",{newIndex:r,curIndex:e,millisecond:parseInt(n.played*1e3,10)}),this.playedIndex=r}if(f.typeOf(n.cached)!=="Undefined"){var o=this.findIndex(n.cached*1e3,i);if(o<0)return;this.updateProgress("cached",{newIndex:o,curIndex:i,millisecond:parseInt(n.cached*1e3,10)}),this.cachedIndex=o}}},{key:"findIndex",value:function(n,t){var e=this.fragments;if(!e||e.length===0)return-1;if(e.length===1)return 0;if(t>-1&&t<e.length&&n>e[t].start&&n<e[t].end)return t;if(n>e[e.length-1].start)return e.length-1;for(var i=0;i<e.length;i++)if(n>e[i].start&&n<=e[i].end){t=i;break}return t}},{key:"findHightLight",value:function(){for(var n=this.root.children,t=0;t<n.length;t++)if(f.hasClass(n[t],this.fragConfig.fragFocusClass))return{dom:n[t],pos:n[t].getBoundingClientRect()}}},{key:"findFragment",value:function(n){var t=this.root.children;return n<0||n>=t.length?null:{dom:t[n],pos:t[n].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var n=this.root.children,t=0;t<n.length;t++)f.removeClass(n[t],this.fragConfig.fragFocusClass)}},{key:"setHightLight",value:function(n){var t=this.root.children;if(n<t.length)return f.addClass(t[n],this.fragConfig.fragFocusClass),{dom:t[n],pos:t[n].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"reset",value:function(n){var t=this;if(Object.keys(this.fragConfig).forEach(function(i){n[i]!==void 0&&(t.fragConfig[i]=n[i])}),n.fragments){if(this.fragments=n.fragments.length===0?[{percent:1}]:n.fragments,this.updateDuration(this.duration),this.playedIndex=0,this.cachedIndex=0,this.root)for(var e=this.root.children;e.length>0;)this.root.removeChild(e[0]);this.render()}}},{key:"render",value:function(){var n=this,t=this.style.progressColor;if(this.root||(this.root=f.createDom("xg-inners","",{},"progress-list")),this.fragments){var e=this.fragConfig,i=e.fragClass,r=e.fragFocusClass;this.progressList=this.fragments.map(function(o){var l=f.createDom("xg-inner","",{style:t?"background:".concat(t,"; flex: ").concat(o.percent):"flex: ".concat(o.percent)},"".concat(o.isFocus?r:""," xgplayer-progress-inner ").concat(i));return n.root.appendChild(l),rf.forEach(function(u){l.appendChild(f.createDom(u.tag,"",{style:u.styleKey?"background: ".concat(n.style[u.styleKey],"; width:0;"):"width:0;"},u.className))}),{cached:l.children[0],played:l.children[1]}})}return this.root}}]),a})(),ir={POINT:"inner-focus-point",HIGHLIGHT:"inner-focus-highlight"},as=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"onMoveOnly",function(i,r){var o=C(e),l=o.pos,u=o.config,c=o.player,h=r;if(i){f.event(i);var d=f.getEventPos(i,c.zoom),v=c.rotateDeg===90?d.clientY:d.clientX;if(l.moving&&Math.abs(l.x-v)<u.miniMoveStep)return;l.moving=!0,l.x=v,h=e.computeTime(i,v)}e.triggerCallbacks("dragmove",h,i),e._updateInnerFocus(h)}),S(C(e),"onBodyClick",function(i){e.pos.isLocked&&(e.pos.isLocked=!1,i.preventDefault(),i.stopPropagation())}),S(C(e),"_mouseDownHandler",function(i,r){e._state.time=r.currentTime,e.updateWidth(r.currentTime,r.seekTime,r.percent,0),e._updateInnerFocus(r)}),S(C(e),"_mouseUpHandler",function(i,r){var o=C(e),l=o.pos;l.moving&&e.updateWidth(r.currentTime,r.seekTime,r.percent,2)}),S(C(e),"_mouseMoveHandler",function(i,r){var o=C(e),l=o._state,u=o.pos,c=o.config,h=o.player;l.time<r.currentTime?r.forward=!0:r.forward=!1,l.time=r.currentTime,u.isDown&&!u.moving&&(u.moving=!0,c.isPauseMoving&&h.pause(),e.triggerCallbacks("dragstart",r,i),e.emitUserAction("drag","dragstart",r)),e.updateWidth(r.currentTime,r.seekTime,r.percent,1),e.triggerCallbacks("dragmove",r,i),e._updateInnerFocus(r)}),S(C(e),"onMouseDown",function(i){var r=C(e),o=r._state,l=r.player,u=r.pos,c=r.config,h=r.playerConfig,d=f.getEventPos(i,l.zoom),v=l.rotateDeg===90?d.clientY:d.clientX;if(!(l.isMini||c.closeMoveSeek||!h.allowSeekAfterEnded&&l.ended)){if(!l.duration&&!l.isPlaying){l.play();return}i.stopPropagation(),e.focus(),f.checkIsFunction(h.disableSwipeHandler)&&h.disableSwipeHandler(),f.checkIsFunction(c.onMoveStart)&&c.onMoveStart(),f.event(i),u.x=v,u.isDown=!0,u.moving=!1,o.prePlayTime=l.currentTime,l.focus({autoHide:!1}),e.isProgressMoving=!0,f.addClass(e.progressBtn,"active");var g=e.computeTime(i,v);g.prePlayTime=o.prePlayTime,e._mouseDownHandlerHook(i,g);var p=i.type;return p==="touchstart"?(e.root.addEventListener("touchmove",e.onMouseMove),e.root.addEventListener("touchend",e.onMouseUp),e.root.addEventListener("touchcancel",e.onMouseUp)):(e.unbind("mousemove",e.onMoveOnly),document.addEventListener("mousemove",e.onMouseMove,!1),document.addEventListener("mouseup",e.onMouseUp,!1)),!0}}),S(C(e),"onMouseUp",function(i){var r=C(e),o=r.player,l=r.config,u=r.pos,c=r.playerConfig,h=r._state;if(u){i.stopPropagation(),i.preventDefault(),f.checkIsFunction(c.enableSwipeHandler)&&c.enableSwipeHandler(),f.checkIsFunction(l.onMoveEnd)&&l.onMoveEnd(),f.event(i),f.removeClass(e.progressBtn,"active");var d=e.computeTime(i,u.x);d.prePlayTime=h.prePlayTime,u.moving?(e.triggerCallbacks("dragend",d,i),e.emitUserAction("drag","dragend",d)):(e.triggerCallbacks("click",d,i),e.emitUserAction("click","click",d)),e._mouseUpHandlerHook(i,d),u.moving=!1,u.isDown=!1,u.x=0,u.y=0,u.isLocked=!0,h.prePlayTime=0,h.time=0;var v=i.type;v==="touchend"||v==="touchcancel"?(e.root.removeEventListener("touchmove",e.onMouseMove),e.root.removeEventListener("touchend",e.onMouseUp),e.root.removeEventListener("touchcancel",e.onMouseUp),e.blur()):(document.removeEventListener("mousemove",e.onMouseMove,!1),document.removeEventListener("mouseup",e.onMouseUp,!1),u.isEnter?c.isMobileSimulateMode!=="mobile"&&e.bind("mousemove",e.onMoveOnly):e.onMouseLeave(i)),f.setTimeout(C(e),function(){e.resetSeekState()},1),o.focus()}}),S(C(e),"onMouseMove",function(i){var r=C(e),o=r._state,l=r.pos,u=r.player,c=r.config;f.checkTouchSupport()&&i.preventDefault(),f.event(i);var h=f.getEventPos(i,u.zoom),d=u.rotateDeg===90?h.clientY:h.clientX,v=Math.abs(l.x-d);if(!(l.moving&&v<c.miniMoveStep||!l.moving&&v<c.miniStartStep)){l.x=d;var g=e.computeTime(i,d);g.prePlayTime=o.prePlayTime,e._mouseMoveHandlerHook(i,g)}}),S(C(e),"onMouseOut",function(i){e.triggerCallbacks("mouseout",null,i)}),S(C(e),"onMouseOver",function(i){e.triggerCallbacks("mouseover",null,i)}),S(C(e),"onMouseEnter",function(i){var r=C(e),o=r.player,l=r.pos;if(!(l.isDown||l.isEnter||o.isMini||!o.config.allowSeekAfterEnded&&o.ended)){l.isEnter=!0,e.bind("mousemove",e.onMoveOnly),e.bind("mouseleave",e.onMouseLeave),f.event(i);var u=f.getEventPos(i,o.zoom),c=o.rotateDeg===90?u.clientY:u.clientX,h=e.computeTime(i,c);e.triggerCallbacks("mouseenter",h,i),e.focus()}}),S(C(e),"onMouseLeave",function(i){e.triggerCallbacks("mouseleave",null,i),e.unlock(),e._updateInnerFocus(null)}),S(C(e),"onVideoResize",function(){var i=e.pos,r=i.x,o=i.isDown,l=i.isEnter;if(l&&!o){var u=e.computeTime(null,r);e.onMoveOnly(null,u)}}),e.useable=!1,e.isProgressMoving=!1,e.__dragCallBacks=[],e._state={now:-1,direc:0,time:0,prePlayTime:-1},e._disableBlur=!1,typeof e.config.isDragingSeek=="boolean"&&(console.warn("[XGPLAYER] 'isDragingSeek' is deprecated, please use 'isDraggingSeek' instead"),e.config.isDraggingSeek=e.config.isDragingSeek),e}return z(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,r=e.currentTime;return i>=0?i:r+this.timeOffset}},{key:"changeState",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.useable=e}},{key:"show",value:function(e){this.root&&(this.root.style.display="flex")}},{key:"_initInner",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!i||i.length===0)&&(i=[{percent:1}]);var o=Ee(Ee({fragments:i},r),{},{actionCallback:function(u){e.emitUserAction("fragment_focus","fragment_focus",u)}});this.innerList?this.innerList.reset(o):(this.innerList=new sf(o),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(l){e[l]=e.innerList[l].bind(e.innerList)}))}},{key:"_updateInnerFocus",value:function(e){this.innerList&&this.innerList.updateFocus(e)}},{key:"afterCreate",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1,isLocked:!1},this.outer=this.find("xg-outer");var e=this.config,i=e.fragFocusClass,r=e.fragAutoFocus,o=e.fragClass;this._initInner(this.config.fragments,{fragFocusClass:i,fragAutoFocus:r,fragClass:o,style:this.playerConfig.commonStyle||{}}),re.device==="mobile"&&(this.config.isDraggingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.listenEvents(),this.bindDomEvents(),this.initCustomStyle()}}},{key:"listenEvents",value:function(){var e=this;this.on(rt,function(){e.onMouseLeave()}),this.on(Ve,function(){e.onTimeupdate()}),this.on(tt,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on(Hr,function(){e.onCacheUpdate()}),this.on(Tt,function(){e.onCacheUpdate(!0),e.onTimeupdate(!0),e._state.now=0}),this.on(wt,function(){e.onReset()}),this.on(ct,function(){e.onVideoResize()})}},{key:"setConfig",value:function(e){var i=this,r=null;Object.keys(e).forEach(function(o){i.config[o]=e[o],o==="fragments"&&(r=e[o])}),r&&this._initInner(r,e)}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},i=e.commonStyle,r=i.sliderBtnStyle,o=this.progressBtn;r&&(typeof r=="string"?o.style.boxShadow=r:Re(r)==="object"&&Object.keys(r).map(function(l){o.style[l]=r[l]}))}},{key:"triggerCallbacks",value:function(e,i,r){this.__dragCallBacks.length>0&&this.__dragCallBacks.map(function(o){if(o&&o.handler&&o.type===e)try{o.handler(i,r)}catch(l){console.error("[XGPLAYER][triggerCallbacks] ".concat(o," error"),l)}})}},{key:"addCallBack",value:function(e,i){i&&typeof i=="function"&&this.__dragCallBacks.push({type:e,handler:i})}},{key:"removeCallBack",value:function(e,i){var r=this.__dragCallBacks,o=-1;r.map(function(l,u){l&&l.type===e&&l.handler===i&&(o=u)}),o>-1&&r.splice(o,1)}},{key:"unlock",value:function(){var e=this.player,i=this.pos;if(i.isEnter=!1,i.isLocked=!1,!e.isMini){if(this.unbind("mousemove",this.onMoveOnly),i.isDown){this.unbind("mouseleave",this.onMouseLeave);return}this.blur()}}},{key:"bindDomEvents",value:function(){var e=this.player.config;this._mouseDownHandlerHook=this.hook("dragstart",this._mouseDownHandler),this._mouseUpHandlerHook=this.hook("dragend",this._mouseUpHandler),this._mouseMoveHandlerHook=this.hook("drag",this._mouseMoveHandler),(this.domEventType==="touch"||this.domEventType==="compatible")&&this.root.addEventListener("touchstart",this.onMouseDown),(this.domEventType==="mouse"||this.domEventType==="compatible")&&(this.bind("mousedown",this.onMouseDown),e.isMobileSimulateMode!=="mobile"&&this.bind("mouseenter",this.onMouseEnter),this.bind("mouseover",this.onMouseOver),this.bind("mouseout",this.onMouseOut),this.player.root.addEventListener("click",this.onBodyClick,!0))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),f.addClass(this.root,"active")}},{key:"blur",value:function(){this._disableBlur||(this.player.controls.recoverAutoHide(),f.removeClass(this.root,"active"))}},{key:"disableBlur",value:function(){this._disableBlur=!0}},{key:"enableBlur",value:function(){this._disableBlur=!1}},{key:"updateWidth",value:function(e,i,r,o){var l=this.config,u=this.player;if(!(l.isCloseClickSeek&&o===0)){var c=i=i>=u.duration?u.duration-l.endedDiff:Number(i).toFixed(1);this.updatePercent(r),this.updateTime(e),!(o===1&&(!l.isDraggingSeek||u.config.mediaType==="audio"))&&(this._state.now=c,this._state.direc=c>u.currentTime?0:1,u.seek(c))}}},{key:"computeTime",value:function(e,i){var r=this.player,o=this.root.getBoundingClientRect(),l=o.width,u=o.height,c=o.top,h=o.left,d,v,g=i;r.rotateDeg===90?(d=u,v=c):(d=l,v=h);var p=g-v;p=p>d?d:p<0?0:p;var m=p/d;m=m<0?0:m>1?1:m,Number.isNaN(m)&&(m=this.player.currentTime/this.offsetDuration);var E=parseInt(m*this.offsetDuration*1e3,10)/1e3,I=f.getCurrentTimeByOffset(E,r.timeSegments);return{percent:m,currentTime:E,seekTime:I,offset:p,width:d,left:v,e}}},{key:"updateTime",value:function(e){var i=this.player,r=this.duration;e>r?e=r:e<0&&(e=0);var o=i.plugins.time;o&&o.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,i){if(this.isProgressMoving=!0,!this.config.disable){e=e>1?1:e<0?0:e,this.progressBtn.style.left="".concat(e*100,"%"),this.innerList.update({played:e*this.offsetDuration},this.offsetDuration);var r=this.player.plugins.miniprogress;r&&r.update({played:e*this.offsetDuration},this.offsetDuration)}}},{key:"onTimeupdate",value:function(e){var i=this.player,r=this._state,o=this.offsetDuration;if(!(i.isSeeking&&i.media.seeking||this.isProgressMoving||!i.hasStart)){if(r.now>-1){var l=parseInt(r.now*1e3,10)-parseInt(i.currentTime*1e3,10);if(r.direc===0&&l>300||r.direc===1&&l>-300){r.now=-1;return}else r.now=-1}var u=this.currentTime;u=f.adjustTimeByDuration(u,o,e),this.innerList.update({played:u},o),this.progressBtn.style.left="".concat(u/o*100,"%")}}},{key:"onCacheUpdate",value:function(e){var i=this.player,r=this.duration;if(i){var o=i.bufferedPoint.end;o=f.adjustTimeByDuration(o,r,e),this.innerList.update({cached:o},r)}}},{key:"onReset",value:function(){this.innerList.update({played:0,cached:0},0),this.progressBtn.style.left="0%"}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null;var i=this.domEventType;(i==="touch"||i==="compatible")&&(this.root.removeEventListener("touchstart",this.onMouseDown),this.root.removeEventListener("touchmove",this.onMouseMove),this.root.removeEventListener("touchend",this.onMouseUp),this.root.removeEventListener("touchcancel",this.onMouseUp)),(i==="mouse"||i==="compatible")&&(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.onMouseEnter),this.unbind("mousemove",this.onMoveOnly),this.unbind("mouseleave",this.onMouseLeave),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!0))}},{key:"render",value:function(){if(!(this.config.disable||this.playerConfig.isLive)){var e=this.player.controls?this.player.controls.config.mode:"",i=e==="bottom"?"xgplayer-progress-bottom":"";return`
    <xg-progress class="xgplayer-progress `.concat(i,`">
      <xg-outer class="xgplayer-progress-outer">
        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>
      </xg-outer>
    </xg-progress>
    `)}}}],[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_CENTER,index:0,disable:!1,isDraggingSeek:!0,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],fragFocusClass:ir.POINT,fragClass:"",fragAutoFocus:!1,miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){},endedDiff:.2}}},{key:"FRAGMENT_FOCUS_CLASS",get:function(){return ir}}]),n})(pe),os=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),e.isActiving=!1,e}return z(n,[{key:"duration",get:function(){var e=this.player,i=e.offsetDuration,r=e.duration;return this.playerConfig.customDuration||i||r}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,r=e.currentTime;return i>=0?i:r}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"afterCreate",value:function(){var e=this.player.controls.config.mode;this.mode=e==="flex"?"flex":"normal",!this.config.disable&&(this.mode==="flex"&&(this.createCenterTime(),this.root.style.display="none"),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.listenEvents())}},{key:"listenEvents",value:function(){var e=this;this.on([rt,tt,Ve],function(i){i.eventName==="durationchange"&&(e.isActiving=!1),e.onTimeUpdate()}),this.on(Tt,function(){e.onTimeUpdate(!0)}),this.on(wt,function(){e.onReset()})}},{key:"show",value:function(e){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="block"),this.centerDurDom&&(this.centerDurDom.style.display="block");return}this.root.style.display="block"}},{key:"hide",value:function(){if(this.mode==="flex"){this.centerCurDom&&(this.centerCurDom.style.display="none"),this.centerDurDom&&(this.centerDurDom.style.display="none");return}this.root.style.display="none"}},{key:"onTimeUpdate",value:function(e){var i=this.player,r=this.config,o=this.duration;if(!(r.disable||this.isActiving||!i.hasStart)){var l=this.currentTime+this.timeOffset;l=f.adjustTimeByDuration(l,o,e),this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(f.format(l)),o!==1/0&&o>0&&(this.centerDurDom.innerHTML=f.format(o))):(this.timeDom.innerHTML=this.minWidthTime(f.format(l)),o!==1/0&&o>0&&(this.durationDom.innerHTML=f.format(o)))}}},{key:"onReset",value:function(){this.mode==="flex"?(this.centerCurDom.innerHTML=this.minWidthTime(f.format(0)),this.centerDurDom.innerHTML=f.format(0)):(this.timeDom.innerHTML=this.minWidthTime(f.format(0)),this.durationDom.innerHTML=f.format(0))}},{key:"createCenterTime",value:function(){var e=this.player;if(!(!e.controls||!e.controls.center)){var i=e.controls.center;this.centerCurDom=f.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-left"),this.centerDurDom=f.createDom("xg-icon","00:00",{},"xgplayer-time xg-time-right"),i.children.length>0?i.insertBefore(this.centerCurDom,i.children[0]):i.appendChild(this.centerCurDom),i.appendChild(this.centerDurDom),this.extraEls=[this.centerCurDom,this.centerDurDom]}}},{key:"afterPlayerInit",value:function(){var e=this.config;if(this.duration===1/0||this.playerConfig.isLive?(f.hide(this.durationDom),f.hide(this.timeDom),f.hide(this.find(".time-separator")),f.show(this.find(".time-live-tag"))):f.hide(this.find(".time-live-tag")),e.hide){this.hide();return}this.show()}},{key:"changeLiveState",value:function(e){e?(f.hide(this.durationDom),f.hide(this.timeDom),f.hide(this.find(".time-separator")),f.show(this.find(".time-live-tag"))):(f.hide(this.find(".time-live-tag")),f.show(this.find(".time-separator")),f.show(this.durationDom),f.show(this.timeDom))}},{key:"updateTime",value:function(e){if(this.isActiving=!0,!(!e&&e!==0||e>this.duration)){if(this.mode==="flex"){this.centerCurDom.innerHTML=this.minWidthTime(f.format(e));return}this.timeDom.innerHTML=this.minWidthTime(f.format(e))}}},{key:"minWidthTime",value:function(e){return e.split(":").map(function(i){return'<span class="time-min-width">'.concat(i,"</span>")}).join(":")}},{key:"resetActive",value:function(){var e=this,i=this.player,r=function(){e.isActiving=!1};this.off(tt,r),i.isSeeking&&i.media.seeking?this.once(tt,r):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-time">
    <span class="time-current">00:00</span>
    <span class="time-separator">/</span>
    <span class="time-duration">00:00</span>
    <span class="time-live-tag">`.concat(this.i18n.LIVE_TIP,`</span>
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_LEFT,index:2,disable:!1}}}]),n})(pe);function af(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function of(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z"></path>
</svg>
`,"image/svg+xml").firstChild}function lf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40">
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z"></path>
  <path fill="#fff" transform="scale(0.0220625 0.0220625)" d="M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z"></path>
</svg>
`,"image/svg+xml").firstChild}var ls=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onBarMousedown",function(o){var l=C(t),u=l.player,c=t.find(".xgplayer-bar");f.event(o);var h=c.getBoundingClientRect(),d=f.getEventPos(o,u.zoom),v=h.height-(d.clientY-h.top);if(d.h=v,d.barH=h.height,t.pos=d,!(v<-2))return t.updateVolumePos(v,o),document.addEventListener("mouseup",t.onBarMouseUp),t._d.isStart=!0,!1}),S(C(t),"onBarMouseMove",function(o){var l=C(t),u=l._d;if(u.isStart){var c=C(t),h=c.pos,d=c.player;o.preventDefault(),o.stopPropagation(),f.event(o);var v=f.getEventPos(o,d.zoom);u.isMoving=!0;var g=h.h-v.clientY+h.clientY;g>h.barH||t.updateVolumePos(g,o)}}),S(C(t),"onBarMouseUp",function(o){f.event(o),document.removeEventListener("mouseup",t.onBarMouseUp);var l=C(t),u=l._d;u.isStart=!1,u.isMoving=!1}),S(C(t),"onMouseenter",function(o){t._d.isActive=!0,t.focus(),t.emit("icon_mouseenter",{pluginName:t.pluginName})}),S(C(t),"onMouseleave",function(o){t._d.isActive=!1,t.unFocus(100,!1,o),t.emit("icon_mouseleave",{pluginName:t.pluginName})}),S(C(t),"onVolumeChange",function(o){if(t.player){var l=t.player,u=l.muted,c=l.volume;t._d.isMoving||(t.find(".xgplayer-drag").style.height=u||c===0?"4px":"".concat(c*100,"%"),t.config.showValueLabel&&t.updateVolumeValue()),t.animate(u,c)}}),t}return z(n,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:of,class:"xg-volume-small"},volumeLarge:{icon:af,class:"xg-volume"},volumeMuted:{icon:lf,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e=this;if(this._timerId=null,this._d={isStart:!1,isMoving:!1,isActive:!1},!this.config.disable){this.initIcons();var i=this.playerConfig,r=i.commonStyle,o=i.volume;r.volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=r.volumeColor),this.changeMutedHandler=this.hook("mutedChange",function(l){e.changeMuted(l)},{pre:function(u){u.preventDefault(),u.stopPropagation()}}),this._onMouseenterHandler=this.hook("mouseenter",this.onMouseenter),this._onMouseleaveHandler=this.hook("mouseleave",this.onMouseleave),re.device!=="mobile"&&this.playerConfig.isMobileSimulateMode!=="mobile"&&(this.bind("mouseenter",this._onMouseenterHandler),this.bind(["blur","mouseleave"],this._onMouseleaveHandler),this.bind(".xgplayer-slider","mousedown",this.onBarMousedown),this.bind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.bind(".xgplayer-slider","mouseup",this.onBarMouseUp)),this.bind(".xgplayer-icon",["touchend","click"],this.changeMutedHandler),this.on(Nr,this.onVolumeChange),this.once(it,this.onVolumeChange),f.typeOf(o)!=="Number"&&(this.player.volume=this.config.default),this.onVolumeChange()}}},{key:"updateVolumePos",value:function(e,i){var r=this.player,o=this.find(".xgplayer-drag"),l=this.find(".xgplayer-bar");if(!(!l||!o)){var u=parseInt(e/l.getBoundingClientRect().height*1e3,10);o.style.height="".concat(e,"px");var c=Math.max(Math.min(u/1e3,1),0),h={volume:{from:r.volume,to:c}};r.muted&&(h.muted={from:!0,to:!1}),this.emitUserAction(i,"change_volume",{muted:r.muted,volume:r.volume,props:h}),r.volume=Math.max(Math.min(u/1e3,1),0),r.muted&&(r.muted=!1),this.config.showValueLabel&&this.updateVolumeValue()}}},{key:"updateVolumeValue",value:function(){var e=this.player,i=e.volume,r=e.muted,o=this.find(".xgplayer-value-label"),l=Math.max(Math.min(i,1),0);o.innerText=r?0:Math.round(l*100)}},{key:"focus",value:function(){var e=this.player;e.focus({autoHide:!1}),this._timerId&&(f.clearTimeout(this,this._timerId),this._timerId=null),f.addClass(this.root,"slide-show")}},{key:"unFocus",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=arguments.length>2?arguments[2]:void 0,l=this._d,u=this.player;l.isActive||(this._timerId&&(f.clearTimeout(this,this._timerId),this._timerId=null),this._timerId=f.setTimeout(this,function(){l.isActive||(r?u.blur():u.focus(),f.removeClass(e.root,"slide-show"),l.isStart&&e.onBarMouseUp(o)),e._timerId=null},i))}},{key:"changeMuted",value:function(e){e&&e.stopPropagation();var i=this.player,r=this._d;r.isStart&&this.onBarMouseUp(e),this.emitUserAction(e,"change_muted",{muted:i.muted,volume:i.volume,props:{muted:{from:i.muted,to:!i.muted}}}),i.volume>0&&(i.muted=!i.muted),i.volume<.01&&(i.volume=this.config.miniVolume)}},{key:"animate",value:function(e,i){e||i===0?this.setAttr("data-state","mute"):i<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this._timerId&&(f.clearTimeout(this,this._timerId),this._timerId=null),this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-slider","mousedown",this.onBarMousedown),this.unbind(".xgplayer-slider","mousemove",this.onBarMouseMove),this.unbind(".xgplayer-slider","mouseup",this.onBarMouseUp),document.removeEventListener("mouseup",this.onBarMouseUp),this.unbind(".xgplayer-icon",re.device==="mobile"?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable){var e=this.config.default||this.player.volume,i=this.config.showValueLabel;return`
    <xg-icon class="xgplayer-volume" data-state="normal">
      <div class="xgplayer-icon">
      </div>
      <xg-slider class="xgplayer-slider">
        `.concat(i?'<div class="xgplayer-value-label">'.concat(e*100,"</div>"):"",`
        <div class="xgplayer-bar">
          <xg-drag class="xgplayer-drag" style="height: `).concat(e*100,`%"></xg-drag>
        </div>
      </xg-slider>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:1,disable:!1,showValueLabel:!1,default:.6,miniVolume:.2}}}]),n})(pe);function Oe(){return new Date().getTime()}var ot={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",FIRST_FRAME:"firstFrame",WAIT_START:"waitingStart",WAIT_END:"waitingEnd",SEEK_START:"seekStart",SEEK_END:"seekEnd"},uf=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"_onTimeupdate",function(){t._state.isTimeUpdate=!0,t._state.autoplayStart&&(fe.logInfo("[xgLogger]".concat(t.player.playerId," _onTimeupdate")),t._sendFF("onTimeupdate"))}),S(C(t),"_onAutoplayStart",function(){fe.logInfo("[xgLogger]".concat(t.player.playerId," _onAutoplayStart")),t._state.autoplayStart=!0,t.vt&&t._sendFF("onAutoplayStart")}),S(C(t),"_onReset",function(){t._state={autoplayStart:!1,isFFLoading:!1,isTimeUpdate:!1,isFFSend:!1,isLs:!1},t.vt=0,t.pt=0,t.fvt=0,t.newPointTime=Oe(),t.loadedCostTime=0,t.startCostTime=0,t._isSeeking=!1,t.seekingStart=0,t.waitingStart=0,t.fixedWaitingStart=0,t._isWaiting=!1,t._waitTimer&&f.clearTimeout(C(t),t._waitTimer),t._waittTimer&&f.clearTimeout(C(t),t._waittTimer),t._waitTimer=null,t._waittTimer=null,t._waitType=0}),S(C(t),"_onSeeking",function(){t.seekingStart||(t.suspendWaitingStatus("seek"),t.seekingStart=Oe(),t.emitLog(ot.SEEK_START,{start:Oe()}))}),S(C(t),"_onSeeked",function(){t.suspendSeekingStatus("seeked")}),S(C(t),"_onWaitingLoadStart",function(){t._isWaiting||t.vt||(t._isWaiting=!0,t.waitingStart=Oe(),t.fixedWaitingStart=Oe(),t._waitType=1,t.emitLog(ot.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:1,endType:"loadstart"}))}),S(C(t),"_onWaiting",function(){t._isWaiting||!t.vt||(t._isWaiting=!0,t.vt?t.seekingStart?t._waitType=2:t._waitType=0:t._waitType=1,t.fixedWaitingStart=Oe(),t._waitTimer=f.setTimeout(C(t),function(){t._isWaiting&&(t.waitingStart=Oe(),f.clearTimeout(C(t),t._waitTimer),t._waitTimer=null,t._startWaitTimeout(),t.emitLog(ot.WAIT_START,{fixedStart:t.fixedWaitingStart,start:t.waitingStart,type:t._waitType,endType:t._waitType===2?"seek":"playing"}))},200))}),S(C(t),"_onError",function(){t.suspendSeekingStatus("error"),t.suspendWaitingStatus("error")}),S(C(t),"_onPlaying",function(){t._isWaiting&&t.suspendWaitingStatus("playing")}),t}return z(n,[{key:"afterCreate",value:function(){var e=this;this._onReset(),this._waitType="firstFrame",this._initOnceEvents(),this.newPointTime=Oe(),this.loadedCostTime=0,this.startCostTime=0,this.on(vn,function(){var i=e._state,r=i.autoplayStart,o=i.isFFSend;e.startCostTime=Oe()-e.newPointTime,fe.logInfo("[xgLogger]".concat(e.player.playerId," LOAD_START"),"autoplayStart:".concat(r," isFFSend:").concat(o," startCostTime:").concat(e.startCostTime," newPointTime").concat(e.newPointTime)),!o&&(!i.isLs&&e.emitLog(ot.LOAD_START,{}),i.isLs=!0,i.isTimeUpdate=!1,i.isFFLoading=!0,e.pt=Oe(),e.vt=0,e.fvt=0,e._initOnceEvents(),e._onWaitingLoadStart())}),this.on(it,function(){e.vt=Oe(),e.fvt=e.vt-e.pt,e.loadedCostTime=e.vt-e.newPointTime;var i=e._state,r=i.isTimeUpdate,o=i.isFFSend,l=i.autoplayStart;fe.logInfo("[xgLogger]".concat(e.player.playerId," LOADED_DATA"),"fvt:".concat(e.fvt," isTimeUpdate:").concat(e._state.isTimeUpdate," loadedCostTime:").concat(e.loadedCostTime)),(r||l)&&e._sendFF("loadedData"),o||e.emitLog(ot.LOADED_DATA,{}),e.suspendWaitingStatus("loadeddata")}),this.on(pi,this._onSeeking),this.on(tt,this._onSeeked),this.on(_n,function(){e.endState("destroy")}),this.on(yi,function(){e.endState("urlChange"),fe.logInfo("[xgLogger]".concat(e.player.playerId," URL_CHANGE")),e._state.isFFSend&&e._onReset()}),this.on([gn,Qe],this._onPlaying),this.on(jt,this._onWaiting),this.on(zt,this._onError),this.on(_i,function(){fe.logInfo("[xgLogger]".concat(e.player.playerId," RESET")),e.endState("reset"),e._initOnceEvents(),e._onReset()})}},{key:"_initOnceEvents",value:function(){this.off(yt,this._onAutoplayStart),this.off(Ve,this._onTimeupdate),this.once(yt,this._onAutoplayStart),this.once(Ve,this._onTimeupdate)}},{key:"_sendFF",value:function(e){this.s=Oe();var i=this._state,r=i.isFFLoading,o=i.isFFSend;fe.logInfo("[xgLogger]".concat(this.player.playerId," _sendFF"),"".concat(e," fvt:").concat(this.fvt," isFFLoading:").concat(r," !isFFSend:").concat(!o)),this.vt>0&&r&&!o&&(fe.logInfo("[xgLogger]".concat(this.player.playerId," emitLog_firstFrame"),e),this._state.isFFLoading=!1,this._state.isFFSend=!0,this.emitLog(ot.FIRST_FRAME,{fvt:this.fvt,costTime:this.fvt,vt:this.vt,startCostTime:this.startCostTime,loadedCostTime:this.loadedCostTime}))}},{key:"_startWaitTimeout",value:function(){var e=this;this._waittTimer&&f.clearTimeout(this,this._waittTimer),this._waittTimer=f.setTimeout(this,function(){e.suspendWaitingStatus("timeout"),f.clearTimeout(e,e._waittTimer),e._waittTimer=null},this.config.waitTimeout)}},{key:"endState",value:function(e){this.suspendWaitingStatus(e),this.suspendSeekingStatus(e)}},{key:"suspendSeekingStatus",value:function(e){if(this.seekingStart){var i=Oe(),r=i-this.seekingStart;this.seekingStart=0,this.emitLog(ot.SEEK_END,{end:i,costTime:r,endType:e})}}},{key:"suspendWaitingStatus",value:function(e){if(this._waitTimer&&(f.clearTimeout(this,this._waitTimer),this._waitTimer=null),this._waittTimer&&(f.clearTimeout(this,this._waittTimer),this._waittTimer=null),this._isWaiting=!1,!!this.waitingStart){var i=Oe(),r=i-this.waitingStart,o=i-this.fixedWaitingStart,l=this.config.waitTimeout;this._isWaiting=!1,this.waitingStart=0,this.fixedWaitingStart=0,this.emitLog(ot.WAIT_END,{fixedCostTime:o>l?l:o,costTime:r>l?l:r,type:e==="loadeddata"?1:this._waitType,endType:this._waitType===2?"seek":e})}}},{key:"emitLog",value:function(e,i){var r=this.player;this.emit(Kr,Ee({t:Oe(),host:f.getHostFromUrl(r.currentSrc),vtype:r.vtype,eventType:e,currentTime:this.player.currentTime,readyState:r.video.readyState,networkState:r.video.networkState},i))}}],[{key:"pluginName",get:function(){return"xgLogger"}},{key:"defaultConfig",get:function(){return{waitTimeout:1e4}}}]),n})(pe);function cf(){return new DOMParser().parseFromString(`<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78">
  <path fill="#fff" transform="translate(20, 20)" d="M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z"></path>
</svg>
`,"image/svg+xml").firstChild}var hf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"registerIcons",value:function(){return{replay:cf}}},{key:"afterCreate",value:function(){var e=this;pe.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayClick",function(){e.player.replay()},{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(Tt,function(){if(e.playerConfig.loop||f.addClass(e.player.root,"replay"),!e.config.disable){e.show();var i=e.root.querySelector("path");if(i){var r=window.getComputedStyle(i).getPropertyValue("transform");if(typeof r=="string"&&r.indexOf("none")>-1)return null;i.setAttribute("transform",r)}}}),this.on(Ue,function(){e.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),f.removeClass(this.player.root,"replay")}},{key:"show",value:function(e){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind(".xgplayer-replay",["click","touchend"],this.__handleReplay)}},{key:"render",value:function(){return`<xg-replay class="xgplayer-replay">
      <xg-replay-txt class="xgplayer-replay-txt" lang-key="`.concat(this.i18nKeys.REPLAY,'">').concat(this.i18n.REPLAY,`</xg-replay-txt>
    </xg-replay>`)}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),n})(pe),ff=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"isEndedShow",get:function(){return this.config.isEndedShow},set:function(e){this.config.isEndedShow=e}},{key:"hide",value:function(){f.addClass(this.root,"hide")}},{key:"show",value:function(e){f.removeClass(this.root,"hide")}},{key:"beforeCreate",value:function(e){typeof e.player.config.poster=="string"&&(e.config.poster=e.player.config.poster)}},{key:"afterCreate",value:function(){var e=this;this.on(Tt,function(){e.isEndedShow&&f.removeClass(e.root,"hide")}),this.config.hideCanplay?(this.once(Ve,function(){e.onTimeUpdate()}),this.on(yi,function(){f.removeClass(e.root,"hide"),f.addClass(e.root,"xg-showplay"),e.once(Ve,function(){e.onTimeUpdate()})})):this.on(Ue,function(){f.addClass(e.root,"hide")})}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(o){i.config[o]=e[o]});var r=this.config.poster;this.update(r)}},{key:"onTimeUpdate",value:function(){var e=this;this.player.currentTime?f.removeClass(this.root,"xg-showplay"):this.once(Ve,function(){e.onTimeUpdate()})}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url(".concat(e,")"))}},{key:"getBgSize",value:function(e){var i="";switch(e){case"cover":i="cover";break;case"contain":i="contain";break;case"fixHeight":i="auto 100%";break;default:i=""}return i?"background-size: ".concat(i,";"):""}},{key:"render",value:function(){var e=this.config,i=e.poster,r=e.hideCanplay,o=e.fillMode,l=e.notHidden,u=this.getBgSize(o),c=i?"background-image:url(".concat(i,");").concat(u):u,h=l?"xg-not-hidden":r?"xg-showplay":"";return'<xg-poster class="xgplayer-poster '.concat(h,'" style="').concat(c,`">
    </xg-poster>`)}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,hideCanplay:!1,notHidden:!1,poster:"",fillMode:"fixWidth"}}}]),n})(pe),Ye={};function df(a,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{start:null,end:null};return Ye[a]&&window.clearTimeout(Ye[a].id),Ye[a]={},n.start&&n.start(),Ye[a].id=window.setTimeout(function(){n.end&&n.end(),window.clearTimeout(Ye[a].id),delete Ye[a]},s),Ye[a].id}function nr(a){if(a){window.clearTimeout(a);return}Object.keys(Ye).map(function(s){window.clearTimeout(Ye[s].id),delete Ye[s]})}var gf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"onPlayerReset",function(){e.autoPlayStart=!1;var i=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),f.removeClass(e.root,i),e.show()}),S(C(e),"onAutoplayStart",function(){if(!e.autoPlayStart){var i=e.config.mode==="auto"?"auto-hide":"hide";f.addClass(e.root,i),e.autoPlayStart=!0,e.toggleTo("play")}}),e.autoPlayStart=!1,e}return z(n,[{key:"afterCreate",value:function(){var e=this.playerConfig;this.initIcons(),this.listenEvents(),this.bindClickEvents(),e.autoplay||this.show()}},{key:"listenEvents",value:function(){var e=this,i=this.player,r=this.playerConfig;this.once(mn,function(){r&&(r.lang&&r.lang==="en"?f.addClass(i.root,"lang-is-en"):r.lang==="jp"&&f.addClass(i.root,"lang-is-jp"))}),this.on(yt,this.onAutoplayStart),this.on(yn,function(){var o=e.config.mode==="auto"?"auto-hide":"hide";e.setAttr("data-state","play"),f.removeClass(e.root,o),e.show()}),this.on(Ue,function(){e.toggleTo("play")}),this.on(Rt,function(){e.toggleTo("pause")}),this.on(_i,function(){e.onPlayerReset()})}},{key:"bindClickEvents",value:function(){var e=this;this.clickHandler=this.hook("startClick",this.switchPausePlay,{pre:function(r){r.cancelable&&r.preventDefault(),r.stopPropagation();var o=e.player.paused;e.emitUserAction(r,"switch_play_pause",{props:"paused",from:o,to:!o})}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Cn,class:"xg-icon-play"},startPause:{icon:Tn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild("xg-start-inner",e.startPlay),this.appendChild("xg-start-inner",e.startPause)}},{key:"hide",value:function(){f.addClass(this.root,"hide")}},{key:"show",value:function(e){f.removeClass(this.root,"hide")}},{key:"focusHide",value:function(){f.addClass(this.root,"focus-hide")}},{key:"recover",value:function(){f.removeClass(this.root,"focus-hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var i=this;this._animateId=df("pauseplay",400,{start:function(){f.addClass(i.root,"interact"),i.show(),i.switchStatus(!0)},end:function(){f.removeClass(i.root,"interact"),!e&&i.hide(),i._animateId=null}})}},{key:"endAnimate",value:function(){f.removeClass(this.root,"interact"),nr(this._animateId),this._animateId=null}},{key:"switchPausePlay",value:function(e){var i=this.player;if(e.cancelable&&e.preventDefault(),e.stopPropagation(),!(i.state<de.READY)){var r=this.player.paused;!r&&i.state===de.RUNNING?i.pause():i.play()}}},{key:"onPlayPause",value:function(e){this.toggleTo(e)}},{key:"toggleTo",value:function(e){var i=this.config,r=this.player;if(!(!r||r.state<de.RUNNING||!this.autoPlayStart)){if(i.mode==="show"){this.switchStatus(),this.show();return}if(i.mode==="auto"){this.switchStatus();return}if(i.isShowPause&&r.paused&&!r.ended||i.isShowEnd&&r.ended){this.switchStatus(),this.show(),this.endAnimate();return}if(i.disableAnimate){this.switchStatus(),this.hide();return}if(e==="play")this.autoPlayStart?this.animate():this.hide();else{if(!this.autoPlayStart||r.ended)return;this.animate()}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.clickHandler),nr(this._animateId)}},{key:"render",value:function(){var e=this.playerConfig.autoplay?this.config.mode==="auto"?"auto-hide":"hide":"";return`
    <xg-start class="xgplayer-start `.concat(e,`">
    <xg-start-inner></xg-start-inner>
    </xg-start>`)}}],[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),n})(pe),vf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"render",value:function(){var e=this.config.innerHtml,i=f.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)i.appendChild(e);else if(e&&typeof e=="string")i.innerHTML=e;else{for(var r="",o=1;o<=12;o++)r+='<div class="xgplayer-enter-bar'.concat(o,'"></div>');i.innerHTML='<div class="xgplayer-enter-spinner">'.concat(r,"</div>")}return i}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),n})(pe),rr=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return`
      <xg-icon class="xgplayer-miniicon">
      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="`.concat(this.i18nKeys[e],'">').concat(this.i18n[e],`</span></div>
      </xg-icon>`)}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:10}}}]),n})(pe);function sr(a){var s=parseFloat(a),n=a.indexOf("%")===-1&&!Number.isNaN(s);return n&&s}var wn=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],us=wn.length;function pf(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},s=0;s<us;s++){var n=wn[s];a[n]=0}return a}function mf(a){var s=window.getComputedStyle(a);return s}function ar(a){if(typeof a=="string"&&(a=document.querySelector(a)),!(!a||Re(a)!=="object"||!a.nodeType)){var s=mf(a);if(s.display==="none")return pf();var n={};n.width=a.offsetWidth,n.height=a.offsetHeight;for(var t=n.isBorderBox=s.boxSizing==="border-box",e=0;e<us;e++){var i=wn[e],r=s[i],o=parseFloat(r);n[i]=Number.isNaN(o)?0:o}var l=n.paddingLeft+n.paddingRight,u=n.paddingTop+n.paddingBottom,c=n.marginLeft+n.marginRight,h=n.marginTop+n.marginBottom,d=n.borderLeftWidth+n.borderRightWidth,v=n.borderTopWidth+n.borderBottomWidth,g=t,p=sr(s.width);p!==!1&&(n.width=p+(g?0:l+d));var m=sr(s.height);return m!==!1&&(n.height=m+(g?0:u+v)),n.innerWidth=n.width-(l+d),n.innerHeight=n.height-(u+v),n.outerWidth=n.width+c,n.outerHeight=n.height+h,n}}function Oi(a,s){for(var n=0;n<a.length;n++){var t=a[n];if(t.identifier===s)return t}}var Ri={START:"dragStart",MOVE:"dragMove",ENDED:"dragEnded"},or={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]},yf=(function(a){q(n,a);var s=Z(n);function n(t){var e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return U(this,n),e=s.call(this),e.isEnabled=!0,e.isDragging=!1,e.isDown=!1,e.position={},e.downPoint={},e.dragPoint={x:0,y:0},e.startPos={x:0,y:0},e._root=t instanceof Element?t:document.querySelector(t),e._handlerDom=i.handle instanceof Element?i.handle:document.querySelector(i.handle),!e._root||!e._handlerDom?dn(e):(e._bindStartEvent(),e)}return z(n,[{key:"_bindStartEvent",value:function(){var e=this;"ontouchstart"in window?this._startKey="touchstart":this._startKey="mousedown",this["on".concat(this._startKey)]=this["on".concat(this._startKey)].bind(this),this._handlerDom.addEventListener(this._startKey,this["on".concat(this._startKey)]),or[this._startKey].map(function(i){e["on".concat(i)]=e["on".concat(i)].bind(e)})}},{key:"_unbindStartEvent",value:function(){this._handlerDom.removeEventListener(this._startKey,this["on".concat(this._startKey)])}},{key:"_bindPostStartEvents",value:function(e){var i=this;if(e){var r=or[this._startKey];r.map(function(o){window.addEventListener(o,i["on".concat(o)])}),this._boundPointerEvents=r}}},{key:"_unbindPostStartEvents",value:function(){var e=this;this._boundPointerEvents&&(this._boundPointerEvents.map(function(i){window.removeEventListener(i,e["on".concat(i)])}),delete this._boundPointerEvents)}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1,this.isDragging&&this.onUp()}},{key:"onDocUp",value:function(e){this.onUp()}},{key:"animate",value:function(){var e=this;this.isDragging&&(this.positionDrag(),window.requestAnimationFrame(function(){e.animate()}))}},{key:"positionDrag",value:function(){var e="translate3d(".concat(this.dragPoint.x,"px, ").concat(this.dragPoint.y,"px, 0)");this._root.style.transform=e,this._root.style.webKitTransform=e}},{key:"setLeftTop",value:function(){this._root.style.left=this.position.x+"px",this._root.style.top=this.position.y+"px"}},{key:"onmousedown",value:function(e){this.dragStart(e,e)}},{key:"onmousemove",value:function(e){this.dragMove(e,e)}},{key:"onmouseup",value:function(e){this.dragEnd(e,e)}},{key:"ontouchstart",value:function(e){var i=e.changedTouches[0];this.dragStart(e,i),this.touchIdentifier=i.pointerId!==void 0?i.pointerId:i.identifier,e.preventDefault()}},{key:"ontouchmove",value:function(e){var i=Oi(e.changedTouches,this.touchIdentifier);i&&this.dragMove(e,i)}},{key:"ontouchend",value:function(e){var i=Oi(e.changedTouches,this.touchIdentifier);i&&this.dragEnd(e,i),e.preventDefault()}},{key:"ontouchcancel",value:function(e){var i=Oi(e.changedTouches,this.touchIdentifier);i&&this.dragCancel(e,i)}},{key:"dragStart",value:function(e,i){if(!(!this._root||this.isDown||!this.isEnabled)){this.downPoint=i,this.dragPoint.x=0,this.dragPoint.y=0,this._getPosition();var r=ar(this._root);this.startPos.x=this.position.x,this.startPos.y=this.position.y,this.startPos.maxY=window.innerHeight-r.height,this.startPos.maxX=window.innerWidth-r.width,this.setLeftTop(),this.isDown=!0,this._bindPostStartEvents(e)}}},{key:"dragRealStart",value:function(e,i){this.isDragging=!0,this.animate(),this.emit(Ri.START,this.startPos)}},{key:"dragEnd",value:function(e,i){this._root&&(this._unbindPostStartEvents(),this.isDragging&&(this._root.style.transform="",this.setLeftTop(),this.emit(Ri.ENDED)),this.presetInfo())}},{key:"_dragPointerMove",value:function(e,i){var r={x:i.pageX-this.downPoint.pageX,y:i.pageY-this.downPoint.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this.dragRealStart(e,i),r}},{key:"dragMove",value:function(e,i){if(e=e||window.event,!!this.isDown){var r=this.startPos,o=r.x,l=r.y,u=this._dragPointerMove(e,i),c=u.x,h=u.y;c=this.checkContain("x",c,o),h=this.checkContain("y",h,l),this.position.x=o+c,this.position.y=l+h,this.dragPoint.x=c,this.dragPoint.y=h,this.emit(Ri.MOVE,this.position)}}},{key:"dragCancel",value:function(e,i){this.dragEnd(e,i)}},{key:"presetInfo",value:function(){this.isDragging=!1,this.startPos={x:0,y:0},this.dragPoint={x:0,y:0},this.isDown=!1}},{key:"destroy",value:function(){this._unbindStartEvent(),this._unbindPostStartEvents(),this.isDragging&&this.dragEnd(),this.removeAllListeners(),this._handlerDom=null}},{key:"hasDragStarted",value:function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3}},{key:"checkContain",value:function(e,i,r){return i+r<0?0-r:e==="x"&&i+r>this.startPos.maxX?this.startPos.maxX-r:e==="y"&&i+r>this.startPos.maxY?this.startPos.maxY-r:i}},{key:"_getPosition",value:function(){var e=window.getComputedStyle(this._root),i=this._getPositionCoord(e.left,"width"),r=this._getPositionCoord(e.top,"height");this.position.x=Number.isNaN(i)?0:i,this.position.y=Number.isNaN(r)?0:r,this._addTransformPosition(e)}},{key:"_addTransformPosition",value:function(e){var i=e.transform;if(i.indexOf("matrix")===0){var r=i.split(","),o=i.indexOf("matrix3d")===0?12:4,l=parseInt(r[o],10),u=parseInt(r[o+1],10);this.position.x+=l,this.position.y+=u}}},{key:"_getPositionCoord",value:function(e,i){if(e.indexOf("%")!==-1){var r=ar(this._root.parentNode);return r?parseFloat(e)/100*r[i]:0}return parseInt(e,10)}}]),n})(Or),_f=(function(a){q(n,a);var s=Z(n);function n(t){var e;U(this,n),e=s.call(this,t),S(C(e),"onCancelClick",function(o){e.exitMini(),e.isClose=!0}),S(C(e),"onCenterClick",function(o){var l=C(e),u=l.player;u.paused?u.play():u.pause()}),S(C(e),"onScroll",function(o){if(!(!window.scrollY&&window.scrollY!==0||Math.abs(window.scrollY-e.pos.scrollY)<50)){var l=parseInt(f.getCss(e.player.root,"height"));l+=e.config.scrollTop,e.pos.scrollY=window.scrollY,window.scrollY>l+5?!e.isMini&&!e.isClose&&e.getMini():window.scrollY<=l&&(e.isMini&&e.exitMini(),e.isClose=!1)}}),e.isMini=!1,e.isClose=!1;var i=C(e),r=i.config;return e.pos={left:r.left<0?window.innerWidth-r.width-20:r.left,top:r.top<0?window.innerHeight-r.height-20:r.top,height:e.config.height,width:e.config.width,scrollY:window.scrollY||0},e.lastStyle=null,e}return z(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.mini=="boolean"&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var e=this;this.initIcons(),this.on(Rt,function(){e.setAttr("data-state","pause")}),this.on(Ue,function(){e.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e=this,i=this.player,r=this.config;if(!r.disable){if(this.config.isShowIcon){var o={config:{onClick:function(){e.getMini()}}};i.controls.registerPlugin(rr,o,rr.pluginName)}var l=f.checkTouchSupport()?"touchend":"click";this.bind(".mini-cancel-btn",l,this.onCancelClick),this.bind(".play-icon",l,this.onCenterClick),this.config.disableDrag||(this._draggabilly=new yf(this.player.root,{handle:this.root})),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll)}}},{key:"registerIcons",value:function(){return{play:{icon:Cn,class:"xg-icon-play"},pause:{icon:Tn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"getMini",value:function(){var e=this;if(!this.isMini){var i=this.player,r=this.playerConfig,o=this.config.target||this.player.root;this.lastStyle={},f.addClass(i.root,"xgplayer-mini"),["width","height","top","left"].map(function(l){e.lastStyle[l]=o.style[l],o.style[l]="".concat(e.pos[l],"px")}),r.fluid&&(o.style["padding-top"]=""),this.emit(ni,!0),i.isMini=this.isMini=!0}}},{key:"exitMini",value:function(){var e=this;if(!this.isMini)return!1;var i=this.player,r=this.playerConfig,o=this.config.target||this.player.root;f.removeClass(i.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(l){o.style[l]=e.lastStyle[l]}),this.lastStyle=null,r.fluid&&(i.root.style.width="100%",i.root.style.height="0",i.root.style["padding-top"]="".concat(r.height*100/r.width,"%")),this.emit(ni,!1),this.isMini=i.isMini=!1}},{key:"updatePos",value:function(e){this.pos=Object.assign(this.pos,e),this.isMini&&(this.player.root.style.left="".concat(this.pos.left,"px"),this.player.root.style.top="".concat(this.pos.top,"px"),this.player.root.style.width="".concat(this.pos.width,"px"),this.player.root.style.height="".concat(this.pos.height,"px"))}},{key:"destroy",value:function(){window.removeEventListener("scroll",this.onScroll);var e=f.checkTouchSupport()?"touchend":"click";this.unbind(".mini-cancel-btn",e,this.onCancelClick),this.unbind(".play-icon",e,this.onCenterClick),this._draggabilly&&this._draggabilly.destroy(),this._draggabilly=null,this.exitMini()}},{key:"render",value:function(){if(!this.config.disable)return`
      <xg-mini-layer class="xg-mini-layer">
      <xg-mini-header class="xgplayer-mini-header">
      `.concat(dt(this,"MINI_DRAG",this.playerConfig.isHideTips),`
      </xg-mini-header>
      <div class="mini-cancel-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
          <path fill="#fff" fill-rule="evenodd" d="M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z"></path>
        </svg>
      </div>
      <div class="play-icon">
      </div>
      </xg-mini-layer>`)}}],[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{index:10,disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),n})(pe),Kt={mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},Ni=["videoClick","videoDbClick"],Fi=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onMouseMove",function(o){var l=C(t),u=l.player,c=l.playerConfig;u.isActive||(u.focus({autoHide:!c.closeDelayBlur}),!c.closeFocusVideoFocus&&u.media.focus())}),S(C(t),"onMouseEnter",function(o){var l=C(t),u=l.playerConfig,c=l.player;!u.closeFocusVideoFocus&&c.media.focus(),u.closeDelayBlur?c.focus({autoHide:!1}):c.focus(),t.emit(Ur)}),S(C(t),"onMouseLeave",function(o){var l=t.playerConfig,u=l.closePlayerBlur,c=l.leavePlayerTime,h=l.closeDelayBlur;!u&&!h&&(c?t.player.focus({autoHide:!0,delay:c}):t.player.blur({ignorePaused:!0})),t.emit(Vr)}),S(C(t),"onVideoClick",function(o){var l=C(t),u=l.player,c=l.playerConfig;o.target&&c.closeVideoClick||(o.target===u.root||o.target===u.media||o.target===u.innerContainer||o.target===u.media.__canvas)&&(o.preventDefault(),c.closeVideoStopPropagation||o.stopPropagation(),t._clickCount++,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),t.clickTimer=setTimeout(function(){t._clickCount&&(t._clickCount--,Xe(C(t),Ni[0],function(h,d){t.switchPlayPause(d.e)},{e:o,paused:u.paused}),clearTimeout(t.clickTimer),t.clickTimer=null)},300))}),S(C(t),"onVideoDblClick",function(o){var l=C(t),u=l.player,c=l.playerConfig;if(!(c.closeVideoDblclick||!o.target||o.target!==u.media&&o.target!==u.media.__canvas)){if(!c.closeVideoClick&&t._clickCount<2){t._clickCount=0;return}t._clickCount=0,t.clickTimer&&(clearTimeout(t.clickTimer),t.clickTimer=null),o.preventDefault(),o.stopPropagation(),Xe(C(t),Ni[1],function(h,d){t.emitUserAction(d.e,"switch_fullscreen",{props:"fullscreen",from:u.fullscreen,to:!u.fullscreen}),u.fullscreen?u.exitFullscreen():u.getFullscreen()},{e:o,fullscreen:u.fullscreen})}}),t}return z(n,[{key:"afterCreate",value:function(){var e=this;this._clickCount=0,Ni.map(function(r){e.__hooks[r]=null});var i=this.playerConfig.isMobileSimulateMode;i==="mobile"||re.device==="mobile"&&!re.os.isIpad||this.initEvents()}},{key:"initEvents",value:function(){var e=this,i=this.player,r=i.media,o=i.root,l=this.playerConfig.enableContextmenu;o&&o.addEventListener("click",this.onVideoClick,!1),o&&o.addEventListener("dblclick",this.onVideoDblClick,!1),Object.keys(Kt).map(function(u){o.addEventListener(u,e[Kt[u]],!1)}),!l&&r&&r.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"switchPlayPause",value:function(e){var i=this.player;this.emitUserAction(e,"switch_play_pause",{props:"paused",from:i.paused,to:!i.paused}),i.ended?i.duration!==1/0&&i.duration>0&&i.replay():i.paused?i.play():i.pause()}},{key:"onContextmenu",value:function(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"destroy",value:function(){var e=this,i=this.player,r=i.video,o=i.root;this.clickTimer&&clearTimeout(this.clickTimer),o.removeEventListener("click",this.onVideoClick,!1),o.removeEventListener("dblclick",this.onVideoDblClick,!1),r.removeEventListener("contextmenu",this.onContextmenu,!1),Object.keys(Kt).map(function(l){o.removeEventListener(l,e[Kt[l]],!1)})}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{}}}]),n})(ht),lt={PRESS:"press",PRESS_END:"pressend",DOUBlE_CLICK:"doubleclick",CLICK:"click",TOUCH_MOVE:"touchmove",TOUCH_START:"touchstart",TOUCH_END:"touchend"},kf={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},bf={start:"mousedown",end:"mouseup",move:"mousemove",cancel:"mouseleave"};function lr(a){return a&&a.length>0?a[a.length-1]:null}function Cf(){return{pressDelay:600,dbClickDelay:200,disablePress:!1,disableDbClick:!1,miniStep:2,needPreventDefault:!0}}var Tf=(function(){function a(s){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{eventType:"touch"};U(this,a),S(this,"onTouchStart",function(e){var i=n._pos,r=n.root,o=lr(e.touches);i.x=o?parseInt(o.pageX,10):e.pageX,i.y=o?parseInt(o.pageX,10):e.pageX,i.start=!0,n.__setPress(e),r.addEventListener(n.events.end,n.onTouchEnd),r.addEventListener(n.events.cancel,n.onTouchCancel),r.addEventListener(n.events.move,n.onTouchMove),n.trigger(lt.TOUCH_START,e)}),S(this,"onTouchCancel",function(e){n.onTouchEnd(e)}),S(this,"onTouchEnd",function(e){var i=n._pos,r=n.root;n.__clearPress(),r.removeEventListener(n.events.cancel,n.onTouchCancel),r.removeEventListener(n.events.end,n.onTouchEnd),r.removeEventListener(n.events.move,n.onTouchMove),e.moving=i.moving,e.press=i.press,i.press&&n.trigger(lt.PRESS_END,e),n.trigger(lt.TOUCH_END,e),!i.press&&!i.moving&&n.__setDb(e),i.press=!1,i.start=!1,i.moving=!1}),S(this,"onTouchMove",function(e){var i=n._pos,r=n.config,o=lr(e.touches),l=o?parseInt(o.pageX,10):e.pageX,u=o?parseInt(o.pageY,10):e.pageX,c=l-i.x,h=u-i.y;Math.abs(h)<r.miniStep&&Math.abs(c)<r.miniStep||(n.__clearPress(),i.press&&n.trigger(lt.PRESS_END,e),i.press=!1,i.moving=!0,n.trigger(lt.TOUCH_MOVE,e))}),this._pos={moving:!1,start:!1,x:0,y:0},this.config=Cf(),Object.keys(t).map(function(e){n.config[e]=t[e]}),this.root=s,this.events=t.eventType==="mouse"?bf:kf,this.pressIntrvalId=null,this.dbIntrvalId=null,this.__handlers={},this._initEvent()}return z(a,[{key:"_initEvent",value:function(){this.root.addEventListener(this.events.start,this.onTouchStart)}},{key:"__setPress",value:function(n){var t=this,e=this.config;this.pressIntrvalId&&this.__clearPress(),this.pressIntrvalId=setTimeout(function(){t.trigger(lt.PRESS,n),t._pos.press=!0,t.__clearPress()},e.pressDelay)}},{key:"__clearPress",value:function(){window.clearTimeout(this.pressIntrvalId),this.pressIntrvalId=null}},{key:"__setDb",value:function(n){var t=this,e=this.config;if(this.dbIntrvalId){this.__clearDb(),this.trigger(lt.DOUBlE_CLICK,n);return}this.dbIntrvalId=setTimeout(function(){t.__clearDb(),!t._pos.start&&!t._pos.press&&!t._pos.moving&&t.trigger(lt.CLICK,n)},e.dbClickDelay)}},{key:"__clearDb",value:function(){clearTimeout(this.dbIntrvalId),this.dbIntrvalId=null}},{key:"on",value:function(n,t){this.__handlers[n]||(this.__handlers[n]=[]),this.__handlers[n].push(t)}},{key:"off",value:function(n,t){if(this.__handlers[n]){for(var e=this.__handlers[n],i=-1,r=0;r<e.length;r++)if(e[r]===t){i=r;break}i>=0&&this.__handlers[n].splice(i,1)}}},{key:"trigger",value:function(n,t){this.__handlers[n]&&this.__handlers[n].map(function(e){try{e(t)}catch(i){console.error("trigger>>:".concat(n),i)}})}},{key:"destroy",value:function(){var n=this,t={touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"};Object.keys(t).forEach(function(e){n.root.removeEventListener(e,n[t[e]])})}}]),a})();function wf(){return new DOMParser().parseFromString(`<svg width="20" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink">
  <path opacity="0.54"
    d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z"
    fill="white" />
  <path transform="translate(5 0)" d="M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z" fill="white"/>
</svg>`,"image/svg+xml").firstChild}var Pt={AUTO:"auto",SEEKING:"seeking",PLAYBACK:"playbackrate"},Hi=["videoClick","videoDbClick"],Ef=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"onTouchStart",function(i){var r=C(e),o=r.player,l=r.config,u=r.pos,c=r.playerConfig,h=e.getTouche(i);if(h&&!l.disableGesture&&e.duration>0&&!o.ended){u.isStart=!0,e.timer&&clearTimeout(e.timer),f.checkIsFunction(c.disableSwipeHandler)&&c.disableSwipeHandler(),e.find(".xg-dur").innerHTML=f.format(e.duration);var d=e.root.getBoundingClientRect();o.rotateDeg===90?(u.top=d.left,u.left=d.top,u.width=d.height,u.height=d.width):(u.top=d.top,u.left=d.left,u.width=d.width,u.height=d.height);var v=parseInt(h.pageX-u.left,10),g=parseInt(h.pageY-u.top,10);u.x=o.rotateDeg===90?g:v,u.y=o.rotateDeg===90?v:g,u.scopeL=l.scopeL*u.width,u.scopeR=(1-l.scopeR)*u.width,u.scopeM1=u.width*(1-l.scopeM)/2,u.scopeM2=u.width-u.scopeM1}}),S(C(e),"onTouchMove",function(i){var r=e.getTouche(i),o=C(e),l=o.pos,u=o.config,c=o.player;if(!(!r||u.disableGesture||!e.duration||!l.isStart)){var h=u.miniMoveStep,d=u.hideControlsActive,v=parseInt(r.pageX-l.left,10),g=parseInt(r.pageY-l.top,10),p=c.rotateDeg===90?g:v,m=c.rotateDeg===90?v:g;if(Math.abs(p-l.x)>h||Math.abs(m-l.y)>h){var E=p-l.x,I=m-l.y,P=l.scope;if(P===-1&&(P=e.checkScope(p,m,E,I,l),P===0&&(d?c.blur():c.focus({autoHide:!1}),!l.time&&(l.time=parseInt(c.currentTime*1e3,10)+e.timeOffset*1e3)),l.scope=P),P===-1||P>0&&!u.gestureY||P===0&&!u.gestureX)return;e.executeMove(E,I,P,l.width,l.height),l.x=p,l.y=m}}}),S(C(e),"onTouchEnd",function(i){var r=C(e),o=r.player,l=r.pos,u=r.playerConfig;if(setTimeout(function(){o.getPlugin("progress")&&o.getPlugin("progress").resetSeekState()},10),!!l.isStart){l.scope>-1&&i.cancelable&&i.preventDefault();var c=e.config,h=c.disableGesture,d=c.gestureX;!h&&d?e.endLastMove(l.scope):l.time=0,l.scope=-1,e.resetPos(),f.checkIsFunction(u.enableSwipeHandler)&&u.enableSwipeHandler(),e.changeAction(Pt.AUTO)}}),S(C(e),"onRootTouchMove",function(i){e.config.disableGesture||!e.config.gestureX||e.checkIsRootTarget(i)&&(i.stopPropagation(),e.pos.isStart?e.onTouchMove(i):e.onTouchStart(i))}),S(C(e),"onRootTouchEnd",function(i){e.pos.scope>-1&&e.onTouchEnd(i)}),e.pos={isStart:!1,x:0,y:0,time:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1},e.timer=null,e}return z(n,[{key:"duration",get:function(){return this.playerConfig.customDuration||this.player.duration}},{key:"timeOffset",get:function(){return this.playerConfig.timeOffset||0}},{key:"registerIcons",value:function(){return{seekTipIcon:{icon:wf,class:"xg-seek-pre"}}}},{key:"afterCreate",value:function(){var e=this;Hi.map(function(d){e.__hooks[d]=null});var i=this.playerConfig,r=this.config,o=this.player;i.closeVideoDblclick===!0&&(r.closedbClick=!0),this.resetPos(),f.isUndefined(i.disableGesture)||(r.disableGesture=!!i.disableGesture),this.appendChild(".xg-seek-icon",this.icons.seekTipIcon),this.xgMask=f.createDom("xg-mask","",{},"xgmask"),o.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail();var l=this.domEventType==="mouse"?"mouse":"touch";this.touch=new Tf(this.root,{eventType:l,needPreventDefault:!this.config.disableGesture}),this.root.addEventListener("contextmenu",function(d){d.preventDefault()}),o.root.addEventListener("touchmove",this.onRootTouchMove,!0),o.root.addEventListener("touchend",this.onRootTouchEnd,!0),o.root.addEventListener("touchcancel",this.onRootTouchEnd,!0);var u=this.player.controls;u&&u.center&&(u.center.addEventListener("touchmove",this.onRootTouchMove,!0),u.center.addEventListener("touchend",this.onRootTouchEnd,!0),u.center.addEventListener("touchcancel",this.onRootTouchEnd,!0)),this.on(rt,function(){var d=e.player,v=e.config;d.duration>0&&d.duration*1e3<v.moveDuration&&(v.moveDuration=d.duration*1e3)}),this.on([Qe,Tt],function(){var d=e.pos,v=d.time,g=d.isStart;!g&&v>0&&(e.pos.time=0)});var c={touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",press:"onPress",pressend:"onPressEnd",click:"onClick",doubleclick:"onDbClick"};if(Object.keys(c).map(function(d){e.touch.on(d,function(v){e[c[d]](v)})}),!r.disableActive){var h=o.plugins.progress;h&&(h.addCallBack("dragmove",function(d){e.activeSeekNote(d.currentTime,d.forward)}),["dragend","click"].forEach(function(d){h.addCallBack(d,function(){e.changeAction(Pt.AUTO)})}))}}},{key:"registerThumbnail",value:function(){var e=this.player,i=e.plugins.thumbnail;if(i&&i.usable){this.thumbnail=i.createThumbnail(null,"mobile-thumbnail");var r=this.find(".time-preview");r.insertBefore(this.thumbnail,r.children[0])}}},{key:"initCustomStyle",value:function(){var e=this.playerConfig||{},i=e.commonStyle,r=i.playedColor,o=i.progressColor,l=i.timePreviewStyle,u=i.curTimeColor,c=i.durationColor;if(r&&(this.find(".xg-curbar").style.backgroundColor=r),o&&(this.find(".xg-bar").style.backgroundColor=o),l){var h=this.find(".time-preview");Object.keys(l).forEach(function(g){h.style[g]=l[g]})}var d=u||r,v=c;d&&(this.find(".xg-cur").style.color=d),v&&(this.find(".xg-dur").style.color=v),this.config.disableTimeProgress&&f.addClass(this.find(".xg-timebar"),"hide")}},{key:"resetPos",value:function(){var e=this;this.pos?(this.pos.isStart=!1,this.pos.scope=-1,["x","y","width","height","scopeL","scopeR","scopeM1","scopeM2"].map(function(i){e.pos[i]=0})):this.pos={isStart:!1,x:0,y:0,volume:0,rate:1,light:0,width:0,height:0,scopeL:0,scopeR:0,scopeM1:0,scopeM2:0,scope:-1,time:0}}},{key:"changeAction",value:function(e){var i=this.player,r=this.root;r.setAttribute("data-xg-action",e);var o=i.plugins.start;o&&o.recover()}},{key:"getTouche",value:function(e){var i=this.player.rotateDeg,r=e.touches&&e.touches.length>0?e.touches[e.touches.length-1]:e;return i===0?{pageX:r.pageX,pageY:r.pageY}:{pageX:r.pageX,pageY:r.pageY}}},{key:"checkScope",value:function(e,i,r,o,l){var u=l.width,c=-1;if(e<0||e>u)return c;var h=Math.abs(o===0?r:r/o);return Math.abs(r)>0&&h>=1.73&&e>l.scopeM1&&e<l.scopeM2?c=0:(Math.abs(r)===0||h<=.57)&&(c=e<l.scopeL?1:e>l.scopeR?2:3),c}},{key:"executeMove",value:function(e,i,r,o,l){switch(r){case 0:this.updateTime(e/o*this.config.scopeM);break;case 1:this.updateBrightness(i/l);break;case 2:re.os.isIos||this.updateVolume(i/l);break}}},{key:"endLastMove",value:function(e){var i=this,r=this.pos,o=this.player,l=this.config,u=(r.time-this.timeOffset)/1e3;switch(e){case 0:o.seek(Number(u).toFixed(1)),l.hideControlsEnd?o.blur():o.focus(),this.timer=setTimeout(function(){i.pos.time=0},500);break}this.changeAction(Pt.AUTO)}},{key:"checkIsRootTarget",value:function(e){var i=this.player.plugins||{};return i.progress&&i.progress.root.contains(e.target)?!1:i.start&&i.start.root.contains(e.target)||i.controls&&i.controls.root.contains(e.target)}},{key:"sendUseAction",value:function(e){var i=this.player.paused;this.emitUserAction(e,"switch_play_pause",{prop:"paused",from:i,to:!i})}},{key:"clickHandler",value:function(e){var i=this.player,r=this.config,o=this.playerConfig;if(i.state<de.RUNNING){o.closeVideoClick||(this.sendUseAction(f.createEvent("click")),i.play());return}!r.closedbClick||o.closeVideoClick?i.isActive?i.blur():i.focus():o.closeVideoClick||((i.isActive||r.focusVideoClick)&&(this.sendUseAction(f.createEvent("click")),this.switchPlayPause()),i.focus())}},{key:"dbClickHandler",value:function(e){var i=this.config,r=this.player;!i.closedbClick&&r.state>=de.RUNNING&&(this.sendUseAction(f.createEvent("dblclick")),this.switchPlayPause())}},{key:"onClick",value:function(e){var i=this,r=this.player;Xe(this,Hi[0],function(o,l){i.clickHandler(l.e)},{e,paused:r.paused})}},{key:"onDbClick",value:function(e){var i=this,r=this.player;Xe(this,Hi[1],function(o,l){i.dbClickHandler(l.e)},{e,paused:r.paused})}},{key:"onPress",value:function(e){var i=this.pos,r=this.config,o=this.player;r.disablePress||(i.rate=this.player.playbackRate,this.emitUserAction("press","change_rate",{prop:"playbackRate",from:o.playbackRate,to:r.pressRate}),o.playbackRate=r.pressRate,this.changeAction(Pt.PLAYBACK))}},{key:"onPressEnd",value:function(e){var i=this.pos,r=this.config,o=this.player;r.disablePress||(this.emitUserAction("pressend","change_rate",{prop:"playbackRate",from:o.playbackRate,to:i.rate}),o.playbackRate=i.rate,i.rate=1,this.changeAction(Pt.AUTO))}},{key:"updateTime",value:function(e){var i=this.player,r=this.config,o=this.player.duration;e=Number(e.toFixed(4));var l=parseInt(e*r.moveDuration,10)+this.timeOffset;l+=this.pos.time,l=l<0?0:l>o*1e3?o*1e3-200:l,i.getPlugin("time")&&i.getPlugin("time").updateTime(l/1e3),i.getPlugin("progress")&&i.getPlugin("progress").updatePercent(l/1e3/this.duration,!0),this.activeSeekNote(l/1e3,e>0),r.isTouchingSeek&&i.seek(Number((l-this.timeOffset)/1e3).toFixed(1)),this.pos.time=l}},{key:"updateVolume",value:function(e){this.player.rotateDeg&&(e=-e);var i=this.player,r=this.pos;if(e=parseInt(e*100,10),r.volume+=e,!(Math.abs(r.volume)<10)){var o=parseInt(i.volume*10,10)-parseInt(r.volume/10,10);o=o>10?10:o<1?0:o,i.volume=o/10,r.volume=0}}},{key:"updateBrightness",value:function(e){var i=this.pos,r=this.config,o=this.xgMask;if(r.darkness){this.player.rotateDeg&&(e=-e);var l=i.light+.8*e;l=l>r.maxDarkness?r.maxDarkness:l<0?0:l,o&&(o.style.backgroundColor="rgba(0,0,0,".concat(l,")")),i.light=l}}},{key:"activeSeekNote",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this.player,o=this.config,l=!(this.duration!==1/0&&this.duration>0);if(!(!e||typeof e!="number"||l||o.disableActive)){e<0?e=0:e>r.duration&&(e=r.duration-.2),this.changeAction(Pt.SEEKING);var u=r.plugins.start;u&&u.focusHide(),this.find(".xg-dur").innerHTML=f.format(this.duration),this.find(".xg-cur").innerHTML=f.format(e),this.find(".xg-curbar").style.width="".concat(e/this.duration*100,"%"),i?f.removeClass(this.find(".xg-seek-show"),"xg-back"):f.addClass(this.find(".xg-seek-show"),"xg-back"),this.updateThumbnails(e)}}},{key:"updateThumbnails",value:function(e){var i=this.player,r=i.plugins.thumbnail;r&&r.usable&&this.thumbnail&&r.update(this.thumbnail,e,160,90)}},{key:"switchPlayPause",value:function(){var e=this.player;if(e.state<de.ATTACHED)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"disableGesture",value:function(){this.config.disableGesture=!0}},{key:"enableGesture",value:function(){this.config.disableGesture=!1}},{key:"destroy",value:function(){var e=this.player;this.timer&&clearTimeout(this.timer),this.thumbnail=null,e.root.removeChild(this.xgMask),this.xgMask=null,this.touch&&this.touch.destroy(),this.touch=null,e.root.removeEventListener("touchmove",this.onRootTouchMove,!0),e.root.removeEventListener("touchend",this.onRootTouchEnd,!0),e.root.removeEventListener("touchcancel",this.onRootTouchEnd,!0);var i=this.player.controls;i&&i.center&&(i.center.removeEventListener("touchmove",this.onRootTouchMove,!0),i.center.removeEventListener("touchend",this.onRootTouchEnd,!0),i.center.removeEventListener("touchcancel",this.onRootTouchEnd,!0))}},{key:"render",value:function(){var e=this.config.gradient!=="normal"?"gradient ".concat(this.config.gradient):"gradient";return`
     <xg-trigger class="trigger">
     <div class="`.concat(e,`"></div>
        <div class="time-preview">
            <div class="xg-seek-show `).concat(this.config.disableSeekIcon?" hide-seek-icon":"",`">
              <i class="xg-seek-icon"></i>
              <span class="xg-cur">00:00</span>
              <span class="xg-separator">/</span>
              <span class="xg-dur">00:00</span>
            </div>
              <div class="xg-bar xg-timebar">
                <div class="xg-curbar"></div>
              </div>
        </div>
        <div class="xg-playbackrate xg-top-note">
            <span><i>`).concat(this.config.pressRate,"X</i>").concat(this.i18n.FORWARD,`</span>
        </div>
     </xg-trigger>
    `)}}],[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{index:0,disableGesture:!1,gestureX:!0,gestureY:!0,gradient:"normal",isTouchingSeek:!1,miniMoveStep:5,miniYPer:5,scopeL:.25,scopeR:.25,scopeM:.9,pressRate:2,darkness:!0,maxDarkness:.8,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!1,hideControlsEnd:!1,moveDuration:360*1e3,closedbClick:!1,disablePress:!0,disableSeekIcon:!1,focusVideoClick:!1}}}]),n})(pe);function Sf(a){a.preventDefault(),a.returnValue=!1}function ur(a){var s=a.tagName;return!!(s==="INPUT"||s==="TEXTAREA"||a.isContentEditable)}var cr=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onBodyKeyDown",function(o){if(t.player){var l=o||window.event,u=l.keyCode,c=C(t),h=c._keyState,d=c.player,v=t.config,g=v.disable,p=v.disableBodyTrigger,m=v.isIgnoreUserActive;if(g||p||!(d.isUserActive||m)||ur(l.target)||!t.checkIsVisible()||l.metaKey||l.altKey||l.ctrlKey){h.isBodyKeyDown=!1;return}!o.repeat&&!h.isKeyDown&&((l.target===document.body||t.config.isGlobalTrigger&&!ur(l.target))&&t.checkCode(u,!0)&&(h.isBodyKeyDown=!0),document.addEventListener("keyup",t.onBodyKeyUp)),h.isBodyKeyDown&&t.handleKeyDown(l)}}),S(C(t),"onBodyKeyUp",function(o){t.player&&(document.removeEventListener("keyup",t.onBodyKeyUp),t.handleKeyUp(o))}),S(C(t),"onKeydown",function(o){if(t.player){var l=o||window.event,u=C(t),c=u._keyState;if(!l.repeat){if(t.config.disable||t.config.disableRootTrigger||l.metaKey||l.altKey||l.ctrlKey)return;l&&(l.keyCode===37||t.checkCode(l.keyCode))&&(l.target===t.player.root||l.target===t.player.video||l.target===t.player.controls.el)&&(c.isKeyDown=!0),t.player.root.addEventListener("keyup",t.onKeyup)}c.isKeyDown&&t.handleKeyDown(l)}}),S(C(t),"onKeyup",function(o){t.player&&(t.player.root.removeEventListener("keyup",t.onKeyup),t.handleKeyUp(o))}),t}return z(n,[{key:"mergekeyCodeMap",value:function(){var e=this,i=this.config.keyCodeMap;i&&Object.keys(i).map(function(r){e.keyCodeMap[r]?["keyCode","action","disable","pressAction","disablePress","isBodyTarget"].map(function(o){i[r][o]&&(e.keyCodeMap[r][o]=i[r][o])}):e.keyCodeMap[r]=i[r]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e=typeof this.config.seekStep=="function"?this.config.seekStep(this.player):this.config.seekStep;!e||typeof e!="number"||(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,disablePress:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,disablePress:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,disablePress:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disablePress:!1,disable:!1},right:{keyCode:39,action:"seek",pressAction:"changePlaybackRate",disablePress:!1,disable:!1},esc:{keyCode:27,action:"exitFullscreen",disablePress:!0,disable:!1}},this.mergekeyCodeMap(),this._keyState={isKeyDown:!1,isBodyKeyDown:!1,isPress:!1,tt:0,playbackRate:0},this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(r){i.config[r]=e[r]})}},{key:"checkIsVisible",value:function(){if(!this.config.checkVisible)return!0;var e=this.player.root.getBoundingClientRect(),i=e.height,r=e.top,o=e.bottom,l=window.innerHeight;return!(r<0&&r<0-i*.9||o>0&&o-l>i*.9)}},{key:"checkCode",value:function(e,i){var r=this,o=!1;return Object.keys(this.keyCodeMap).map(function(l){r.keyCodeMap[l]&&e===r.keyCodeMap[l].keyCode&&!r.keyCodeMap[l].disable&&(o=!i||i&&!r.keyCodeMap[l].noBodyTarget)}),o}},{key:"downVolume",value:function(e){var i=this.player;if(!(i.volume<=0)){var r=parseFloat((i.volume-.1).toFixed(1)),o={volume:{from:i.volume,to:r}};this.emitUserAction(e,"change_volume",{props:o}),r>=0?i.volume=r:i.volume=0}}},{key:"upVolume",value:function(e){var i=this.player;if(!(i.volume>=1)){var r=parseFloat((i.volume+.1).toFixed(1)),o={volume:{from:i.volume,to:r}};this.emitUserAction(e,"change_volume",{props:o}),r<=1?i.volume=r:i.volume=1}}},{key:"seek",value:function(e){var i=this.player,r=i.currentTime,o=i.offsetCurrentTime,l=i.duration,u=i.offsetDuration,c=i.timeSegments,h=o>-1?o:r,d=u||l,v=e.repeat&&this.seekStep>=4?parseInt(this.seekStep/2,10):this.seekStep;h+v<=d?h=h+v:h=d;var g=f.getCurrentTimeByOffset(h,c),p={currentTime:{from:r,to:g}};this.emitUserAction(e,"seek",{props:p}),this.player.currentTime=g}},{key:"seekBack",value:function(e){var i=this.player,r=i.currentTime,o=i.offsetCurrentTime,l=i.timeSegments,u=e.repeat?parseInt(this.seekStep/2,10):this.seekStep,c=o>-1?o:r,h=c-u;h<0&&(h=0),h=f.getCurrentTimeByOffset(h,l);var d={currentTime:{from:r,to:h}};this.emitUserAction(e,"seek",{props:d}),this.player.currentTime=h}},{key:"changePlaybackRate",value:function(e){var i=this._keyState,r=this.config,o=this.player;i.playbackRate===0&&(i.playbackRate=o.playbackRate,o.playbackRate=r.playbackRate)}},{key:"playPause",value:function(e){var i=this.player;i&&(this.emitUserAction(e,"switch_play_pause"),i.paused?i.play():i.pause())}},{key:"exitFullscreen",value:function(e){var i=this.player,r=i.fullscreen,o=i.cssfullscreen;r&&(this.emitUserAction("keyup","switch_fullscreen",{prop:"fullscreen",from:r,to:!r}),i.exitFullscreen()),o&&(this.emitUserAction("keyup","switch_css_fullscreen",{prop:"cssfullscreen",from:o,to:!o}),i.exitCssFullscreen())}},{key:"handleKeyDown",value:function(e){var i=this._keyState;if(e.repeat){i.isPress=!0;var r=Date.now();if(r-i.tt<200)return;i.tt=r}this.handleKeyCode(e.keyCode,e,i.isPress)}},{key:"handleKeyUp",value:function(e){var i=this._keyState;i.playbackRate>0&&(this.player.playbackRate=i.playbackRate,i.playbackRate=0),i.isKeyDown=!1,i.isPress=!1,i.tt=0}},{key:"handleKeyCode",value:function(e,i,r){for(var o=Object.keys(this.keyCodeMap),l=0;l<o.length;l++){var u=this.keyCodeMap[o[l]],c=u.action,h=u.keyCode,d=u.disable,v=u.pressAction,g=u.disablePress;if(h===e){if(!d&&!(r&&g)){var p=r&&v||c;typeof p=="function"?c(i,this.player,r):typeof p=="string"&&typeof this[p]=="function"&&this[p](i,this.player,r),this.emit(Gr,Ee({key:o[l],target:i.target,isPress:r},this.keyCodeMap[o[l]]))}Sf(i),i.stopPropagation();break}}}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown),this.player.root.removeEventListener("keyup",this.onKeyup),document.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"disable",value:function(){this.config.disable=!0}},{key:"enable",value:function(){this.config.disable=!1}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,checkVisible:!1,disableBodyTrigger:!1,disableRootTrigger:!1,isGlobalTrigger:!0,keyCodeMap:{},disable:!1,playbackRate:2,isIgnoreUserActive:!0}}}]),n})(ht);function Pf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="-5 -5 110 110">
  <path d="M100,50A50,50,0,1,1,50,0" stroke-width="5" stroke="#ddd" stroke-dasharray="236" fill="none"></path>
</svg>
`,"image/svg+xml").firstChild}var xf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"registerIcons",value:function(){return{loadingIcon:Pf}}},{key:"afterCreate",value:function(){this.appendChild("xg-loading-inner",this.icons.loadingIcon)}},{key:"render",value:function(){return`
    <xg-loading class="xgplayer-loading">
      <xg-loading-inner></xg-loading-inner>
    </xg-loading>`}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:Ce.ROOT}}}]),n})(pe),If=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"_onDurationChange",function(){t.updateSegments();var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=f.getIndexByTime(l,u),h=f.getOffsetCurrentTime(l,u,c);t.player.offsetCurrentTime=h,t.changeIndex(c,u)}}),S(C(t),"_onLoadedData",function(){var o=t.player.timeSegments;if(t._checkIfEnabled(o)){var l=f.getOffsetCurrentTime(0,o);t.player.offsetCurrentTime=l,t.changeIndex(0,o),t.curPos.start>0&&(t.player.currentTime=t.curPos.start)}}),S(C(t),"_onTimeupdate",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u)){var c=u.length;t.lastCurrentTime=l;var h=f.getIndexByTime(l,u);h!==t.curIndex&&t.changeIndex(h,u);var d=f.getOffsetCurrentTime(l,u,h);if(t.player.offsetCurrentTime=d,!!t.curPos){var v=t.curPos,g=v.start,p=v.end;l<g?t.player.currentTime=g:l>p&&h>=c-1&&t.player.pause()}}}),S(C(t),"_onSeeking",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;if(t._checkIfEnabled(u))if(l<u[0].start)t.player.currentTime=u[0].start;else if(l>u[u.length-1].end)t.player.currentTime=u[u.length-1].end;else{var c=f.getIndexByTime(l,u);if(c>=0){var h=t.getSeekTime(l,t.lastCurrentTime,c,u);h>=0&&(t.player.currentTime=h)}}}),S(C(t),"_onPlay",function(){var o=t.player,l=o.currentTime,u=o.timeSegments;t._checkIfEnabled(u)&&l>=u[u.length-1].end&&(t.player.currentTime=u[0].start)}),t}return z(n,[{key:"afterCreate",value:function(){this.curIndex=-1,this.curPos=null,this.lastCurrentTime=0,this.updateSegments(),this.on(rt,this._onDurationChange),this.on(it,this._onLoadedData),this.on(Ve,this._onTimeupdate),this.on(pi,this._onSeeking),this.on(Ue,this._onPlay)}},{key:"setConfig",value:function(e){var i=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(o){i.config[o]=e[o]}),this.updateSegments())}}},{key:"updateSegments",value:function(){var e=this.config,i=e.disable,r=e.segments,o=this.player;if(i||!r||r.length===0)o.timeSegments=[],o.offsetDuration=0,o.offsetCurrentTime=-1;else{var l=this.formatTimeSegments(r,o.duration);o.timeSegments=l,o.offsetDuration=l.length>0?l[l.length-1].duration:0}}},{key:"formatTimeSegments",value:function(e,i){var r=[];return e?(e.sort(function(o,l){return o.start-l.start}),e.forEach(function(o,l){var u={};if(u.start=o.start<0?0:o.start,u.end=i>0&&o.end>i?i:o.end,!(i>0&&u.start>i)){r.push(u);var c=u.end-u.start;if(l===0)u.offset=o.start,u.cTime=0,u.segDuration=c,u.duration=c;else{var h=r[l-1];u.offset=h.offset+(u.start-h.end),u.cTime=h.duration+h.cTime,u.segDuration=c,u.duration=h.duration+c}}}),r):[]}},{key:"getSeekTime",value:function(e,i,r,o){var l=-1,u=o[r],c=u.start,h=u.end;if(e>=c&&e<=h)return l;var d=e-i;if(d<0&&e<c){var v=i>c?i-c:0;return l=r-1>=0?o[r-1].end+d+v:0,l}return-1}},{key:"_checkIfEnabled",value:function(e){return!(!e||e.length<1)}},{key:"changeIndex",value:function(e,i){this.curIndex=e,e>=0&&i.length>0?this.curPos=i[e]:this.curPos=null}}],[{key:"pluginName",get:function(){return"TimeSegmentsControls"}},{key:"defaultConfig",get:function(){return{disable:!0,segments:[]}}}]),n})(ht);function Lf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none">
  <g>
    <path transform="scale(1.5 1.5)" d="M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z" fill="white"/>
    <path transform="scale(1.5 1.5)" fill-rule="evenodd" clip-rule="evenodd" d="M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z" fill="white"/>
  </g>
  <defs>
    <clipPath>
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,"image/svg+xml").firstChild}var Af=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),e.rotateDeg=e.config.rotateDeg||0,e}return z(n,[{key:"afterCreate",value:function(){var e=this;if(!this.config.disable){ee(Q(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick),this.on(ct,function(){e.rotateDeg&&e.config.innerRotate&&f.setTimeout(e,function(){e.updateRotateDeg(e.rotateDeg,e.config.innerRotate)},100)});var i=this.player.root;this.rootWidth=i.style.width||i.offsetWidth||i.clientWidth,this.rootHeight=i.style.height||i.offsetHeight||i.clientHeight,this.rotateDeg&&this.updateRotateDeg(this.rotateDeg,this.config.innerRotate)}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"rotate"),this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(e,i){if(e||(e=0),i){this.player.videoRotateDeg=e;return}var r=this.player,o=this.rootWidth,l=this.rootHeight,u=r.root,c=r.innerContainer,h=r.media,d=u.offsetWidth,v=c&&i?c.offsetHeight:u.offsetHeight,g=o,p=l,m=0,E=0;(e===.75||e===.25)&&(g="".concat(v,"px"),p="".concat(d,"px"),m=-(v-d)/2,E=-(d-v)/2);var I="translate(".concat(m,"px,").concat(E,"px) rotate(").concat(e,"turn)"),P={transformOrigin:"center center",transform:I,webKitTransform:I,height:p,width:g},$=i?h:u,N=i?r.getPlugin("poster"):null;Object.keys(P).map(function(ce){$.style[ce]=P[ce],N&&N.root&&(N.root.style[ce]=P[ce])})}},{key:"rotate",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=this.player;this.rotateDeg||(this.rotateDeg=0);var l=e?1:-1;this.rotateDeg=(this.rotateDeg+1+l*.25*r)%1,this.updateRotateDeg(this.rotateDeg,i),o.emit(jr,this.rotateDeg*360)}},{key:"registerIcons",value:function(){return{rotate:Lf}}},{key:"render",value:function(){if(!this.config.disable)return`
    <xg-icon class="xgplayer-rotate">
      <div class="xgplayer-icon">
      </div>
      `.concat(dt(this,"ROTATE_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:6,innerRotate:!0,clockwise:!1,rotateDeg:0,disable:!1}}}]),n})(Et);function Mf(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}function Df(){return new DOMParser().parseFromString(`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z"
    fill="white" />
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z"
    fill="white" />
</svg>`,"image/svg+xml").firstChild}var xt={PIP:"picture-in-picture",INLINE:"inline",FULLSCREEN:"fullscreen"},Of=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"switchPIP",function(o){if(!t.isPIPAvailable())return!1;o.stopPropagation&&o.stopPropagation(),t.isPip?(t.exitPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!0,to:!1}),t.setAttr("data-state","normal")):t.player.media.readyState===4&&(t.requestPIP(),t.emitUserAction(o,"change_pip",{props:"pip",from:!1,to:!0}),t.setAttr("data-state","pip"))}),t}return z(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.pip=="boolean"&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var e=this;this.isPIPAvailable()&&(ee(Q(n.prototype),"afterCreate",this).call(this),this.pMode=xt.INLINE,this.initPipEvents(),this.config.showIcon&&this.initIcons(),this.once(mi,function(){e.config.showIcon&&(f.removeClass(e.find(".xgplayer-icon"),"xg-icon-disable"),e.bind("click",e.switchPIP))}))}},{key:"registerIcons",value:function(){return{pipIcon:{icon:Mf,class:"xg-get-pip"},pipIconExit:{icon:Df,class:"xg-exit-pip"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.pipIcon),this.appendChild(".xgplayer-icon",e.pipIconExit)}},{key:"initPipEvents",value:function(){var e=this,i=this.player;this.leavePIPCallback=function(){var r=i.paused;f.setTimeout(e,function(){!r&&i.mediaPlay()},0),!r&&i.mediaPlay(),e.setAttr("data-state","normal"),e.pipWindow=null,i.emit(Qi,!1)},this.enterPIPCallback=function(r){i.emit(Qi,!0),r!=null&&r.pictureInPictureWindow&&(e.pipWindow=r.pictureInPictureWindow),e.setAttr("data-state","pip")},this.onWebkitpresentationmodechanged=function(r){var o=i.media.webkitPresentationMode;e.pMode===xt.FULLSCREEN&&o!==xt.FULLSCREEN&&i.onFullscreenChange(null,!1),e.pMode=o,o===xt.PIP?e.enterPIPCallback(r):o===xt.INLINE&&e.leavePIPCallback(r)},i.media&&(i.media.addEventListener("enterpictureinpicture",this.enterPIPCallback),i.media.addEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(i.media)&&i.media.addEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged))}},{key:"copyStyleIntoPiPWindow",value:function(e){var i=We(document.styleSheets).map(function(o){try{return We(o.cssRules).map(function(u){return u.cssText}).join("")}catch{var l=document.createElement("link");l.rel="stylesheet",l.type=o.type,l.media=o.media,l.href=o.href,e.document.head.appendChild(l)}return""}).filter(Boolean).join(`
`),r=document.createElement("style");r.textContent=i,e.document.head.appendChild(r)}},{key:"requestPIP",value:function(){var e=this,i=this.player,r=this.playerConfig,o=this.config;if(!(!this.isPIPAvailable()||this.isPip))try{var l=r.poster;if(l&&(i.media.poster=f.typeOf(l)==="String"?l:l.poster),o.preferDocument&&this.isDocPIPAvailable()){var u={};if(o.width&&o.height)u.width=o.width,u.height=o.height;else{var c=i.root.getBoundingClientRect();u.width=c.width,u.height=c.height}documentPictureInPicture.requestWindow(u).then(function(h){var d=o.docPiPNode,v=o.docPiPStyle;e.enterPIPCallback();var g=d||i.root,p=g.parentElement,m=g.previousSibling,E=g.nextSibling;e.copyStyleIntoPiPWindow(h);var I=document.createElement("style");if(I.append("body{padding:0; margin:0;}"),v){var P="";typeof v=="string"?P=v:typeof v=="function"&&(P=v.call(o)),P&&I.append(P)}else g===i.root&&I.append(`
              .xgplayer{width: 100%!important; height: 100%!important;}
            `);h.document.head.append(I),h.document.body.append(g),h.addEventListener("pagehide",function($){p&&(E?p.insertBefore(g,E):m?p.insertBefore(g,m.nextSibling):p.appendChild(g)),e.leavePIPCallback()},{once:!0})})}else n.checkWebkitSetPresentationMode(i.media)?i.media.webkitSetPresentationMode("picture-in-picture"):i.media.requestPictureInPicture();return!0}catch(h){return console.error("requestPiP",h),!1}}},{key:"exitPIP",value:function(){var e=this.player;try{if(this.isPIPAvailable()&&this.isPip){var i;this.isDocPIPAvailable()&&(i=documentPictureInPicture)!==null&&i!==void 0&&i.window?documentPictureInPicture.window.close():n.checkWebkitSetPresentationMode(e.media)?e.media.webkitSetPresentationMode("inline"):document.exitPictureInPicture()}return!0}catch(r){return console.error("exitPIP",r),!1}}},{key:"isPip",get:function(){var e,i=this.player;return!!(this.isDocPIPAvailable()&&(e=documentPictureInPicture)!==null&&e!==void 0&&e.window)||document.pictureInPictureElement&&document.pictureInPictureElement===i.media||i.media.webkitPresentationMode===xt.PIP}},{key:"isPIPAvailable",value:function(){var e=this.player.media,i=f.typeOf(document.pictureInPictureEnabled)==="Boolean"?document.pictureInPictureEnabled:!1;return i&&(f.typeOf(e.disablePictureInPicture)==="Boolean"&&!e.disablePictureInPicture||e.webkitSupportsPresentationMode&&f.typeOf(e.webkitSetPresentationMode)==="Function")||this.isDocPIPAvailable()}},{key:"isDocPIPAvailable",value:function(){return"documentPictureInPicture"in window&&/^(https|file)/.test(location.protocol)}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this);var e=this.player;e.media.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.media.removeEventListener("leavepictureinpicture",this.leavePIPCallback),n.checkWebkitSetPresentationMode(e.media)&&e.media.removeEventListener("webkitpresentationmodechanged",this.onWebkitpresentationmodechanged),this.exitPIP(),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(!(!this.config.showIcon||!this.isPIPAvailable()))return`<xg-icon class="xgplayer-pip">
      <div class="xgplayer-icon xg-icon-disable">
      </div>
      `.concat(dt(this,"PIP",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:6,showIcon:!1,preferDocument:!1,width:void 0,height:void 0,docPiPNode:void 0,docPiPStyle:void 0}}},{key:"checkWebkitSetPresentationMode",value:function(e){return typeof e.webkitSetPresentationMode=="function"}}]),n})(Et);function Rf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="40" viewBox="10 0 24 40">
  <path transform="scale(0.038 0.028)" d="M800 380v768h-128v-352l-320 320v-704l320 320v-352z"></path>
</svg>
`,"image/svg+xml").firstChild}var Nf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"playNext",function(i){var r=C(e),o=r.player;i.preventDefault(),i.stopPropagation(),e.idx+1<e.config.urlList.length?(e.idx++,e.nextHandler(e.config.urlList[e.idx],e.idx),o.emit(ri,e.idx+1)):(e.nextHandler(),o.emit(ri))}),e.idx=-1,e}return z(n,[{key:"afterCreate",value:function(){!this.config.urlList||this.config.urlList.length===0||(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:Rf}}},{key:"initEvents",value:function(){this.nextHandler=this.hook("nextClick",this.changeSrc);var e=re.device==="mobile"?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"changeSrc",value:function(e){var i=this.player;e&&(i.pause(),i.currentTime=0,i.switchURL?i.switchURL(e):i.src=e,i.config.url=e,i.play())}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(!(!this.config.urlList||this.config.urlList.length===0))return`
     <xg-icon class="xgplayer-playnext">
      <div class="xgplayer-icon">
      </div>
      `.concat(dt(this,"PLAYNEXT_TIPS",this.playerConfig.isHideTips),`
     </xg-icon>
    `)}}],[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),n})(pe),Jt={exports:{}},Ff=Jt.exports,hr;function Hf(){return hr||(hr=1,(function(a,s){(function(n,t){a.exports=t()})(Ff,function(){return function n(t,e,i){var r=window,o="application/octet-stream",l=i||o,u=t,c=!e&&!i&&u,h=document.createElement("a"),d=function(R){return String(R)},v=r.Blob||r.MozBlob||r.WebKitBlob||d,g=e||"download",p,m;if(v=v.call?v.bind(r):Blob,String(this)==="true"&&(u=[u,l],l=u[0],u=u[1]),c&&c.length<2048&&(g=c.split("/").pop().split("?")[0],h.href=c,h.href.indexOf(c)!==-1)){var E=new XMLHttpRequest;return E.open("GET",c,!0),E.responseType="blob",E.onload=function(R){n(R.target.response,g,o)},setTimeout(function(){E.send()},0),E}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u))if(u.length>1024*1024*1.999&&v!==d)u=N(u),l=u.type||o;else return navigator.msSaveBlob?navigator.msSaveBlob(N(u),g):ce(u);else if(/([\x80-\xff])/.test(u)){var I=0,P=new Uint8Array(u.length),$=P.length;for(I;I<$;++I)P[I]=u.charCodeAt(I);u=new v([P],{type:l})}p=u instanceof v?u:new v([u],{type:l});function N(R){var A=R.split(/[:;,]/),ke=A[1],V=A[2]=="base64"?atob:decodeURIComponent,ge=V(A.pop()),j=ge.length,K=0,he=new Uint8Array(j);for(K;K<j;++K)he[K]=ge.charCodeAt(K);return new v([he],{type:ke})}function ce(R,A){if("download"in h)return h.href=R,h.setAttribute("download",g),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),A===!0&&setTimeout(function(){r.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(R)&&(R="data:"+R.replace(/^data:([\w\/\-\+]+)/,o)),window.open(R)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=R),!0;var ke=document.createElement("iframe");document.body.appendChild(ke),!A&&/^data:/.test(R)&&(R="data:"+R.replace(/^data:([\w\/\-\+]+)/,o)),ke.src=R,setTimeout(function(){document.body.removeChild(ke)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(p,g);if(r.URL)ce(r.URL.createObjectURL(p),!0);else{if(typeof p=="string"||p.constructor===d)try{return ce("data:"+l+";base64,"+r.btoa(p))}catch{return ce("data:"+l+","+encodeURIComponent(p))}m=new FileReader,m.onload=function(R){ce(this.result)},m.readAsDataURL(p)}return!0}})})(Jt)),Jt.exports}var Bf=Hf();const $f=gi(Bf);function Vf(){return new DOMParser().parseFromString(`<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(-488.000000, -340.000000)" fill="#FFFFFF">
      <g id="Group-2">
        <g id="volme_big-copy" transform="translate(488.000000, 340.000000)">
          <rect id="Rectangle-18" x="11" y="4" width="2" height="12" rx="1"></rect>
          <rect id="Rectangle-2" x="3" y="18" width="18" height="2" rx="1"></rect>
          <rect id="Rectangle-2" transform="translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) " x="1.5" y="16.5" width="5" height="2" rx="1"></rect><rect id="Rectangle-2-Copy-3" transform="translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) " x="17.5" y="16.5" width="5" height="2" rx="1"></rect>
          <path d="M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z" id="Combined-Shape" transform="translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) "></path>
        </g>
      </g>
    </g>
  </g>
</svg>
`,"image/svg+xml").firstChild}var Uf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"download",function(i){if(!e.isLock){e.emitUserAction(i,"download");var r=e.playerConfig.url,o="";f.typeOf(r)==="String"?o=r:f.typeOf(r)==="Array"&&r.length>0&&(o=r[0].src);var l=e.getAbsoluteURL(o);$f(l),e.isLock=!0,e.timer=window.setTimeout(function(){e.isLock=!1,window.clearTimeout(e.timer),e.timer=null},300)}}),e.timer=null,e.isLock=!1,e}return z(n,[{key:"afterCreate",value:function(){ee(Q(n.prototype),"afterCreate",this).call(this),!this.config.disable&&(this.appendChild(".xgplayer-icon",this.icons.download),this._handler=this.hook("click",this.download,{pre:function(i){i.preventDefault(),i.stopPropagation()}}),this.bind(["click","touchend"],this._handler))}},{key:"registerIcons",value:function(){return{download:Vf}}},{key:"getAbsoluteURL",value:function(e){if(!e.match(/^https?:\/\//)){var i=document.createElement("div");i.innerHTML='<a href="'.concat(e,'">x</a>'),e=i.firstChild.href}return e}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return`<xg-icon class="xgplayer-download">
   <div class="xgplayer-icon">
   </div>
   `.concat(dt(this,"DOWNLOAD_TIPS",this.playerConfig.isHideTips),`
    </xg-icon>`)}}],[{key:"pluginName",get:function(){return"download"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:3,disable:!0}}}]),n})(Et),zf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"beforeCreate",value:function(e){typeof e.player.config.screenShot=="boolean"&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){ee(Q(n.prototype),"afterCreate",this).call(this),this.appendChild(".xgplayer-icon",this.icons.screenshotIcon);var e=this.config;this.initSize=function(i){e.fitVideo&&(e.width=i.vWidth,e.height=i.vHeight)},this.once(ct,this.initSize)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,i){var r=document.createElement("a");r.href=e,r.download=i;var o;try{typeof MouseEvent<"u"?o=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}):(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null))}catch(l){console.error("MouseEvent unsupported",l)}o&&r.dispatchEvent(o)}},{key:"createCanvas",value:function(e,i){var r=document.createElement("canvas"),o=r.getContext("2d");this.canvasCtx=o,this.canvas=r,r.width=e||this.config.width,r.height=i||this.config.height,o.imageSmoothingEnabled=!0,o.imageSmoothingEnabled&&(o.imageSmoothingQuality="high")}},{key:"onClickBtn",value:function(e){var i=this;e.preventDefault(),e.stopPropagation(),this.emitUserAction(e,"shot");var r=this.config;this.shot(r.width,r.height).then(function(o){i.emit(Wr,o),r.saveImg&&i.saveScreenShot(o,r.name+r.format)})}},{key:"shot",value:function(e,i){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{quality:.92,type:"image/png"},l=this.config,u=this.player,c=o.quality||l.quality,h=o.type||l.type;return new Promise(function(d,v){var g=null,p;if(u.media.canvas)g=u.media.canvas;else{r.canvas?(r.canvas.width=e||l.width,r.canvas.height=i||l.height):r.createCanvas(e,i),g=r.canvas,p=r.canvasCtx;var m=u.media.videoWidth/u.media.videoHeight,E=g.width/g.height,I=0,P=0,$=u.media.videoWidth,N=u.media.videoHeight,ce,R,A,ke;m>E?(A=g.width,ke=g.width/m,ce=0,R=Math.round((g.height-ke)/2)):m===E?(A=g.width,ke=g.height,ce=0,R=0):m<E&&(A=g.height*m,ke=g.height,ce=Math.round((g.width-A)/2),R=0),p.drawImage(u.media,I,P,$,N,ce,R,A,ke)}var V=g.toDataURL(h,c).replace(h,"image/octet-stream");V=V.replace(/^data:image\/[^;]+/,"data:application/octet-stream"),d(V)})}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this),this.unbind(["click","touchend"],this.onClickBtn),this.off(ct,this.initSize)}},{key:"render",value:function(){if(!this.config.disable){var e=this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text",i="SCREENSHOT";return`
      <xg-icon class="xgplayer-shot">
      <div class="`.concat(e,`">
      `).concat(this.icons.screenshotIcon?"":'<span lang-key="'.concat(this.i18nKeys[i],'">').concat(this.i18n[i],"</span>"),`
      </div>
    </xg-icon>`)}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,saveImg:!0,fitVideo:!0,disable:!1,name:"screenshot"}}}]),n})(Et),jf=(function(){function a(s){U(this,a),this.config=s.config,this.parent=s.root,this.root=f.createDom("ul","",{},"xg-options-list xg-list-slide-scroll ".concat(this.config.className)),s.root.appendChild(this.root);var n=this.config.maxHeight;n&&this.setStyle({maxHeight:n}),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var t=this.config.domEventType==="touch"?"touchend":"click";this._delegates=pe.delegate.call(this,this.root,"li",t,this.onItemClick)}return z(a,[{key:"renderItemList",value:function(n){var t=this,e=this.config,i=this.root;n?e.data=n:n=e.data,e.style&&Object.keys(e.style).map(function(r){i.style[r]=e[r]}),n.length>0&&(this.attrKeys=Object.keys(n[0])),this.root.innerHTML="",n.map(function(r,o){var l=r.selected?"option-item selected":"option-item";r["data-index"]=o,t.root.appendChild(f.createDom("li","<span>".concat(r.showText,"</span>"),r,l))})}},{key:"onItemClick",value:function(n){n.delegateTarget||(n.delegateTarget=n.target);var t=n.delegateTarget;if(t&&f.hasClass(t,"selected"))return!1;var e=typeof this.config.onItemClick=="function"?this.config.onItemClick:null,i=this.root.querySelector(".selected");f.addClass(t,"selected"),i&&f.removeClass(i,"selected"),e(n,{from:i?this.getAttrObj(i,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(n,t){if(!n||!t)return{};var e={};t.map(function(r){e[r]=n.getAttribute(r)});var i=n.getAttribute("data-index");return i&&(e.index=Number(i)),e}},{key:"show",value:function(){f.removeClass(this.root,"hide"),f.addClass(this.root,"active")}},{key:"hide",value:function(){f.removeClass(this.root,"active"),f.addClass(this.root,"hide")}},{key:"setStyle",value:function(n){var t=this;Object.keys(n).forEach(function(e){t.root.style[e]=n[e]})}},{key:"destroy",value:function(){this._delegates&&(this._delegates.map(function(n){n.destroy&&n.destroy()}),this._delegates=null),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),a})(),Ke={SIDE:"side",MIDDLE:"middle",DEFAULT:"default"},It={CLICK:"click",HOVER:"hover"};function Wf(a,s){return a===Ke.SIDE?s===Ce.CONTROLS_LEFT?"xg-side-list xg-left-side":"xg-side-list xg-right-side":""}var vt=re.device==="mobile",ui=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"onEnter",function(i){i.stopPropagation(),e.emit("icon_mouseenter",{pluginName:e.pluginName}),e.switchActiveState(i)}),S(C(e),"switchActiveState",function(i){i.stopPropagation();var r=e.config.toggleMode;r===It.CLICK?e.toggle(!e.isActive):e.toggle(!0)}),S(C(e),"onLeave",function(i){i.stopPropagation(),e.emit("icon_mouseleave",{pluginName:e.pluginName}),e.config.listType!==Ke.SIDE&&e.isActive&&e.toggle(!1)}),S(C(e),"onListEnter",function(i){e.enterType=2}),S(C(e),"onListLeave",function(i){e.enterType=0,e.isActive&&e.toggle(!1)}),e.isIcons=!1,e.isActive=!1,e.curValue=null,e.curIndex=0,e}return z(n,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,i=this.config;this.initIcons(),vt=vt||this.domEventType==="touch",vt&&re.device==="mobile"&&i.listType===Ke.DEFAULT&&(i.listType=Ke.SIDE),i.hidePortrait&&f.addClass(this.root,"portrait"),this.on([ct,Je],function(){e._resizeList()}),this.once(Qe,function(){i.list&&i.list.length>0&&(e.renderItemList(i.list),e.show())}),vt&&this.on(pn,function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),vt?(i.toggleMode=It.CLICK,this.activeEvent="touchend"):this.activeEvent=i.toggleMode===It.CLICK?"click":"mouseenter",i.toggleMode===It.CLICK?this.bind(this.activeEvent,this.switchActiveState):(this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)),this.isIcons&&this.bind("click",this.onIconClick)}},{key:"initIcons",value:function(){var e=this,i=this.icons,r=Object.keys(i),o=!1;r.length>0&&(r.forEach(function(l){e.appendChild(".xgplayer-icon",i[l]),!o&&(o=i[l])}),this.isIcons=o),!o&&(this.appendChild(".xgplayer-icon",f.createDom("span","",{},"icon-text")),f.addClass(this.find(".xgplayer-icon"),"btn-text"))}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||f.addClass(this.root,"show")}},{key:"hide",value:function(){f.removeClass(this.root,"show")}},{key:"getTextByLang",value:function(e,i,r){if(e===void 0)return"";var o=this.config.list;!r&&(r=this.player.lang),i=!i||f.isUndefined(e[i])?"text":i,typeof e=="number"&&(e=o[e]);try{return Re(e[i])==="object"?e[i][r]||e[i].en:e[i]}catch(l){return console.warn(l),""}}},{key:"toggle",value:function(e){if(!(e===this.isActive||this.config.disable)){var i=this.player.controls,r=this.config.listType;e?(r===Ke.SIDE?i.blur():i.focus(),this.optionsList&&this.optionsList.show()):(r===Ke.SIDE?i.focus():i.focusAwhile(),this.optionsList&&this.optionsList.hide()),this.isActive=e}}},{key:"onItemClick",value:function(e,i){e.stopPropagation();var r=this.config,o=r.listType,l=r.list;this.curIndex=i.to.index,this.curItem=l[this.curIndex],this.changeCurrentText();var u=this.config.isItemClickHide;(u||vt||o===Ke.SIDE)&&this.toggle(!1)}},{key:"onIconClick",value:function(e){}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,i=this.curIndex<e.length?this.curIndex:0,r=e[i];r&&(this.find(".icon-text").innerHTML=this.getTextByLang(r,"iconText"))}}},{key:"renderItemList",value:function(e,i){var r=this,o=this.config,l=this.optionsList,u=this.player;if(typeof i=="number"&&(this.curIndex=i,this.curItem=o.list[i]),l){l.renderItemList(e),this.changeCurrentText();return}var c={config:{data:e||[],className:Wf(o.listType,o.position),onItemClick:function(p,m){r.onItemClick(p,m)},domEventType:vt?"touch":"mouse"},root:o.listType===Ke.SIDE?u.innerContainer||u.root:this.root};if(this.config.isShowIcon){var h=this.player.root.getBoundingClientRect(),d=h.height,v=o.listType===Ke.MIDDLE?d-50:d;v&&o.heightLimit&&(c.config.maxHeight="".concat(v,"px")),this.optionsList=new jf(c),this.changeCurrentText(),this.show()}this._resizeList()}},{key:"_resizeList",value:function(){if(this.config.heightLimit){var e=this.player.root.getBoundingClientRect(),i=e.height,r=this.config.listType===Ke.MIDDLE?i-50:i;this.optionsList&&this.optionsList.setStyle({maxHeight:"".concat(r,"px")})}}},{key:"destroy",value:function(){var e=this.config;e.toggleMode===It.CLICK?this.unbind(this.activeEvent,this.switchActiveState):(this.unbind(this.activeEvent,this.onEnter),this.unbind("mouseleave",this.onLeave)),this.isIcons&&this.unbind("click",this.onIconClick),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){if(this.config.isShowIcon)return'<xg-icon class="xg-options-icon '.concat(this.config.className||"",`">
    <div class="xgplayer-icon">
    </div>
   </xg-icon>`)}}],[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:Ce.CONTROLS_RIGHT,index:100,list:[],listType:"default",listStyle:{},hidePortrait:!0,isShowIcon:!1,isItemClickHide:!0,toggleMode:It.HOVER,heightLimit:!0}}}]),n})(pe),Gf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),e.curTime=0,e.isPaused=!0,e}return z(n,[{key:"beforeCreate",value:function(e){var i=e.config.list;Array.isArray(i)&&i.length>0&&(e.config.list=i.map(function(r){return!r.text&&r.name&&(r.text=r.name),r.text||(r.text=r.definition),r}))}},{key:"afterCreate",value:function(){var e=this;ee(Q(n.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(i){e.changeDefinitionList(i)}),this.on(kn,function(i){e.renderItemList(e.config.list,i.to)}),this.player.definitionList.length<2&&this.hide()}},{key:"show",value:function(e){!this.config.list||this.config.list.length<2||f.addClass(this.root,"show")}},{key:"initDefinition",value:function(){var e=this.config,i=e.list,r=e.defaultDefinition;if(i.length>0){var o=null;i.map(function(l){l.definition===r&&(o=l)}),o||(o=i[0]),this.changeDefinition(o)}}},{key:"renderItemList",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.config.list||[],r=arguments.length>1?arguments[1]:void 0,o=r&&r.definition?r.definition:this.config.defaultDefinition;r&&i.forEach(function(c){c.selected=!1});var l=0,u=i.map(function(c,h){var d=Ee(Ee({},c),{},{showText:e.getTextByLang(c)||c.definition,selected:!1});return(c.selected||c.definition&&c.definition==o)&&(d.selected=!0,l=h),d});ee(Q(n.prototype),"renderItemList",this).call(this,u,l)}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map(function(i){return!i.text&&i.name&&(i.text=i.name),i.text||(i.text=i.definition),i}),this.renderItemList(),this.config.list.length<2?this.hide():this.show())}},{key:"changeDefinition",value:function(e,i){this.player.changeDefinition(e,i)}},{key:"onItemClick",value:function(e,i){var r=this.player.definitionList;ee(Q(n.prototype),"onItemClick",this).apply(this,arguments),this.emitUserAction(e,"change_definition",{from:i.from,to:i.to});for(var o=0;o<r.length;o++)i.to&&r[o].definition===i.to.definition&&(i.to.url=r[o].url),i.from&&r[o].definition===i.from.definition&&(i.from.url=r[o].url);this.player.changeDefinition(i.to,i.from)}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return Ee(Ee({},ui.defaultConfig),{},{position:Ce.CONTROLS_RIGHT,index:3,list:[],defaultDefinition:"",disable:!1,hidePortrait:!1,className:"xgplayer-definition",isShowIcon:!0})}}]),n})(ui),Kf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),e.curRate=1,e}return z(n,[{key:"beforeCreate",value:function(e){var i=e.player.config.playbackRate,r=i?Array.isArray(i)?i:e.config.list:[];Array.isArray(r)&&(e.config.list=r.map(function(o){return typeof o=="number"?o={rate:o,text:"".concat(o,"x")}:!o.text&&o.rate&&(o.text="".concat(o.rate,"x")),o}))}},{key:"afterCreate",value:function(){var e=this;ee(Q(n.prototype),"afterCreate",this).call(this),this.on(Fr,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()}),this.renderItemList()}},{key:"show",value:function(e){!this.config.list||this.config.list.length===0||ee(Q(n.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,i){ee(Q(n.prototype),"onItemClick",this).call(this,e,i);var r=e.delegateTarget,o=Number(r.getAttribute("rate"));if(!o||o===this.curValue)return!1;var l={playbackRate:{from:this.player.playbackRate,to:o}};this.emitUserAction(e,"change_rate",{props:l}),this.curValue=o,this.player.playbackRate=o}},{key:"renderItemList",value:function(){var e=this,i=this.player.playbackRate||1;this.curValue=i;var r=-1,o=this.config.list.map(function(l,u){var c={rate:l.rate};return c.rate===i&&(c.selected=!0,r=u),c.showText=e.getTextByLang(l),c});ee(Q(n.prototype),"renderItemList",this).call(this,o,r)}},{key:"changeCurrentText",value:function(){if(!this.isIcons){var e=this.config.list,i=this.curIndex<e.length?this.curIndex:0,r=e[i],o="";!r||this.curIndex<0?o="".concat(this.player.playbackRate,"x"):o=this.getTextByLang(r,"iconText"),this.find(".icon-text").innerHTML=o}}},{key:"destroy",value:function(){ee(Q(n.prototype),"destroy",this).call(this)}}],[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return Ee(Ee({},ui.defaultConfig),{},{position:Ce.CONTROLS_RIGHT,index:4,list:[2,1.5,1,.75,.5],className:"xgplayer-playbackrate",isShowIcon:!0,hidePortrait:!1})}}]),n})(ui),Yf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"afterCreate",value:function(){var e=this;this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(r){r.preventDefault(),r.stopPropagation()}}),this.onError=this.hook("showError",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(zt,function(i){e.onError(i)})}},{key:"errorRetry",value:function(e){this.emitUserAction(e,"error_retry",{}),this.player.retry()}},{key:"handleError",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.player,r=e.errorType,o=i.errorNote?this.i18n[i.errorNote]:"";if(!o)switch(r){case"decoder":o=this.i18n.MEDIA_ERR_DECODE;break;case"network":o=this.i18n.MEDIA_ERR_NETWORK;break;default:o=this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED}this.find(".xgplayer-error-text").innerHTML=o,this.find(".xgplayer-error-tips").innerHTML="".concat(this.i18n.REFRESH_TIPS,'<span class="xgplayer-error-refresh">').concat(this.i18n.REFRESH,"</span>")}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return`<xg-error class="xgplayer-error">
      <div class="xgplayer-errornote">
       <span class="xgplayer-error-text"></span>
       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>
      </div>
    </xg-error>`}}],[{key:"pluginName",get:function(){return"error"}}]),n})(pe),Xf=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"afterCreate",value:function(){var e=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(i){(e.config.onClick||e.customOnClick)&&(i.preventDefault(),i.stopPropagation(),e.customOnClick?e.customOnClick(i):e.config.onClick(i))}),this.player.showPrompt=function(){e.showPrompt.apply(e,arguments)},this.player.hidePrompt=function(){e.hide()}}},{key:"setStyle",value:function(e){var i=this;Object.keys(e).map(function(r){i.root.style[r]=e[r]})}},{key:"showPrompt",value:function(e){var i=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};if(e){this.customOnClick=o;var l=this.config.interval;this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),f.addClass(this.root,"show"),r.mode==="arrow"&&f.addClass(this.root,"arrow"),typeof e=="string"?this.find(".xgplayer-prompt-detail").innerHTML=e:this.find(".xgplayer-prompt-detail").innerHTML="".concat(e.text||"")+"".concat(e.highlight?'<i class="highlight">'.concat(e.highlight,"</i>"):""),r.style&&this.setStyle(r.style);var u=typeof r.autoHide=="boolean"?r.autoHide:this.config.autoHide;if(u){var c=r.interval||l;this.intervalId=setTimeout(function(){i.hide()},c)}}}},{key:"hide",value:function(){f.removeClass(this.root,"show"),f.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '.concat(M.CONTROLS_FOLLOW,`">
    <span class="xgplayer-prompt-detail"></span>
    </xg-prompt>`)}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),n})(pe),fr={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function cs(a){Object.keys(fr).map(function(s){a[s]===void 0&&(a[s]=fr[s])})}var dr={_updateDotDom:function(s,n){if(n){var t=this.calcuPosition(s.time,s.duration),e=s.style||{};e.left="".concat(t.left,"%"),e.width="".concat(t.width,"%"),n.setAttribute("data-text",s.text),n.setAttribute("data-time",s.time),t.isMini?f.addClass(n,"mini"):f.removeClass(n,"mini"),Object.keys(e).map(function(i){n.style[i]=e[i]})}},initDots:function(){var s=this;this._ispots.map(function(n){s.createDot(n,!1)}),this.ispotsInit=!0},createDot:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.player.plugins.progress;if(t&&(n&&(cs(s),this._ispots.push(s)),!(!this.ispotsInit&&n))){var e=this.calcuPosition(s.time,s.duration),i=s.style||{};i.left="".concat(e.left,"%"),i.width="".concat(e.width,"%");var r="xgspot_".concat(s.id," xgplayer-spot");e.isMini&&(r+=" mini");var o=s.template?'<div class="xgplayer-spot-pop">'.concat(s.template,"</div>"):"",l=f.createDom("xg-spot",o,{"data-text":s.text,"data-time":s.time,"data-id":s.id},r);Object.keys(i).map(function(u){l.style[u]=i[u]}),t.outer&&t.outer.appendChild(l),this.positionDot(l,s.id)}},findDot:function(s){if(this.player.plugins.progress){var n=this._ispots.filter(function(t,e){return t.id===s});return n.length>0?n[0]:null}},updateDot:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=this.player.plugins.progress;if(t){var e=this.findDot(s.id);if(e&&Object.keys(s).map(function(r){e[r]=s[r]}),!!this.ispotsInit){var i=t.find('xg-spot[data-id="'.concat(s.id,'"]'));i&&(this._updateDotDom(s,i),n&&this.showDot(s.id))}}},deleteDot:function(s){var n=this._ispots,t=this.player.plugins.progress;if(t){for(var e=[],i=0;i<n.length;i++)n[i].id===s&&e.push(i);for(var r=e.length,o=r-1;o>=0;o--)if(n.splice(e[o],1),this.ispotsInit){var l=t.find('xg-spot[data-id="'.concat(s,'"]'));l&&l.parentElement.removeChild(l)}}},deleteAllDots:function(){var s=this.player.plugins.progress;if(s){if(!this.ispotsInit){this._ispots=[];return}for(var n=s.root.getElementsByTagName("xg-spot"),t=n.length-1;t>=0;t--)s.outer.removeChild(n[t]);this._ispots=[]}},updateAllDots:function(){var s=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.player.plugins.progress;if(t){if(!this.ispotsInit){this._ispots=n;return}this._ispots=[];var e=t.root.getElementsByTagName("xg-spot"),i=e.length;if(i>n.length)for(var r=i-1;r>n.length-1;r--)t.outer.removeChild(e[r]);n.forEach(function(o,l){l<i?(e[l].setAttribute("data-id","".concat(o.id)),s._ispots.push(o),s.updateDot(o)):s.createDot(o)})}},positionDots:function(){var s=this,n=this._ispots,t=this.playerSize,e=this.player.sizeInfo,i=this.player.plugins.progress;!i||e.width===t.width||(t.width=e.width,t.left=e.left,n.forEach(function(r){var o=i.find('xg-spot[data-id="'.concat(r.id,'"]'));o&&s.positionDot(o,r.id)}))},positionDot:function(s,n){var t=f.findDom(s,".xgplayer-spot-pop");if(t){var e=this.playerSize,i=s.getBoundingClientRect(),r=t.getBoundingClientRect(),o=i.left-e.left,l=e.width-o-i.width/2;if(o<r.width/2||e.width<r.width){var u=r.width/2-o;t.style.left="".concat(u,"px")}else if(l<r.width/2){var c=l-r.width/2+i.width/2;t.style.left="".concat(c,"px")}else t.style.left="50%"}},updateDuration:function(){var s=this,n=this.player.plugins.progress;if(n){var t=this._ispots;t.forEach(function(e){var i=n.find('xg-spot[data-id="'.concat(e.id,'"]'));s._updateDotDom(e,i)})}},getAllDotsDom:function(){var s=this.player.plugins.progress;if(!s)return[];var n=s.root.getElementsByTagName("xg-spot");return n},getDotDom:function(s){var n=this.player.plugins.progress;if(n)return n.find('xg-spot[data-id="'.concat(s,'"]'))}};function qf(a){var s=a.config,n=a.player;Object.keys(dr).map(function(e){a[e]=dr[e].bind(a)});var t=n.config.progressDot||s.ispots||[];a._ispots=t.map(function(e){return cs(e),e}),a.ispotsInit=!1,a.playerSize={left:n.sizeInfo.left,width:n.sizeInfo.width},a.on(rt,function(){a.ispotsInit?a.updateDuration():a.initDots()}),a.on(ct,function(){a.positionDots()})}var Lt={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd",click:"onProgressClick",mouseover:"onProgressMouseOver",mouseenter:"onProgressMouseOver"},Zf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),S(C(e),"onMousemove",function(i){if(!e.config.disable){if(f.hasClass(i.target,"xg-spot-content")&&e.config.isHideThumbnailHover){e.player.plugins.progress.onMouseLeave(i);return}(e._state.f||f.hasClass(i.target,"xg-spot-content"))&&(f.event(i),i.stopPropagation())}}),S(C(e),"onMousedown",function(i){e.config.disable||(e._state.f||f.hasClass(i.target,"xg-spot-content"))&&(f.event(i),i.stopPropagation())}),S(C(e),"onMouseup",function(i){if(e.isDrag){var r=e.player.plugins.progress;r&&r.pos&&(r.onMouseUp(i),!r.pos.isEnter&&r.onMouseLeave(i))}}),S(C(e),"onDotMouseLeave",function(i){if(!e.config.disable){e._curDot.removeEventListener("mouseleave",e.onDotMouseLeave),e.blurDot(i.target),e._curDot=null;var r=e.player.plugins.progress;r&&r.enableBlur(),e.show()}}),S(C(e),"onProgressMouseOver",function(i,r){if(!e.config.disable&&f.hasClass(r.target,"xgplayer-spot")&&!e._curDot){e._curDot=r.target,e.focusDot(r.target),e._curDot.children.length>0&&e.hide();var o=e.player.plugins.progress;o&&o.disableBlur(),e._curDot.addEventListener("mouseleave",e.onDotMouseLeave)}}),e._ispots=[],e.videoPreview=null,e.videothumbnail=null,e.thumbnail=null,e.timeStr="",e._state={now:0,f:!1},e}return z(n,[{key:"beforeCreate",value:function(e){var i=e.player.plugins.progress;i&&(e.root=i.root)}},{key:"afterCreate",value:function(){var e=this;this._curDot=null,this.handlerSpotClick=this.hook("spotClick",function(i,r){r.seekTime&&e.player.seek(r.seekTime)}),this.transformTimeHook=this.hook("transformTime",function(i){e.setTimeContent(f.format(i))}),qf(this),this.on(rt,function(){e.show()}),this.config.disable&&this.disable(),this.extTextRoot=this.find(".xg-spot-ext-text")}},{key:"setConfig",value:function(e){var i=this;e&&Object.keys(e).map(function(r){i.config[r]=e[r]})}},{key:"onPluginsReady",value:function(){var e=this.player;e.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this._hasThumnail=!1,this.registerThumbnail(),this.bindEvents())}},{key:"bindEvents",value:function(){var e=this,i=this.player.plugins.progress;if(i&&(Object.keys(Lt).map(function(o){e[Lt[o]]=e[Lt[o]].bind(e),i.addCallBack(o,e[Lt[o]])}),re.device!=="mobile")){this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),this.bind(".xg-spot-info","mouseup",this.onMouseup);var r=this.hook("previewClick",function(){});this.handlerPreviewClick=function(o){o.stopPropagation(),r(parseInt(e._state.now*1e3,10)/1e3,o),i&&i.onMouseUp(o)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick)}}},{key:"onProgressMove",value:function(e,i){this.config.disable||!this.player.duration||this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!0,this.videoPreview&&f.addClass(this.videoPreview,"show"))}},{key:"onProgressDragEnd",value:function(e){this.config.disable||!this.player.duration||(this.isDrag=!1,this.videoPreview&&f.removeClass(this.videoPreview,"show"))}},{key:"onProgressClick",value:function(e,i){this.config.disable||f.hasClass(i.target,"xgplayer-spot")&&(i.stopPropagation(),i.preventDefault(),["time","id","text"].map(function(r){e[r]=i.target.getAttribute("data-".concat(r))}),e.time&&(e.time=Number(e.time)),this.handlerSpotClick(i,e))}},{key:"updateLinePos",value:function(e,i){var r=this.root,o=this.previewLine,l=this.player,u=this.config,c=l.controls.mode,h=c==="flex",d=r.getBoundingClientRect().width;if(!(!d&&this._hasThumnail)){d=this._hasThumnail&&d<u.width?u.width:d;var v=e-d/2,g;v<0&&!h?(v=0,g=e-d/2):v>i-d&&!h?(g=v-(i-d),v=i-d):g=0,g!==void 0&&(o.style.transform="translateX(".concat(g.toFixed(2),"px)")),r.style.transform="translateX(".concat(v.toFixed(2),"px) translateZ(0)")}}},{key:"updateTimeText",value:function(e){var i=this.timeText,r=this.timePoint;i.innerHTML=e,!this.thumbnail&&(r.innerHTML=e)}},{key:"updatePosition",value:function(e,i,r,o){var l=this.root,u=this.config,c=this._state;if(l){c.now=r,this.transformTimeHook(r);var h=this.timeStr;o&&o.target&&f.hasClass(o.target,"xgplayer-spot")?(this.showTips(o.target.getAttribute("data-text"),!1,h),this.focusDot(o.target),c.f=!0,u.isFocusDots&&c.f&&(c.now=parseInt(o.target.getAttribute("data-time"),10))):u.defaultText?(c.f=!1,this.showTips(u.defaultText,!0,h)):(c.f=!1,this.hideTips("")),this.updateTimeText(h),this.updateThumbnails(c.now),this.updateLinePos(e,i)}}},{key:"setTimeContent",value:function(e){this.timeStr=e}},{key:"updateThumbnails",value:function(e){var i=this.player,r=this.videoPreview,o=this.config,l=i.plugins.thumbnail;if(l&&l.usable){this.thumbnail&&l.update(this.thumbnail,e,o.width,o.height);var u=r&&r.getBoundingClientRect();this.videothumbnail&&l.update(this.videothumbnail,e,u.width,u.height)}}},{key:"registerThumbnail",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(re.device!=="mobile"){var i=this.player,r=this.config,o=i.getPlugin("thumbnail");if(o&&o.setConfig(e),!o||!o.usable||!r.isShowThumbnail){f.addClass(this.root,"short-line no-thumbnail");return}else f.removeClass(this.root,"short-line no-thumbnail");r.mode==="short"&&f.addClass(this.root,"short-line"),this._hasThumnail=!0;var l=this.find(".xg-spot-thumbnail");this.thumbnail=o.createThumbnail(l,"progress-thumbnail"),r.isShowCoverPreview&&(this.videoPreview=f.createDom("xg-video-preview","",{},"xgvideo-preview"),i.root.appendChild(this.videoPreview),this.videothumbnail=o.createThumbnail(this.videoPreview,"xgvideo-thumbnail")),this.updateThumbnails(0)}}},{key:"calcuPosition",value:function(e,i){var r=this.player.plugins.progress,o=this.player,l=r.root.getBoundingClientRect().width,u=o.duration/l*6;return e+i>o.duration&&(i=o.duration-e),e/o.duration*100,i/o.duration,{left:e/o.duration*100,width:i/o.duration*100,isMini:i<u}}},{key:"showDot",value:function(e){var i=this.findDot(e);if(i){var r=this.root.getBoundingClientRect(),o=r.width,l=i.time/this.player.duration*o;this.updatePosition(l,o,i.time)}}},{key:"focusDot",value:function(e,i){e&&(i||(i=e.getAttribute("data-id")),f.addClass(e,"active"),this._activeDotId=i)}},{key:"blurDot",value:function(e){if(!e){var i=this._activeDotId;e=this.getDotDom(i)}e&&(f.removeClass(e,"active"),this._activeDotId=null)}},{key:"showTips",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";f.addClass(this.root,"no-timepoint"),e&&(f.addClass(this.find(".xg-spot-content"),"show-text"),i&&this.config.mode==="production"?(f.addClass(this.root,"product"),this.tipText.textContent=e):(f.removeClass(this.root,"product"),this.tipText.textContent=this._hasThumnail?e:"".concat(r," ").concat(e)))}},{key:"hideTips",value:function(){f.removeClass(this.root,"no-timepoint"),this.tipText.textContent="",f.removeClass(this.find(".xg-spot-content"),"show-text"),f.removeClass(this.root,"product")}},{key:"hide",value:function(){f.addClass(this.root,"hide")}},{key:"show",value:function(e){f.removeClass(this.root,"hide")}},{key:"enable",value:function(){var e=this.config,i=this.playerConfig;this.config.disable=!1,this.show(),!this.thumbnail&&e.isShowThumbnail&&this.registerThumbnail(i.thumbnail||{})}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){var e=this,i=this.player.plugins.progress;i&&Object.keys(Lt).map(function(r){i.removeCallBack(r,e[Lt[r]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-info","mouseup",this.onMouseup),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return re.device==="mobile"||this.playerConfig.isMobileSimulateMode==="mobile"?"":'<div class="xg-spot-info hide '.concat(this.config.mode==="short"?"short-line":"",`">
      <div class="xg-spot-content">
        <div class="xg-spot-thumbnail">
          <span class="xg-spot-time"></span>
        </div>
        <div class="xg-spot-text"><span class="spot-inner-text"></span></div>
      </div>
      <div class="xgplayer-progress-point">00:00</div>
      <div class="xg-spot-ext-text"></div>
      <div class="xg-spot-line"></div>
    </div>`)}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isHideThumbnailHover:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:"",disable:!1,width:160,height:90}}}]),n})(pe),Jf=(function(a){q(n,a);var s=Z(n);function n(t){var e;return U(this,n),e=s.call(this,t),e.ratio=1,e.interval=null,e._preloadMark={},e}return z(n,[{key:"afterCreate",value:function(){var e=this;this.usable&&this.initThumbnail(),this.on([rt],function(){var i=e.config,r=i.pic_num,o=i.interval;e.usable&&(e.interval=o>0?o:Math.round(e.player.duration*1e3/r)/1e3)})}},{key:"setConfig",value:function(e){var i=this;if(e){var r=Object.keys(e);r.length<1||(r.forEach(function(o){i.config[o]=e[o]}),this.usable&&this.initThumbnail())}}},{key:"usable",get:function(){var e=this.config,i=e.urls,r=e.pic_num;return i&&i.length>0&&r>0}},{key:"initThumbnail",value:function(){var e=this.config,i=e.width,r=e.height,o=e.pic_num,l=e.interval;this.ratio=i/r*100,this.interval=l||Math.round(this.player.duration/o),this._preloadMark={}}},{key:"getUrlByIndex",value:function(e){return e>=0&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var i=this;if(!this._preloadMark[e]){var r=this.config.urls,o=r.length,l=[];e>0&&l.push(e-1),l.push(e),e>0&&e<o-1&&l.push(e+1),l.map(function(u){!i._preloadMark[u]&&u>=0&&u<o&&(i._preloadMark[u]=1,f.preloadImg(r[u],function(){i._preloadMark[u]=2}))})}}},{key:"getPosition",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.config,l=o.pic_num,u=o.row,c=o.col,h=o.width,d=o.height;this.interval=Math.round(this.player.duration/l);var v=Math.ceil(e/this.interval);v=v>l?l:v;var g=v<u*c?0:Math.ceil(v/(u*c))-1,p=v-g*(c*u),m=p>0?Math.ceil(p/c)-1:0,E=p>0?p-m*c-1:0,I=0,P=0;if(i&&r){var $=i/r;$<h/d?(P=r,I=P*(h/d)):(I=i,P=I/(h/d))}else r?i||(P=r||d,I=P*(h/d)):(I=i||h,P=I/(h/d));var N=this.getUrlByIndex(g);return{urlIndex:g,rowIndex:m,colIndex:E,url:N,height:P,width:I,style:{backgroundImage:"url(".concat(N,")"),backgroundSize:"".concat(I*c,"px auto"),backgroundPosition:"-".concat(E*I,"px -").concat(m*P,"px"),width:"".concat(I,"px"),height:"".concat(P,"px")}}}},{key:"update",value:function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",u=this.config,c=u.pic_num,h=u.urls;if(!(c<=0||!h||h.length===0)){var d=this.getPosition(i,r,o);this.preload(d.urlIndex),Object.keys(d.style).map(function(v){e.style[v]=d.style[v]}),Object.keys(l).map(function(v){e.style[v]=l[v]})}}},{key:"changeConfig",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.setConfig(e)}},{key:"createThumbnail",value:function(e,i){var r=f.createDom("xg-thumbnail","",{},"thumbnail ".concat(i));return e&&e.appendChild(r),r}}],[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),n})(pe);function Bi(a){return a?"background:".concat(a,";"):""}var Qf=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onTimeupdate",function(){var o=t.player.ended,l=C(t),u=l.offsetDuration,c=t.currentTime;c=f.adjustTimeByDuration(c,u,o),t.update({played:c},u)}),t}return z(n,[{key:"offsetDuration",get:function(){return this.playerConfig.customDuration||this.player.offsetDuration||this.player.duration}},{key:"currentTime",get:function(){var e=this.player,i=e.offsetCurrentTime,r=e.currentTime;return i>=0?i:r}},{key:"afterCreate",value:function(){var e=this;this.root&&(this.on(Ve,this.onTimeupdate),this.on(wt,function(){e.reset()}))}},{key:"reset",value:function(){this.update({played:0,cached:0},0)}},{key:"update",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cached:0,played:0},i=arguments.length>1?arguments[1]:void 0;!i||!this.root||(e.cached&&(this.find("xg-mini-progress-cache").style.width="".concat(e.cached/i*100,"%")),e.played&&(this.find("xg-mini-progress-played").style.width="".concat(e.played/i*100,"%")))}},{key:"render",value:function(){var e=this.playerConfig,i=e.commonStyle,r=e.miniprogress;if(r){var o=this.config,l=o.mode,u=o.height,c={cached:Bi(i.cachedColor),played:Bi(i.playedColor),progress:Bi(i.progressColor),height:u>0&&u!==2?"height: ".concat(u,"px;"):""},h=l==="show"?"xg-mini-progress-show":"";return'<xg-mini-progress class="xg-mini-progress '.concat(h,'" style="').concat(c.progress," ").concat(c.height,`">
    <xg-mini-progress-cache class="xg-mini-progress-cache" style="`).concat(c.cached,`"></xg-mini-progress-cache>
    <xg-mini-progress-played class="xg-mini-progress-played" style="`).concat(c.played,`"></xg-mini-progress-played>
    </xg-mini-progress>`)}}}],[{key:"pluginName",get:function(){return"MiniProgress"}},{key:"defaultConfig",get:function(){return{mode:"auto",height:2}}}]),n})(pe),At={REAL_TIME:"realtime",FIRST_FRAME:"firstframe",POSTER:"poster"};function ed(){try{return parseInt(window.performance.now(),10)}catch{return new Date().getTime()}}function td(){try{var a=document.createElement("canvas").getContext;return!!a}catch{return!1}}var Yt=null,id=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onLoadedData",function(o){t.player&&(t._frameCount=t.config.startFrameCount,t.stop(),t.renderOnTimeupdate(o),t.off(Ve,t.renderOnTimeupdate),t.on(Ve,t.renderOnTimeupdate))}),S(C(t),"onVisibilitychange",function(o){document.visibilityState==="visible"?t._checkIfCanStart()&&t.start():document.visibilityState==="hidden"&&t.stop()}),S(C(t),"renderOnTimeupdate",function(o){if(t._frameCount>0)t.renderOnce(),t._frameCount--;else{t._isLoaded=!0,t.off(Ve,t.renderOnTimeupdate);var l=t.config.startInterval;!t.player.paused&&t._checkIfCanStart()&&t.start(0,l)}}),S(C(t),"start",function(o,l){var u=t.player.video,c=ed(),h=t.checkVideoIsSupport(u);!h||!t.canvasCtx||(l||(l=t.interval),t.stop(),u.videoWidth&&u.videoHeight&&(t.videoPI=u.videoHeight>0?parseInt(u.videoWidth/u.videoHeight*100,10):0,(t.config.mode===At.REAL_TIME||c-t.preTime>=l)&&(u&&u.videoWidth&&t.update(h,t.videoPI),t.preTime=c)),t.frameId=t._loopType==="timer"?f.setTimeout(C(t),t.start,l):f.requestAnimationFrame(t.start))}),S(C(t),"stop",function(){t.frameId&&(t._loopType==="timer"?f.clearTimeout(C(t),t.frameId):f.cancelAnimationFrame(t.frameId),t.frameId=null)}),t}return z(n,[{key:"afterCreate",value:function(){var e=this;this.playerConfig.dynamicBg===!0&&(this.config.disable=!1),n.isSupport||(this.config.disable=!0);var i=this.config,r=i.disable,o=i.mode,l=i.frameRate;r||(this._pos={width:0,height:0,rwidth:0,rheight:0,x:0,y:0,pi:0},this.isStart=!1,this._isLoaded=!1,this.videoPI=0,this.preTime=0,this.interval=parseInt(1e3/l,10),this.canvas=null,this.canvasCtx=null,this._frameCount=0,this._loopType=this.config.mode!==At.REAL_TIME&&this.interval>=1e3?"timer":"animation",this.once(mi,function(){e.player&&(e.init(),e.renderByPoster(),e.player.paused||e.start())}),o!==At.POSTER&&(o!==At.FIRST_FRAME&&(this.on(wt,function(){e.stop()}),this.on(Ue,function(){var u=e.config.startInterval;e._checkIfCanStart()&&e.start(0,u)}),this.on(Rt,function(){e.stop()})),this.on(it,this.onLoadedData),this.on(vn,function(){e._isLoaded=!1,e.stop()}),document.addEventListener("visibilitychange",this.onVisibilitychange)))}},{key:"setConfig",value:function(e){var i=this;Object.keys(e).forEach(function(r){r==="root"&&e[r]!==i.config[r]?i.reRender(e[r]):r==="frameRate"?i.interval=parseInt(1e3/e[r],10):r==="disable"&&e[r]&&i.stop(),i.config[r]=e[r]})}},{key:"init",value:function(e){var i=this.player,r=this.config;this.canvasFilter=n.supportCanvasFilter();try{var o=e||r.root;o||(o=r.isInnerRender&&i.innerContainer||i.root),o.insertAdjacentHTML("afterbegin",'<div class="xgplayer-dynamic-bg" data-index="'.concat(r.index,`"><canvas>
        </canvas><xgmask></xgmask></div>`)),this.root=o.children[0],this.canvas=this.find("canvas"),this.canvasFilter||(this.canvas.style.filter=r.filter,this.canvas.style.webkitFilter=r.filter),this.mask=this.find("xgmask"),r.addMask&&(this.mask.style.background=r.maskBg),this.canvasCtx=this.canvas.getContext("2d")}catch(l){fe.logError("plugin:DynamicBg",l)}}},{key:"reRender",value:function(e){var i=this.config.disable;if(!(!i&&!this.root)){this.stop();var r=this.root?this.root.parentElement:null;if(r!==e&&r.removeChild(this.root),!e){this.root=null;return}this.init(e),this.renderOnce();var o=this.config.startInterval;this._checkIfCanStart()&&this.start(0,o)}}},{key:"checkVideoIsSupport",value:function(e){if(!e)return null;var i=e&&e instanceof window.HTMLVideoElement?e:e.canvas?e.canvas:e.flyVideo?e.flyVideo:null;if(i&&!(re.browser==="safari"&&f.isMSE(i)))return i;var r=i?i.tagName.toLowerCase():"";return r==="canvas"||r==="img"?i:null}},{key:"renderByPoster",value:function(){var e=this.playerConfig.poster;if(e){var i=f.typeOf(e)==="String"?e:f.typeOf(e.poster)==="String"?e.poster:null;this.updateImg(i)}}},{key:"_checkIfCanStart",value:function(){var e=this.config.mode;return this._isLoaded&&!this.player.paused&&e!==At.FIRST_FRAME&&e!==At.POSTER}},{key:"renderOnce",value:function(){var e=this.player.video;if(!(!e.videoWidth||!e.videoHeight)){this.videoPI=parseInt(e.videoWidth/e.videoHeight*100,10);var i=this.checkVideoIsSupport(e);i&&this.update(i,this.videoPI)}}},{key:"updateImg",value:function(e){var i=this;if(e){var r=this.canvas.getBoundingClientRect(),o=r.width,l=r.height,u=new window.Image;u.onload=function(){if(!(!i.canvas||i.frameId||i.isStart)){i.canvas.height=l,i.canvas.width=o;var c=parseInt(o/l*100,10);i.update(u,c),u=null}},u.src=e}}},{key:"update",value:function(e,i){if(!(!this.canvas||!this.canvasCtx||!i))try{var r=this._pos,o=this.config,l=this.canvas.getBoundingClientRect(),u=l.width,c=l.height;if(u!==r.width||c!==r.height||r.pi!==i){var h=parseInt(u/c*100,10);r.pi=i,r.width!==u&&(r.width=this.canvas.width=u),r.height!==c&&(r.height=this.canvas.height=c);var d=c,v=u;h<i?v=parseInt(c*i/100,10):h>i&&(d=parseInt(u*100/i,10)),r.rwidth=v*o.multiple,r.rheight=d*o.multiple,r.x=(u-r.rwidth)/2,r.y=(c-r.rheight)/2}this.canvasFilter&&(this.canvasCtx.filter=o.filter),this.canvasCtx.drawImage(e,r.x,r.y,r.rwidth,r.rheight)}catch(g){fe.logError("plugin:DynamicBg",g)}}},{key:"destroy",value:function(){this.stop(),document.removeEventListener("visibilitychange",this.onVisibilitychange),this.canvasCtx=null,this.canvas=null}},{key:"render",value:function(){return""}}],[{key:"pluginName",get:function(){return"dynamicBg"}},{key:"defaultConfig",get:function(){return{isInnerRender:!1,disable:!0,index:-1,mode:"framerate",frameRate:10,filter:"blur(50px)",startFrameCount:2,startInterval:0,addMask:!0,multiple:1.2,maskBg:"rgba(0,0,0,0.7)"}}},{key:"isSupport",get:function(){return typeof Yt=="boolean"||(Yt=td()),Yt}},{key:"supportCanvasFilter",value:function(){return!(re.browser==="safari"||re.browser==="firefox")}}]),n})(pe),nd={LANG:"zh-cn",TEXT:{ERROR_TYPES:{network:{code:1,msg:""},mse:{code:2,msg:""},parse:{code:3,msg:""},format:{code:4,msg:""},decoder:{code:5,msg:""},runtime:{code:6,msg:""},timeout:{code:7,msg:""},other:{code:8,msg:""}},HAVE_NOTHING:"/",HAVE_METADATA:"/",HAVE_CURRENT_DATA:"/",HAVE_FUTURE_DATA:"",HAVE_ENOUGH_DATA:"",NETWORK_EMPTY:"/",NETWORK_IDLE:"/",NETWORK_LOADING:"",NETWORK_NO_SOURCE:"/",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"/",REPLAY:"",ERROR:"",PLAY_TIPS:"",PAUSE_TIPS:"",PLAYNEXT_TIPS:"",DOWNLOAD_TIPS:"",ROTATE_TIPS:"",RELOAD_TIPS:"",FULLSCREEN_TIPS:"",EXITFULLSCREEN_TIPS:"",CSSFULLSCREEN_TIPS:"",EXITCSSFULLSCREEN_TIPS:"",TEXTTRACK:"",PIP:"",SCREENSHOT:"",LIVE:"",OFF:"",OPEN:"",MINI_DRAG:"",MINISCREEN:"",REFRESH_TIPS:"",REFRESH:"",FORWARD:"",LIVE_TIP:""}},Nt="info",$i=Zr,rd=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"_recordUserActions",function(o){var l=t._getTime(),u=Object.assign({},o,{msg:o.msg||o.action});t._stats[Nt].push(Ee(Ee({type:"userAction"},l),{},{payload:u}))}),S(C(t),"_onReset",function(){t.reset()}),S(C(t),"_recordInfo",function(o){t.info(o)}),S(C(t),"_downloadStats",function(){var o=t.getStats(),l=new Blob([JSON.stringify(o)],{type:"application/json"}),u=window.URL.createObjectURL(l),c=document.createElement("a");c.style.display="none",c.href=u,c.download="player.txt",c.disabled=!1,c.click()}),t}return z(n,[{key:"_getTime",value:function(){return{timestamp:Date.now(),timeFormat:new Date().toISOString()}}},{key:"afterCreate",value:function(){this.reset(),this.on(si,this._recordUserActions),this.on($i.STATS_INFO,this._recordInfo),this.on($i.STATS_DOWNLOAD,this._downloadStats),this.on($i.STATS_RESET,this._onReset)}},{key:"destroy",value:function(){this.offAll()}},{key:"downloadStats",value:function(){this._downloadStats()}},{key:"info",value:function(e){e.profile?this._infoProfile(e):this._info(e)}},{key:"_info",value:function(e){var i=this._getTime();this._stats[Nt].push(Ee(Ee({},i),{},{payload:e}))}},{key:"_infoProfile",value:function(e){if(e&&e.startMs){var i=Date.now(),r=i-e.startMs,o=Ee({cat:"function",dur:r,name:e.name||e.msg,ph:"X",pid:0,tid:0,ts:e.startMs,profile:!0},e);this._info(o)}else console.warn("infoProfile need object data, include startMs")}},{key:"reset",value:function(){var e;this._stats=(e={},S(e,Nt,[]),S(e,"media",{}),e)}},{key:"getStats",value:function(){for(var e=this.player,i=e.media,r=[],o=0;o<i.buffered.length;o++)r.push({start:i.buffered.start(o),end:i.buffered.end(o)});var l={currentTime:i.currentTime,readyState:i.readyState,buffered:r,paused:i.paused,ended:i.ended};return this._stats.media=l,{raw:this._stats,timestat:this._getTimeStats(),profile:this._getProfile()}}},{key:"_getTimeStats",value:function(){var e=this._stats[Nt],i=e.map(function(r){var o=r.payload.data,l="";try{o instanceof Error?l=o.msg:o!==void 0&&(l=JSON.stringify(o))}catch(u){console.log("err",u)}return"[".concat(r.timeFormat,"] : ").concat(r.payload.msg," ").concat(l," ")});return i}},{key:"_getProfile",value:function(){var e={traceEvents:[]},i=this._stats[Nt];return i.forEach(function(r){r.payload.profile&&e.traceEvents.push(r.payload)}),e}}],[{key:"pluginName",get:function(){return"stats"}},{key:"defaultConfig",get:function(){return{}}}]),n})(ht),hs=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onGapJump",function(){var o=C(t),l=o.player,u=o.config;if(l.media.readyState!==HTMLMediaElement.HAVE_NOTHING){if(l.media.seeking){if(!t.seekingEventReceived)return}else t.seekingEventReceived=!1;if(!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){var c=l.media.buffered,h=u.smallGapLimit||.5,d=u.gapDetectionThreshold||.3,v=l.media.currentTime,g=t._getIndex(c,v,d);if(!(g===null||g===0)){console.log("GapJump  bufferRange ",c.start(g),c.end(g));var p=c.start(g)+.1,m=l.media.duration;if(!(p>m)){var E=p-v,I=E<=h;E<n.BROWSER_GAP_TOLERANCE||I&&(u.useGapJump!==!1&&(l.media.currentTime=t.isSafari?p+.1:p),t.player&&t.player.emit("detectGap"),console.log("gapJump gapIndex",g," isGapSamll:",I," currentTime:",l.media.currentTime," jumpSize:",v-l.media.currentTime),p!==.08&&l&&l.emit("log",{type:"oneevent",end_type:"gap",vid:l.config.vid,ext:{video_postion:Math.floor(p*1e3)}}))}}}}}),t}return z(n,[{key:"afterCreate",value:function(){var e=this,i=this.config.useGapJump;i!==!1&&(this.hasPlayed=!1,this.seekingEventReceived=!1,this.isSafari=/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),this.on(jt,this.onGapJump),this.on(Ue,function(){e.hasPlayed=!0}),this.on(pi,function(){e.seekingEventReceived=!0}))}},{key:"_getIndex",value:function(e,i,r){if(!e||!e.length||e.length===1&&e.end(0)-e.start(0)<1e-6)return null;for(var o=this._getBuffered(e),l=null,u=0;u<o.length;u++){var c=o[u];if(c.start>i&&(u===0||o[u-1].end-i<=r)){l=u;break}}return l}},{key:"_getBuffered",value:function(e){if(!e)return[];for(var i=[],r=0;r<e.length;r++)i.push({start:e.start(r),end:e.end(r)});return i}}],[{key:"pluginName",get:function(){return"gapJump"}},{key:"defaultConfig",get:function(){return{useGapJump:!1,smallGapLimit:.5,gapDetectionThreshold:.3}}}]),n})(pe);hs.BROWSER_GAP_TOLERANCE=.001;var sd=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"onWaiting",function(){var o=C(t),l=o.config;t.jumpCnt>l.jumpCntMax||t.timer||l.useWaitingTimeoutJump===!1||(t.timer=setTimeout(t.onJump,l.waitingTime*1e3))}),S(C(t),"onJump",function(){var o=C(t),l=o.player,u=o.config;if(clearTimeout(t.timer),t.timer=null,!(t.jumpCnt>u.jumpCntMax||u.useWaitingTimeoutJump===!1)&&!(l.media.paused&&l.media.currentTime!==0&&t.hasPlayed)){t.jumpSize=u.jumpSize*(t.jumpCnt+1),t.jumpCnt===u.jumpSize&&t.jumpSize<6&&(t.jumpSize=6);var c=l.currentTime+t.jumpSize,h=l.media.duration;c>h||(t.jumpCnt++,l.currentTime=c)}}),t}return z(n,[{key:"afterCreate",value:function(){var e=this,i=this.config,r=i.useWaitingTimeoutJump,o=i.jumpSize;r!==!1&&(this.hasPlayed=!1,this.jumpCnt=0,this.timer=null,this.jumpSize=o,this.on(jt,this.onWaiting),this.on([gn,Qe],function(){clearTimeout(e.timer),e.timer=null,e.jumpSize=e.config.jumpSize}),this.on(Ue,function(){e.hasPlayed=!0}))}}],[{key:"pluginName",get:function(){return"waitingTimeoutJump"}},{key:"defaultConfig",get:function(){return{useWaitingTimeoutJump:!1,waitingTime:15,jumpSize:2,jumpCntMax:4}}}]),n})(pe),Mt="cdn",Xt=["cdn"],ad=(function(a){q(n,a);var s=Z(n);function n(){var t;U(this,n);for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t=s.call.apply(s,[this].concat(i)),S(C(t),"getSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt;if(!t.speedListCache||!t.speedListCache[o]||t.speedListCache[o].length<=0)return 0;var l=0;return t.speedListCache[o].map(function(u){l+=u}),Math.floor(l/t.speedListCache[o].length)}),S(C(t),"startTimer",function(){f.isMSE(t.player.video)||(t.initSpeedList(),t.cnt=0,t.timer=setTimeout(t.testSpeed,t.config.testTimeStep))}),S(C(t),"initSpeedList",function(){t.speedListCache={},Xt.forEach(function(o){t.speedListCache[o]=[]})}),S(C(t),"_onRealSpeedChange",function(o){o.speed&&t.appendList(o.speed,o.type||Mt)}),S(C(t),"testSpeed",function(){if(clearTimeout(t.timer),t.timer=null,!(!t.player||!t.config.openSpeed)){var o=t.config,l=o.url,u=o.loadSize,c=o.testCnt,h=o.testTimeStep,d=l+(l.indexOf("?")<0?"?testst=":"&testst=")+Date.now();if(!(t.cnt>=c)){t.cnt++;try{var v=new Date().getTime(),g=null,p=new XMLHttpRequest;t.xhr=p,p.open("GET",d);var m={},E=Math.floor(Math.random()*10);m.Range="bytes="+E+"-"+(u+E),m&&Object.keys(m).forEach(function(I){p.setRequestHeader(I,m[I])}),p.onreadystatechange=function(){if(p.readyState===4){t.xhr=null,g=new Date().getTime();var I=p.getResponseHeader("Content-Length")/1024*8,P=Math.round(I*1e3/(g-v));t.appendList(P),t.timer=setTimeout(t.testSpeed,h)}},p.send()}catch(I){console.error(I)}}}}),S(C(t),"appendList",function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mt;if(!(!t.speedListCache||!t.speedListCache[l])){var u=t.config.saveSpeedMax;t.speedListCache[l].length>=u&&t.speedListCache[l].shift(),t.speedListCache[l].push(o);var c=C(t),h=c.player;h&&(l===Mt?h.realTimeSpeed=o:h[t.getSpeedName("realTime",l)]=o),t.updateSpeed(l)}}),S(C(t),"updateSpeed",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mt,l=t.getSpeed(o),u=C(t),c=u.player;if(c)if(o===Mt)(!c.avgSpeed||l!==c.avgSpeed)&&(c.avgSpeed=l,c.emit(Zi,{speed:l,realTimeSpeed:c.realTimeSpeed}));else{var h=t.getSpeedName("avg",o);(!c[h]||l!==c[h])&&(c[h]=l,c.emit(Zi,{speed:l,realTimeSpeed:c.realTimeSpeed}))}}),t}return z(n,[{key:"afterCreate",value:function(){var e=this.config,i=e.openSpeed,r=e.addSpeedTypeList;r?.length>0&&Xt.push.apply(Xt,We(r)),this.initSpeedList(),this.on("real_time_speed",this._onRealSpeedChange),this.timer=null,this.cnt=0,this.xhr=null,i&&this.on([it,ti],this.startTimer)}},{key:"getSpeedName",value:function(e,i){return e+"Speed"+i.toUpperCase()}},{key:"openSpeed",get:function(){return this.config.openSpeed},set:function(e){if(this.config.openSpeed=e,!e&&this.timer){clearTimeout(this.timer),this.timer=null;return}if(this.config.openSpeed){if(this.timer)return;this.timer=setTimeout(this.testSpeed,this.config.testTimeStep)}}},{key:"destroy",value:function(){var e=this;this.off("real_time_speed",this._onRealSpeedChange),this.off([it,ti],this.startTimer),Xt.forEach(function(i){e.speedListCache&&e.speedListCache[i]&&(e.speedListCache[i]=[])}),this.speedListCache&&(this.speedListCache={}),clearTimeout(this.timer),this.timer=null,this.xhr&&this.xhr.readyState!==4&&(this.xhr.cancel&&this.xhr.cancel(),this.xhr=null)}}],[{key:"pluginName",get:function(){return"testspeed"}},{key:"defaultConfig",get:function(){return{openSpeed:!1,testCnt:3,loadSize:200*1024,testTimeStep:3e3,url:"",saveSpeedMax:5,addSpeedTypeList:[]}}}]),n})(pe),od=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n,[{key:"afterCreate",value:function(){var e=this,i=this.player,r=this.config,o=i.media||i.video;if(this.timer=null,this._lastDecodedFrames=0,this._currentStuckCount=0,this._lastCheckPoint=null,this._payload=[],!r.disabled){var l=o.getVideoPlaybackQuality;l&&(this.on(Ue,function(){e._startTick()}),this.on(Rt,function(){e._stopTick()}),this.on(Tt,function(){e._stopTick()}),this.on(wt,function(){e._stopTick()}))}}},{key:"_startTick",value:function(){var e=this;this._stopTick(),this._timer=setTimeout(function(){e._checkDecodeFPS(),e._startTick()},this.config.tick)}},{key:"_stopTick",value:function(){clearTimeout(this._timer),this._timer=null}},{key:"_checkBuffer",value:function(e,i){for(var r=!1,o=[],l=0;l<i.length;l++){var u=i.start(l),c=i.end(l);if(o.push({start:u,end:c}),u<=e&&e<=c-1){r=!0;break}}return{enoughBuffer:r,buffers:o}}},{key:"_checkStuck",value:function(e,i,r,o){var l=this.player.media||this.player.video,u=document.hidden,c=l.paused,h=l.readyState,d=l.currentTime,v=l.buffered;if(!(u||c||h<4)){var g=this._checkBuffer(d,v),p=g.enoughBuffer,m=g.buffers;p&&(e<=this.config.reportFrame?(this._currentStuckCount++,this._payload.push({currentTime:d,buffers:m,curDecodedFrames:e,totalVideoFrames:i,droppedVideoFrames:r,checkInterval:o}),this._currentStuckCount>=this.config.stuckCount&&(this.emit(Jr,this._payload),this._reset())):this._reset())}}},{key:"_reset",value:function(){this._payload=[],this._currentStuckCount=0}},{key:"_checkDecodeFPS",value:function(){var e=this.player.media||this.player.video;if(e){var i=e.getVideoPlaybackQuality(),r=i.totalVideoFrames,o=i.droppedVideoFrames,l=performance.now();if(r&&this._lastCheckPoint){var u=r-this._lastDecodedFrames,c=l-this._lastCheckPoint;this._checkStuck(u,r,o,c)}this._lastDecodedFrames=r,this._lastCheckPoint=l}}},{key:"destroy",value:function(){this._stopTick()}}],[{key:"pluginName",get:function(){return"FpsDetect"}},{key:"defaultConfig",get:function(){return{disabled:!1,tick:1e3,stuckCount:3,reportFrame:0}}}]),n})(pe);Ot.use(nd);var ld=z(function a(s,n){var t,e,i;U(this,a);var r=n&&n.isMobileSimulateMode==="mobile",o=n.isLive,l=o?[]:[If,as,Qf,Zf,os],u=[].concat(l,[ss,rs,Af,Nf,Gf,Kf,Uf,zf,ls,Of]),c=[hf,ff,gf,xf,vf,Yf,Xf,Jf,_f];this.plugins=[rd,uf].concat(We(u),c,[hs,sd]);var h=r?"mobile":re.device;switch(h){case"pc":(t=this.plugins).push.apply(t,[cr,Fi,en,ad,od]);break;case"mobile":(e=this.plugins).push.apply(e,[Ef]);break;default:(i=this.plugins).push.apply(i,[cr,Fi,en])}(re.os.isIpad||h==="pc")&&this.plugins.push(id),re.os.isIpad&&this.plugins.push(Fi),this.ignores=[],this.i18n=[]}),Ae=(function(a){q(n,a);var s=Z(n);function n(){return U(this,n),s.apply(this,arguments)}return z(n)})(ki);S(Ae,"defaultPreset",ld);S(Ae,"Util",f);S(Ae,"Sniffer",re);S(Ae,"Errors",ei);S(Ae,"Events",Ih);S(Ae,"Plugin",pe);S(Ae,"BasePlugin",ht);S(Ae,"I18N",Ot);S(Ae,"STATE_CLASS",M);S(Ae,"InstManager",ns);S(Ae,"PlayIcon",ss);S(Ae,"TimeIcon",os);S(Ae,"Progress",as);S(Ae,"FullscreenIcon",rs);S(Ae,"CssFullscreenIcon",en);S(Ae,"VolumeIcon",ls);const ud={id:"mse"},cd=O({__name:"xgplayer",props:{url:{default:""},poster:{default:""}},setup(a){const s=a;return Le(()=>{new Ae({id:"mse",volume:0,lang:"zh",autoplay:!1,fluid:!0,controls:!0,leavePlayerTime:0,download:!0,keyShortcut:!0,url:s.url,poster:s.poster,start:{isShowPause:!0}})}),(n,t)=>(y(),w("div",ud))}}),hd=H(cd,[["__scopeId","data-v-32c1498d"]]),fd=/[a-zA-Z0-9_\u0392-\u03C9\u00C0-\u00FF\u0600-\u06FF\u0400-\u04FF]+|[\u4E00-\u9FFF\u3400-\u4DBF\uF900-\uFAFF\u3040-\u309F\uAC00-\uD7AF]+/g;function dd(a){const s=a.match(fd);let n=0;if(!s)return 0;for(let t=0;t<s.length;t+=1)s[t].charCodeAt(0)>=19968?n+=s[t].length:n+=1;return n}const gd={class:"word"},vd=O({__name:"ArticleMetadata",setup(a){const{page:s}=_t(),n=G(()=>new Date(s.value.lastUpdated)),t=le(0),e=le(0),i=G(()=>t.value/275*60),r=G(()=>{const u=e.value;return e.value<=10?u*13+u*(u-1)/2:175+(u-10)*3}),o=G(()=>Math.ceil((i.value+r.value)/60));function l(){document.querySelectorAll(".meta-des").forEach(d=>d.remove());const u=window.document.querySelector("#VPContent"),c=u?.querySelectorAll(".content-container .main img");e.value=c?.length||0;const h=u?.querySelector(".content-container .main")?.textContent||"";t.value=dd(h)}return Le(()=>{l()}),(u,c)=>(y(),w("div",gd,[T("p",null,[c[0]||(c[0]=T("svg",{t:"1724572866572",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18131",width:"16",height:"16"},[T("path",{d:"M168.021333 504.192A343.253333 343.253333 0 0 1 268.629333 268.8a342.229333 342.229333 0 0 1 243.285334-100.778667A341.504 341.504 0 0 1 755.029333 268.8c9.856 9.898667 19.2 20.394667 27.733334 31.402667l-60.16 46.976a8.021333 8.021333 0 0 0 2.986666 14.122666l175.701334 43.008a8.021333 8.021333 0 0 0 9.898666-7.68l0.810667-180.906666a7.936 7.936 0 0 0-12.885333-6.314667L842.666667 253.44a418.858667 418.858667 0 0 0-330.922667-161.493333c-229.12 0-415.488 183.594667-419.797333 411.818666a8.021333 8.021333 0 0 0 8.021333 8.192H160a7.978667 7.978667 0 0 0 8.021333-7.808zM923.946667 512H864a7.978667 7.978667 0 0 0-8.021333 7.808 341.632 341.632 0 0 1-26.88 125.994667 342.186667 342.186667 0 0 1-73.685334 109.397333 342.442667 342.442667 0 0 1-243.328 100.821333 342.229333 342.229333 0 0 1-270.976-132.224l60.16-46.976a8.021333 8.021333 0 0 0-2.986666-14.122666l-175.701334-43.008a8.021333 8.021333 0 0 0-9.898666 7.68l-0.682667 181.034666c0 6.698667 7.68 10.496 12.885333 6.314667L181.333333 770.56a419.072 419.072 0 0 0 330.922667 161.408c229.205333 0 415.488-183.722667 419.797333-411.818667a8.021333 8.021333 0 0 0-8.021333-8.192z",fill:"#8a8a8a","p-id":"18132"})],-1)),xe(" : "+se(n.value.toLocaleDateString())+" ",1),c[1]||(c[1]=T("svg",{t:"1724571760788",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6125",width:"16",height:"16"},[T("path",{d:"M204.8 0h477.866667l273.066666 273.066667v614.4c0 75.093333-61.44 136.533333-136.533333 136.533333H204.8c-75.093333 0-136.533333-61.44-136.533333-136.533333V136.533333C68.266667 61.44 129.706667 0 204.8 0z m307.2 607.573333l68.266667 191.146667c13.653333 27.306667 54.613333 27.306667 61.44 0l102.4-273.066667c6.826667-20.48 0-34.133333-20.48-40.96s-34.133333 0-40.96 13.653334l-68.266667 191.146666-68.266667-191.146666c-13.653333-27.306667-54.613333-27.306667-68.266666 0l-68.266667 191.146666-68.266667-191.146666c-6.826667-13.653333-27.306667-27.306667-47.786666-20.48s-27.306667 27.306667-20.48 47.786666l102.4 273.066667c13.653333 27.306667 54.613333 27.306667 61.44 0l75.093333-191.146667z",fill:"#777777","p-id":"6126"}),T("path",{d:"M682.666667 0l273.066666 273.066667h-204.8c-40.96 0-68.266667-27.306667-68.266666-68.266667V0z",fill:"#E0E0E0",opacity:".619","p-id":"6127"})],-1)),xe(" : "+se(t.value)+"  ",1),c[2]||(c[2]=T("svg",{t:"1724572797268",class:"icon",viewBox:"0 0 1060 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"15031",width:"16",height:"16"},[T("path",{d:"M556.726857 0.256A493.933714 493.933714 0 0 0 121.929143 258.998857L0 135.021714v350.390857h344.649143L196.205714 334.482286a406.820571 406.820571 0 1 1-15.908571 312.649143H68.937143A505.819429 505.819429 0 1 0 556.726857 0.256z m-79.542857 269.531429v274.907428l249.197714 150.966857 42.422857-70.070857-212.114285-129.389714V269.787429h-79.542857z",fill:"#8a8a8a","p-id":"15032"})],-1)),xe(" : "+se(o.value)+"  ",1)])]))}}),pd={class:"linkcard"},md=["href"],yd={class:"description"},_d={class:"logo"},kd=["src"],bd=O({__name:"Linkcard",props:{url:{default:""},title:{default:""},description:{default:""},logo:{default:""}},setup(a){const s=a;return(n,t)=>(y(),w("div",pd,[T("a",{href:s.url,target:"_blank"},[T("p",yd,[xe(se(s.title),1),t[0]||(t[0]=T("br",null,null,-1)),T("span",null,se(s.description),1)]),T("div",_d,[T("img",{alt:"logo",width:"70px",height:"70px",src:s.logo},null,8,kd)])],8,md)]))}}),Cd={__name:"MouseClick",setup(a){const s=le(null);let n=null,t=[],e=[];const i=["#FF1461","#18FF92","#5A87FF","#FBF38C"];function r(){const d=s.value;d.width=window.innerWidth*2,d.height=window.innerHeight*2,d.style.width=window.innerWidth+"px",d.style.height=window.innerHeight+"px",d.getContext("2d").scale(2,2)}function o(d,v){const g=Math.random()*Math.PI*2,p=2+Math.random()*3,m=4+Math.random()*8,E=i[Math.floor(Math.random()*i.length)];return{x:d,y:v,radius:m,color:E,speedX:Math.cos(g)*p,speedY:Math.sin(g)*p,life:100+Math.random()*100,currentLife:0,draw(I){I.beginPath(),I.arc(this.x,this.y,this.radius,0,Math.PI*2),I.fillStyle=this.color,I.fill()},update(){return this.x+=this.speedX,this.y+=this.speedY,this.currentLife++,this.radius*=.98,this.currentLife/this.life>.5&&(this.radius*=.95),this.currentLife<this.life}}}function l(d,v){const g=5+Math.random()*10;return{x:d,y:v,radius:g,color:"#FFF",maxRadius:80+Math.random()*80,lineWidth:6,alpha:.5,speed:1+Math.random(),draw(m){m.globalAlpha=this.alpha,m.beginPath(),m.arc(this.x,this.y,this.radius,0,Math.PI*2),m.lineWidth=this.lineWidth,m.strokeStyle=this.color,m.stroke(),m.globalAlpha=1},update(){return this.radius+=this.speed*2,this.alpha*=.97,this.lineWidth*=.98,this.radius<this.maxRadius&&this.alpha>.01}}}function u(d,v){const p=i[Math.floor(Math.random()*i.length)],m=50+Math.random()*40;return{x:d,y:v,radius:1,color:p,maxRadius:m,alpha:1,speed:1+Math.random(),draw(E){E.globalAlpha=this.alpha,E.beginPath(),E.arc(this.x,this.y,this.radius,0,Math.PI*2),E.fillStyle=this.color,E.fill(),E.globalAlpha=1},update(){return this.radius+=this.speed*3,this.alpha*=.96,this.radius<this.maxRadius&&this.alpha>.01}}}function c(){const d=s.value.getContext("2d");d.clearRect(0,0,s.value.width,s.value.height),t=t.filter(v=>(v.update(),v.draw(d),v.currentLife<v.life)),e=e.filter(v=>{const g=v.update();return v.draw(d),g}),n=requestAnimationFrame(c)}function h(d){const v=d.clientX||d.touches[0].clientX,g=d.clientY||d.touches[0].clientY;for(let p=0;p<20;p++)t.push(o(v,g));e.push(l(v,g)),e.push(u(v,g))}return Le(()=>{r();const d="ontouchstart"in window?"touchstart":"mousedown";window.addEventListener(d,h),window.addEventListener("resize",r),c()}),bt(()=>{const d="ontouchstart"in window?"touchstart":"mousedown";window.removeEventListener(d,h),window.removeEventListener("resize",r),n&&cancelAnimationFrame(n)}),(d,v)=>(y(),w("canvas",{ref_key:"canvas",ref:s,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},Td={__name:"MouseFollower",setup(a){const s=le(null);let n=null,t=[],e={x:globalThis?.innerWidth/2,y:globalThis?.innerHeight/2},i={x:globalThis?.innerWidth/2,y:globalThis?.innerHeight/2},r={x:globalThis?.innerWidth/2,y:globalThis?.innerHeight/2},o=null;class l{constructor(){this.reset()}reset(){this.angle=Math.random()*Math.PI*2,this.radius=Math.random()*40+25,this.speed=(Math.random()*2+2)*.01,this.size=Math.random()*3+1,this.hue=Math.random()*360,this.clockwise=Math.random()>.5,this.offsetX=(Math.random()-.5)*10,this.offsetY=(Math.random()-.5)*10,this.life=Math.random()*.5+.5,this.maxLife=this.life,this.trail=[],this.trailLength=Math.floor(Math.random()*3)+2}update(){this.angle+=this.speed*(this.clockwise?1:-1);const p=e.x+Math.cos(this.angle)*this.radius+this.offsetX,m=e.y+Math.sin(this.angle)*this.radius+this.offsetY;this.x||(this.x=p,this.y=m);const E=p-this.x,I=m-this.y;this.x+=E*.15,this.y+=I*.15,this.trail.unshift({x:this.x,y:this.y}),this.trail.length>this.trailLength&&this.trail.pop(),this.life-=.002,this.life<=0&&this.reset()}draw(){if(!n)return;const p=this.life/this.maxLife;if(this.trail.length>1){n.beginPath(),n.moveTo(this.trail[0].x,this.trail[0].y);for(let m=1;m<this.trail.length;m++){const E=this.trail[m];n.lineTo(E.x,E.y)}n.strokeStyle=`hsla(${this.hue}, 70%, 60%, ${p*.5})`,n.lineWidth=this.size,n.lineCap="round",n.stroke()}n.fillStyle=`hsla(${this.hue}, 70%, 60%, ${p})`,n.beginPath(),n.arc(this.x,this.y,this.size*.5,0,Math.PI*2),n.fill()}}function u(){const g=i.x-e.x,p=i.y-e.y,m=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)),E=Math.min(.15,.15/(1+m*.005));e.x+=g*E,e.y+=p*E,r.x=e.x,r.y=e.y}function c(g){const p=s.value.getBoundingClientRect();i.x=g.clientX-p.left,i.y=g.clientY-p.top}function h(){!n||!s.value||(n.clearRect(0,0,s.value.width,s.value.height),u(),t.length<25&&Math.random()<.1&&t.push(new l),t.forEach(g=>{g.update(),g.draw()}),o=requestAnimationFrame(h))}function d(){s.value&&(s.value.width=globalThis.innerWidth,s.value.height=globalThis.innerHeight)}function v(){t=[];const g=Math.floor(Math.random()*4)+12;for(let p=0;p<g;p++)t.push(new l)}return Le(()=>{typeof globalThis<"u"&&(n=s.value.getContext("2d"),d(),v(),globalThis.addEventListener("resize",d),globalThis.addEventListener("mousemove",c),h())}),bt(()=>{typeof globalThis<"u"&&(globalThis.removeEventListener("resize",d),globalThis.removeEventListener("mousemove",c),o&&cancelAnimationFrame(o))}),(g,p)=>(y(),w("canvas",{ref_key:"canvas",ref:s,style:{position:"fixed",left:"0",top:"0","pointer-events":"none","z-index":"999999"}},null,512))}},wd=H(Td,[["__scopeId","data-v-c0c780eb"]]),Ed={class:"back-top-container"},Sd={class:"progress-ring",viewBox:"0 0 100 100"},Pd=42,xd={__name:"backtotop",setup(a){const s=le(!1),n=le(0),t=G(()=>2*Math.PI*Pd);function e(){window.scrollTo({top:0,behavior:"smooth"})}function i(l,u=50){let c=null;return function(...h){c||(c=setTimeout(()=>{l.apply(this,h),c=null},u))}}const r=()=>{const{scrollY:l,innerHeight:u}=window,{scrollHeight:c}=document.documentElement,h=c-u;n.value=h>0?Math.min(l/h,1):0},o=i(()=>{const l=window.scrollY>100;s.value=l,r()});return Le(()=>{window.addEventListener("scroll",o),r()}),br(()=>{window.removeEventListener("scroll",o)}),(l,u)=>(y(),B(ci,{name:"fade"},{default:L(()=>[Ds(T("div",Ed,[(y(),w("svg",Sd,[u[1]||(u[1]=T("circle",{class:"progress-ring-background",cx:"50",cy:"50",r:"42"},null,-1)),T("circle",{class:"progress-ring-circle",cx:"50",cy:"50",r:"42",style:rn({"stroke-dashoffset":t.value-n.value*t.value})},null,4)])),T("div",{class:"vitepress-backTop-main",title:"",onClick:u[0]||(u[0]=c=>e())},[...u[2]||(u[2]=[T("svg",{class:"icon",viewBox:"0 0 1024 1024"},[T("path",{d:"M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z",fill:"#FFF"})],-1)])])],512),[[Os,s.value]])]),_:1}))}},Id=H(xd,[["__scopeId","data-v-38d59d63"]]),Ld={key:0,class:"notice-background",style:{display:"block"}},Ad={key:1,class:"notice"},Md=O({__name:"notice",setup(a){const s=le(!1);function n(){s.value=!1}return setTimeout(function(){s.value=!1},5e3),(t,e)=>(y(),w(ye,null,[s.value?(y(),w("div",Ld)):D("",!0),s.value?(y(),w("div",Ad,[e[0]||(e[0]=T("h3",{class:"notice-title"},"",-1)),e[1]||(e[1]=T("div",{class:"notice-describe"},[T("p",null,""),T("p",{class:"notice-domain"},[T("strong",null,[xe(" "),T("a",{href:"https://vitepress.yiov.top/layout.html#%E5%85%AC%E5%91%8A",target:"_blank"},"vitepress.yiov.top")])]),T("p",null,"QQ ******()")],-1)),T("div",{class:"notice-footer"},[T("div",{class:"notice-btn",onClick:n},"")])])):D("",!0)],64))}}),Dd=H(Md,[["__scopeId","data-v-df615186"]]),Od={class:"busuanzi"},Rd=O({__name:"bsz",setup(a){return(s,n)=>(y(),w("div",Od,[...n[0]||(n[0]=[xe("  ",-1),T("span",{id:"busuanzi_value_site_uv"},null,-1),xe("   ",-1),T("span",{id:"busuanzi_value_site_pv"},null,-1),xe("  ",-1)])]))}}),Nd=O({__name:"MyLayout",setup(a){const{isDark:s}=_t(),n=()=>"startViewTransition"in document&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches;return sn("toggle-appearance",async({clientX:t,clientY:e})=>{if(!n()){s.value=!s.value;return}const i=[`circle(0px at ${t}px ${e}px)`,`circle(${Math.hypot(Math.max(t,innerWidth-t),Math.max(e,innerHeight-e))}px at ${t}px ${e}px)`];await document.startViewTransition(async()=>{s.value=!s.value,await Vt()}).ready,document.documentElement.animate({clipPath:s.value?i.reverse():i},{duration:300,easing:"ease-in",pseudoElement:`::view-transition-${s.value?"old":"new"}(root)`})}),(t,e)=>(y(),B(k(Lr).Layout,Rs(Ns(t.$attrs)),{"doc-footer-before":L(()=>[F(Id)]),"layout-top":L(()=>[F(Dd),F(wd),F(Cd)]),"layout-bottom":L(()=>[F(Rd)]),_:1},16))}}),Fd={},Hd={id:"fluid-border"};function Bd(a,s){return y(),w("div",Hd,[...s[0]||(s[0]=[Fs('<div class="info custom-block"><p class="custom-block-title">INFO</p><p>INFO</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>TIP</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>WARNING</p></div><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>DANGER</p></div><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p>NOTE</p></div><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p>IMPORTANT</p></div><div class="caution custom-block github-alert"><p class="custom-block-title">CAUTION</p><p>CAUTION</p></div>',7)])])}const $d=H(Fd,[["render",Bd]]);var Vi,gr;function Vd(){if(gr)return Vi;gr=1;var a,s,n,t,e,i,r,o=!1,l=[];typeof document<"u"&&(t=function(c){return o||document.readyState==="interactive"||document.readyState==="complete"?c.call(document):l.push(function(){return c.call(this)}),this},i=function(){for(var c=0,h=l.length;c<h;c++)l[c].apply(document);l=[]},r=function(){o||(o=!0,i.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",r,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",r),window==window.top&&(clearInterval(e),e=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",r,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&r()}),window==window.top&&(e=setInterval(function(){try{o||document.documentElement.doScroll("left")}catch{return}r()},5)))),a={fetch:function(c,h){var d="BusuanziCallback_"+Math.floor(1099511627776*Math.random());c=c.replace("=BusuanziCallback","="+d),n=document.createElement("SCRIPT"),n.type="text/javascript",n.defer=!0,n.src=c,document.getElementsByTagName("HEAD")[0].appendChild(n),window[d]=this.evalCall(h)},evalCall:function(c){return function(h){t(function(){try{c(h),n&&n.parentElement&&n.parentElement.removeChild&&n.parentElement.removeChild(n)}catch(d){console.log(d),s.hides()}})}}};const u=()=>{s&&s.hides(),a.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(c){s.texts(c),s.shows()})};return s={bszs:["site_pv","page_pv","site_uv"],texts:function(c){this.bszs.map(function(h){var d=document.getElementById("busuanzi_value_"+h);d&&(d.innerHTML=c[h])})},hides:function(){this.bszs.map(function(c){var h=document.getElementById("busuanzi_container_"+c);h&&(h.style.display="none")})},shows:function(){this.bszs.map(function(c){var h=document.getElementById("busuanzi_container_"+c);h&&(h.style.display="inline")})}},typeof document<"u"&&u(),Vi={fetch:u},Vi}var Ui,vr;function Ud(){return vr||(vr=1,Ui=Vd()),Ui}var zd=Ud();const jd=gi(zd);let pt;const Kd={extends:Lr,enhanceApp({app:a,router:s}){a.component("MNavLinks",Kc),a.component("HomeUnderline",Zc),a.component("confetti",Qc),a.component("update",th),a.component("xgplayer",hd),a.component("ArticleMetadata",vd),a.component("Linkcard",bd),a.component("fluidborder",$d),Ct&&(wi.NProgress.configure({showSpinner:!1}),s.onBeforeRouteChange=()=>{wi.NProgress.start()},s.onAfterRouteChange=()=>{jd.fetch(),wi.NProgress.done()}),typeof window<"u"&&je(()=>s.route.data.relativePath,()=>Wd(location.pathname==="/"),{immediate:!0})},Layout:()=>{const a={},{frontmatter:s}=_t();return s.value?.layoutClass&&(a.class=s.value.layoutClass),Cr(Nd,a)},setup(){const a=$t(),s=()=>{xc(".main img",{background:"var(--vp-c-bg)"})};Le(()=>{s(),document.querySelectorAll(".rendered-md img").forEach(t=>{const e=t.getAttribute("src");if(e){const i=new window.Image;i.src=e}})}),je(()=>a.path,()=>Vt(()=>s()));const{frontmatter:n}=_t();Tc({repo:"yolk23321/yolk23321.github.io",repoId:"R_kgDOP5tN1g",category:"General",categoryId:"DIC_kwDOP5tN1s4CwEuS",mapping:"pathname",inputPosition:"bottom",lang:"zh-CN"},{frontmatter:n,route:a},!0)}};function Wd(a){if(a){if(pt)return;pt=document.createElement("style"),pt.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(pt)}else{if(!pt)return;pt.remove(),pt=void 0}}export{Kd as R,gi as g,ae as u};
